testscheduler scheduler new testscheduler publishsubject integer source publishsubject create observable timed integer m source timestamp scheduler m subscribe observer source onnext 1 source onnext 2 scheduler advancetimeby 100 timeunit milliseconds scheduler advancetimeby 100 timeunit milliseconds source onnext 3 inorder inorder inorder observer inorder verify observer times 1 onnext new timed 1 0 timeunit milliseconds inorder verify observer times 1 onnext new timed 2 0 timeunit milliseconds inorder verify observer times 1 onnext new timed 3 200 timeunit milliseconds verify observer never onerror any throwable class verify observer never oncomplete 
final testscheduler scheduler new testscheduler rxjavaplugins new function scheduler scheduler override public scheduler apply scheduler v throws exception return scheduler try observable range 1 5 timestamp map new function timed integer long override public long apply timed integer v throws exception return v time test assertresult 0l 0l 0l 0l 0l finally rxjavaplugins reset 
final testscheduler scheduler new testscheduler rxjavaplugins new function scheduler scheduler override public scheduler apply scheduler v throws exception return scheduler try observable range 1 5 timestamp timeunit seconds map new function timed integer long override public long apply timed integer v throws exception return v time test assertresult 0l 0l 0l 0l 0l finally rxjavaplugins reset 
scheduler new testscheduler innerscheduler scheduler createworker 
final list string list new arraylist final list list string lists new arraylist observable string source observable unsafecreate new observablesource string override public void subscribe observer super string observer observer onsubscribe disposable empty push observer one 10 push observer two 90 push observer three 110 push observer four 190 push observer five 210 complete observer 250 observable observable string windowed source window 100 timeunit milliseconds scheduler 2 windowed subscribe observewindow list lists scheduler advancetimeto 95 timeunit milliseconds assertequals 1 lists size assertequals lists get 0 list one two scheduler advancetimeto 195 timeunit milliseconds assertequals 3 lists size asserttrue lists get 1 isempty assertequals lists get 2 list three four scheduler advancetimeto 300 timeunit milliseconds assertequals 5 lists size asserttrue lists get 3 isempty assertequals lists get 4 list five 
final list string list new arraylist final list list string lists new arraylist observable string source observable unsafecreate new observablesource string override public void subscribe observer super string observer observer onsubscribe disposable empty push observer one 98 push observer two 99 push observer three 99 push observer four 101 push observer five 102 complete observer 150 observable observable string windowed source window 100 timeunit milliseconds scheduler windowed subscribe observewindow list lists scheduler advancetimeto 101 timeunit milliseconds assertequals 1 lists size assertequals lists get 0 list one two three scheduler advancetimeto 201 timeunit milliseconds assertequals 2 lists size assertequals lists get 1 list four five 
return new consumer observable t override public void accept observable t stringobservable stringobservable subscribe new defaultobserver t override public void oncomplete lists add new arraylist list list clear override public void onerror throwable e assert fail e getmessage override public void onnext t args list add args 
observable observable integer source observable range 1 10 window 1 timeunit minutes scheduler 3 final list integer list new arraylist final list list integer lists new arraylist source subscribe observewindow list lists assertequals 4 lists size assertequals 3 lists get 0 size assertequals arrays aslist 1 2 3 lists get 0 assertequals 3 lists get 1 size assertequals arrays aslist 4 5 6 lists get 1 assertequals 3 lists get 2 size assertequals arrays aslist 7 8 9 lists get 2 assertequals 1 lists get 3 size assertequals arrays aslist 10 lists get 3 
testobserver integer to new testobserver final atomicinteger wip new atomicinteger final int indicator hotstream window 300 timeunit milliseconds take 10 dooncomplete new action override public void run system out println main done flatmap new function observable integer observable integer override public observable integer apply observable integer w return w startwithitem indicator dooncomplete new action override public void run system out println inner done wip incrementandget doonnext new consumer integer override public void accept integer pv system out println pv subscribe to to awaitdone 5 timeunit seconds to assertcomplete assert asserttrue to values size 0 
observable just 1 window 1 1 timeunit minutes flatmap functions observable integer identity test awaitdone 5 timeunit seconds assertresult 1 
observable just 1 window 1 1 timeunit minutes schedulers io flatmap functions observable integer identity test awaitdone 5 timeunit seconds assertresult 1 
observable range 1 10 window 1 1 timeunit minutes schedulers io 2 flatmap functions observable integer identity test awaitdone 5 timeunit seconds assertresult 1 2 3 4 5 6 7 8 9 10 
observable range 1 10 window 1 timeunit minutes 20 flatmap functions observable integer identity test awaitdone 5 timeunit seconds assertresult 1 2 3 4 5 6 7 8 9 10 
observable range 1 10 window 1 timeunit minutes 20 true flatmap functions observable integer identity true test awaitdone 5 timeunit seconds assertresult 1 2 3 4 5 6 7 8 9 10 
try observable just 1 window 99 1 timeunit seconds fail should have thrown catch ex assertequals timespan 0 required but it was 99 ex getmessage 
observable just 1 window 2 1 timeunit minutes schedulers single flatmap functions observable integer identity test awaitdone 5 timeunit seconds assertresult 1 
observable just 1 window 1 2 timeunit minutes schedulers single flatmap functions observable integer identity test awaitdone 5 timeunit seconds assertresult 1 
testscheduler scheduler new testscheduler publishsubject integer ps publishsubject create testobserver integer to ps window 1 2 timeunit seconds scheduler flatmap functions observable integer identity test ps onnext 1 ps onnext 2 scheduler advancetimeby 1 timeunit seconds ps onnext 3 ps onnext 4 scheduler advancetimeby 1 timeunit seconds ps onnext 5 ps onnext 6 scheduler advancetimeby 1 timeunit seconds ps onnext 7 ps oncomplete to assertresult 1 2 5 6 
testscheduler scheduler new testscheduler publishsubject integer ps publishsubject create testobserver integer to ps window 2 1 timeunit seconds scheduler flatmap functions observable integer identity test ps onnext 1 ps onnext 2 scheduler advancetimeby 1 timeunit seconds ps onnext 3 ps onnext 4 scheduler advancetimeby 1 timeunit seconds ps onnext 5 ps onnext 6 scheduler advancetimeby 1 timeunit seconds ps onnext 7 ps oncomplete to assertresult 1 2 3 3 4 4 5 5 6 6 7 7 
testscheduler scheduler new testscheduler publishsubject integer ps publishsubject create testobserver integer to ps window 1 1 timeunit seconds scheduler flatmap functions observable integer identity test ps onerror new testexception to assertfailure testexception class 
testscheduler scheduler new testscheduler publishsubject integer ps publishsubject create testobserver integer to ps window 2 1 timeunit seconds scheduler flatmap functions observable integer identity test ps onerror new testexception to assertfailure testexception class 
testscheduler scheduler new testscheduler publishsubject integer ps publishsubject create testobserver integer to ps window 1 2 timeunit seconds scheduler flatmap functions observable integer identity test ps onerror new testexception to assertfailure testexception class 
testhelper checkdisposed observable range 1 5 window 1 timeunit days schedulers single testhelper checkdisposed observable range 1 5 window 2 1 timeunit days schedulers single testhelper checkdisposed observable range 1 5 window 1 2 timeunit days schedulers single testhelper checkdisposed observable never window 1 timeunit days schedulers single 2 true 
observable range 1 5 window 1 timeunit days schedulers single 2 true flatmap functions observable integer identity test assertresult 1 2 3 4 5 
observable error new testexception window 1 timeunit days schedulers single 2 true to testhelper observable object testconsumer assertsubscribed asserterror testexception class assertnotcomplete 
observable intervalrange 1 1000 1 1 timeunit milliseconds window 1 timeunit milliseconds schedulers single 2 true flatmap functions observable long identity take 500 to testhelper long testconsumer awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 500 assertnoerrors assertcomplete 
testscheduler scheduler new testscheduler final subject integer ps publishsubject integer create testobserver integer to new testobserver integer override public void onnext integer t super onnext t if t 1 ps onnext 2 ps oncomplete ps window 1 timeunit milliseconds scheduler flatmap new function observable integer observablesource integer override public observablesource integer apply observable integer v throws exception return v subscribe to ps onnext 1 to awaitdone 1 timeunit seconds assertresult 1 2 
testscheduler scheduler new testscheduler final subject integer ps publishsubject integer create testobserver integer to new testobserver integer override public void onnext integer t super onnext t if t 1 ps onnext 2 ps oncomplete ps window 1 timeunit milliseconds scheduler 10 true flatmap new function observable integer observablesource integer override public observablesource integer apply observable integer v throws exception return v subscribe to ps onnext 1 to awaitdone 1 timeunit seconds assertresult 1 2 
testscheduler scheduler new testscheduler final subject integer ps publishsubject integer create testobserver integer to new testobserver integer override public void onnext integer t super onnext t if t 1 ps onnext 2 ps oncomplete ps window 1 timeunit milliseconds scheduler 2 true flatmap new function observable integer observablesource integer override public observablesource integer apply observable integer v throws exception return v subscribe to ps onnext 1 to awaitdone 1 timeunit seconds assertresult 1 2 
testscheduler scheduler new testscheduler final subject integer ps publishsubject integer create testobserver integer to new testobserver integer override public void onnext integer t super onnext t if t 1 ps onnext 2 ps oncomplete ps window 1 2 timeunit milliseconds scheduler flatmap new function observable integer observablesource integer override public observablesource integer apply observable integer v throws exception return v subscribe to ps onnext 1 to awaitdone 1 timeunit seconds assertresult 1 2 
testscheduler scheduler new testscheduler subject integer ps publishsubject integer create testobserver observable integer to ps window 5 timeunit milliseconds scheduler 100 test assertvaluecount 1 scheduler advancetimeby 5 timeunit milliseconds to assertvaluecount 2 assertnoerrors assertnotcomplete to values get 0 test assertresult 
testscheduler scheduler new testscheduler subject integer ps publishsubject integer create testobserver observable integer to ps window 5 timeunit milliseconds scheduler long max value false test scheduler advancetimeby 100 timeunit milliseconds to assertvaluecount 21 assertnoerrors assertnotcomplete 
testscheduler scheduler new testscheduler subject integer ps publishsubject integer create testobserver observable integer to ps window 5 timeunit milliseconds scheduler long max value true test scheduler advancetimeby 100 timeunit milliseconds to assertvaluecount 21 assertnoerrors assertnotcomplete 
testscheduler scheduler new testscheduler subject integer ps publishsubject integer create testobserver observable integer to ps window 5 timeunit milliseconds scheduler 5 false test scheduler advancetimeby 100 timeunit milliseconds to assertvaluecount 21 assertnoerrors assertnotcomplete 
testscheduler scheduler new testscheduler subject integer ps publishsubject integer create testobserver observable integer to ps window 5 timeunit milliseconds scheduler 5 true test scheduler advancetimeby 100 timeunit milliseconds to assertvaluecount 21 assertnoerrors assertnotcomplete 
testscheduler scheduler new testscheduler subject integer ps publishsubject integer create testobserver observable integer to ps window 5 timeunit milliseconds scheduler 2 true test ps onnext 1 ps onnext 2 scheduler advancetimeby 100 timeunit milliseconds to assertvaluecount 22 assertnoerrors assertnotcomplete 
testscheduler scheduler new testscheduler subject integer ps publishsubject integer create testobserver observable integer to ps window 5 timeunit milliseconds scheduler 5 true test ps onnext 1 ps onnext 2 scheduler advancetimeby 5 timeunit milliseconds ps onnext 3 ps onnext 4 ps onnext 5 ps onnext 6 to assertvaluecount 2 assertnoerrors assertnotcomplete 
final atomicboolean isinterrupted new atomicboolean final publishsubject integer ps publishsubject create final countdownlatch doonnextdone new countdownlatch 1 final countdownlatch new countdownlatch 1 ps window 100 timeunit milliseconds doonnext new consumer observable integer int count override public void accept observable integer v throws exception system out println thread currentthread if count 1 countdown try thread sleep 200 isinterrupted set thread interrupted catch interruptedexception ex isinterrupted set true doonnextdone countdown test ps onnext 1 asserttrue await 5 timeunit seconds ps oncomplete asserttrue doonnextdone await 5 timeunit seconds assertfalse the doonnext got interrupted isinterrupted get 
final atomicboolean isinterrupted new atomicboolean final publishsubject integer ps publishsubject create final countdownlatch doonnextdone new countdownlatch 1 final countdownlatch new countdownlatch 1 ps window 100 timeunit milliseconds doonnext new consumer observable integer int count override public void accept observable integer v throws exception system out println thread currentthread if count 1 countdown try thread sleep 200 isinterrupted set thread interrupted catch interruptedexception ex isinterrupted set true doonnextdone countdown test ps onnext 1 asserttrue await 5 timeunit seconds ps onerror new testexception asserttrue doonnextdone await 5 timeunit seconds assertfalse the doonnext got interrupted isinterrupted get 
final atomicboolean isinterrupted new atomicboolean final publishsubject integer ps publishsubject create final countdownlatch doonnextdone new countdownlatch 1 final countdownlatch new countdownlatch 1 ps window 100 timeunit milliseconds 10 doonnext new consumer observable integer int count override public void accept observable integer v throws exception system out println thread currentthread if count 1 countdown try thread sleep 200 isinterrupted set thread interrupted catch interruptedexception ex isinterrupted set true doonnextdone countdown test ps onnext 1 asserttrue await 5 timeunit seconds ps oncomplete asserttrue doonnextdone await 5 timeunit seconds assertfalse the doonnext got interrupted isinterrupted get 
final atomicboolean isinterrupted new atomicboolean final publishsubject integer ps publishsubject create final countdownlatch doonnextdone new countdownlatch 1 final countdownlatch new countdownlatch 1 ps window 100 timeunit milliseconds 10 doonnext new consumer observable integer int count override public void accept observable integer v throws exception system out println thread currentthread if count 1 countdown try thread sleep 200 isinterrupted set thread interrupted catch interruptedexception ex isinterrupted set true doonnextdone countdown test ps onnext 1 asserttrue await 5 timeunit seconds ps onerror new testexception asserttrue doonnextdone await 5 timeunit seconds assertfalse the doonnext got interrupted isinterrupted get 
final atomicboolean isinterrupted new atomicboolean final publishsubject integer ps publishsubject create final countdownlatch doonnextdone new countdownlatch 1 final countdownlatch new countdownlatch 1 ps window 90 100 timeunit milliseconds doonnext new consumer observable integer int count override public void accept observable integer v throws exception system out println thread currentthread if count 1 countdown try thread sleep 200 isinterrupted set thread interrupted catch interruptedexception ex isinterrupted set true doonnextdone countdown test ps onnext 1 asserttrue await 5 timeunit seconds ps oncomplete asserttrue doonnextdone await 5 timeunit seconds assertfalse the doonnext got interrupted isinterrupted get 
final atomicboolean isinterrupted new atomicboolean final publishsubject integer ps publishsubject create final countdownlatch doonnextdone new countdownlatch 1 final countdownlatch new countdownlatch 1 ps window 90 100 timeunit milliseconds doonnext new consumer observable integer int count override public void accept observable integer v throws exception system out println thread currentthread if count 1 countdown try thread sleep 200 isinterrupted set thread interrupted catch interruptedexception ex isinterrupted set true doonnextdone countdown test ps onnext 1 asserttrue await 5 timeunit seconds ps onerror new testexception asserttrue doonnextdone await 5 timeunit seconds assertfalse the doonnext got interrupted isinterrupted get 
publishsubject integer ps publishsubject create testobserver integer to ps window 10 timeunit minutes take 1 flatmap new function observable integer observable integer override public observable integer apply observable integer w throws throwable return w take 1 test asserttrue ps hasobservers ps onnext 1 to assertresult 1 assertfalse subject still has observers ps hasobservers 
publishsubject integer ps publishsubject create final atomicreference observable integer inner new atomicreference testobserver observable integer to ps window 10 timeunit minutes take 1 doonnext new consumer observable integer override public void accept observable integer v throws throwable inner set v test assertfalse subject still has observers ps hasobservers to assertvaluecount 1 assertnoerrors assertcomplete inner get test assertresult 
publishsubject integer ps publishsubject create testobserver integer to ps window 10 timeunit minutes 100 take 1 flatmap new function observable integer observable integer override public observable integer apply observable integer w throws throwable return w take 1 test asserttrue ps hasobservers ps onnext 1 to assertresult 1 assertfalse subject still has observers ps hasobservers 
publishsubject integer ps publishsubject create final atomicreference observable integer inner new atomicreference testobserver observable integer to ps window 10 timeunit minutes 100 take 1 doonnext new consumer observable integer override public void accept observable integer v throws throwable inner set v test assertfalse subject still has observers ps hasobservers to assertvaluecount 1 assertnoerrors assertcomplete inner get test assertresult 
publishsubject integer ps publishsubject create testobserver integer to ps window 10 15 timeunit minutes take 1 flatmap new function observable integer observable integer override public observable integer apply observable integer w throws throwable return w take 1 test asserttrue ps hasobservers ps onnext 1 to assertresult 1 assertfalse subject still has observers ps hasobservers 
publishsubject integer ps publishsubject create final atomicreference observable integer inner new atomicreference testobserver observable integer to ps window 10 15 timeunit minutes take 1 doonnext new consumer observable integer override public void accept observable integer v throws throwable inner set v test assertfalse subject still has observers ps hasobservers to assertvaluecount 1 assertnoerrors assertcomplete inner get test assertresult 
testhelper o o window 1 timeunit seconds 
for int i 0 i testhelper race default loops i testscheduler scheduler new testscheduler publishsubject integer ps publishsubject create testobserver observable integer to ps window 1 timeunit minutes scheduler 1 test testhelper race ps onnext 1 to dispose 
observable range 1 10 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just v test assertresult 1 2 3 4 5 6 7 8 9 10 
observable range 1 10 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just v true test assertresult 1 2 3 4 5 6 7 8 9 10 
testobserverex integer to observable range 1 10 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just v subscribeon schedulers computation to testhelper integer testconsumer awaitdone 5 timeunit seconds assertsubscribed assertnoerrors assertcomplete testhelper assertvalueset to 1 2 3 4 5 6 7 8 9 10 
publishsubject integer ps publishsubject create testobserver integer to ps flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception throw new testexception test asserttrue ps hasobservers ps onnext 1 to assertfailure testexception class assertfalse ps hasobservers 
publishsubject integer ps publishsubject create testobserver integer to ps flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return null test asserttrue ps hasobservers ps onnext 1 to assertfailure nullpointerexception class assertfalse ps hasobservers 
testobserverex integer to observable range 1 10 concatwith observable integer error new testexception flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single error new testexception true to testhelper integer testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist to errors get 0 for int i 0 i 11 i testhelper asserterror errors i testexception class 
testobserverex integer to observable range 1 10 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just v subscribeon schedulers computation take 2 to testhelper integer testconsumer awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 2 assertnoerrors assertcomplete testhelper assertvalueset to 1 2 3 4 5 6 7 8 9 10 
observable range 1 10 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just v take 2 test assertresult 1 2 
observable fromarray new string 1 a 2 flatmapsingle new function string singlesource integer override public singlesource integer apply final string s throws return single fromcallable new callable integer override public integer call throws return integer valueof s test assertfailure class 1 
observable range 1 1000 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just 1 subscribeon schedulers computation take 500 to testhelper integer testconsumer awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 500 assertnoerrors assertcomplete 
final publishsubject integer ps publishsubject create testobserver integer to observable range 1 2 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception if v 2 return ps singleorerror return single error new testexception true test ps onnext 1 ps oncomplete to assertfailure testexception class 1 
testhelper checkdisposed publishsubject integer create flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single integer just 1 
publishsubject integer ps publishsubject create testobserver integer to observable just 1 flatmapsingle functions justfunction ps singleorerror test ps onnext 2 ps oncomplete to assertresult 2 
testhelper new function observable object observablesource integer override public observablesource integer apply observable object f throws exception return f flatmapsingle functions justfunction single just 2 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onerror new testexception first observer onerror new testexception second flatmapsingle functions justfunction single just 2 to testhelper integer testconsumer testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try observable just 1 flatmapsingle functions justfunction new single integer override protected void subscribeactual singleobserver super integer observer observer onsubscribe disposable empty observer onerror new testexception first observer onerror new testexception second to testhelper integer testconsumer testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
final publishsubject integer ps1 publishsubject create final publishsubject integer ps2 publishsubject create testobserver integer to new testobserver integer override public void onnext integer t super onnext t if t 1 ps2 onnext 2 ps2 oncomplete observable just ps1 ps2 flatmapsingle new function publishsubject integer singlesource integer override public singlesource integer apply publishsubject integer v throws exception return v singleorerror subscribe to ps1 onnext 1 ps1 oncomplete to assertresult 1 2 
final testobserver object to new testobserver observable just 1 flatmapsingle new function integer singlesource object override public singlesource object apply integer v throws exception return new single object override protected void subscribeactual singleobserver super object observer observer onsubscribe disposable empty assertfalse disposable observer isdisposed to dispose asserttrue disposable observer isdisposed subscribe to to assertempty 
testhelper new observableconverter integer observable integer override public observable integer apply observable integer upstream return upstream flatmapsingle new function integer single integer override public single integer apply integer v throws throwable return single just v hide 
testhelper new observableconverter integer observable integer override public observable integer apply observable integer upstream return upstream flatmapsingle new function integer single integer override public single integer apply integer v throws throwable return single just v hide true 
testexception ex new testexception for int i 0 i testhelper race default loops i publishsubject integer ps1 publishsubject create singlesubject integer ps2 singlesubject create testobserver integer to ps1 flatmapsingle v ps2 test ps1 onnext 1 testhelper race ps1 oncomplete ps2 onerror ex to assertfailure testexception class 
for int i 0 i testhelper race default loops i publishsubject integer ps1 publishsubject create testobserver integer to new testobserver countdownlatch cdl new countdownlatch 1 ps1 flatmapsingle v testhelper raceother to dispose cdl return single just 1 subscribe to ps1 onnext 1 cdl await 
singlesubject integer ss1 singlesubject create singlesubject integer ss2 singlesubject create testobserver integer to new testobserver observable just 1 2 flatmapsingle v v 1 ss1 ss2 doonnext v if v 1 ss2 onsuccess 2 to dispose subscribe to ss1 onsuccess 1 to assertvaluesonly 1 
observable fromfuture observable never tofuture 100 timeunit milliseconds subscribeon schedulers io test awaitdone 5 timeunit seconds assertfailure timeoutexception class 
observable frompublisher flowable just 1 test assertresult 1 
observable just 1 2 3 4 5 6 7 8 9 10 test assertresult 1 2 3 4 5 6 7 8 9 10 
assertsame observable empty observable fromarray 
asserttrue observable fromarray 1 instanceof scalarsupplier 
testhelper checkdisposed flowable just 1 toobservable 
testhelper new function flowable object observablesource object override public observablesource object apply flowable object f throws exception return f toobservable 
testobserverex integer to new testobserverex queuefuseable async observable fromarray 1 2 3 subscribe to to assertfusionmode queuefuseable none assertresult 1 2 3 
observable range 1 5 toflowable backpressurestrategy buffer test 2l assertvalues 1 2 assertnoerrors assertnotcomplete 
observable range 1 5 toflowable backpressurestrategy drop test 1 assertresult 1 
testsubscriber integer ts observable range 1 5 toflowable backpressurestrategy latest test 0 ts request 1 ts assertresult 5 
observable range 1 5 toflowable backpressurestrategy error test 1 assertfailure class 1 
observable range 1 5 toflowable backpressurestrategy error test 5 assertresult 1 2 3 4 5 
testsubscriber integer ts observable range 1 5 toflowable backpressurestrategy missing test 0 ts request 2 ts assertresult 1 2 3 4 5 
maybe integer last observable just 1 2 3 lastelement assertequals 3 last blockingget intvalue 
maybe last observable empty lastelement assertnull last blockingget 
maybe integer last observable just 1 2 3 lastelement assertequals 3 last blockingget intvalue assertequals 3 last blockingget intvalue 
observable just 1 2 3 lastelement 
maybe integer o observable just 1 2 3 lastelement maybeobserver integer observer testhelper mockmaybeobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 3 inorder 
maybe integer o observable just 1 lastelement maybeobserver integer observer testhelper mockmaybeobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 1 inorder 
maybe integer o observable integer empty lastelement maybeobserver integer observer testhelper mockmaybeobserver o subscribe observer inorder inorder inorder observer inorder verify observer oncomplete inorder verify observer never onerror any throwable class inorder 
maybe integer o observable just 1 2 3 4 5 6 filter new predicate integer override public boolean test integer t1 return t1 2 0 lastelement maybeobserver integer observer testhelper mockmaybeobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 6 inorder 
maybe integer o observable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 lastelement maybeobserver integer observer testhelper mockmaybeobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 2 inorder 
maybe integer o observable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 lastelement maybeobserver integer observer testhelper mockmaybeobserver o subscribe observer inorder inorder inorder observer inorder verify observer oncomplete inorder verify observer never onerror any throwable class inorder 
single integer o observable just 1 2 3 last 4 singleobserver integer observer testhelper mocksingleobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 3 inorder 
single integer o observable just 1 last 2 singleobserver integer observer testhelper mocksingleobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 1 inorder 
single integer o observable integer empty last 1 singleobserver integer observer testhelper mocksingleobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 1 inorder 
single integer o observable just 1 2 3 4 5 6 filter new predicate integer override public boolean test integer t1 return t1 2 0 last 8 singleobserver integer observer testhelper mocksingleobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 6 inorder 
single integer o observable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 last 4 singleobserver integer observer testhelper mocksingleobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 2 inorder 
single integer o observable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 last 2 singleobserver integer observer testhelper mocksingleobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 2 inorder 
observable empty lastorerror test assertnovalues asserterror class 
observable just 1 lastorerror test assertnoerrors assertvalue 1 
observable just 1 2 3 lastorerror test assertnoerrors assertvalue 3 
observable error new runtimeexception error lastorerror to testhelper testconsumer assertnovalues asserterrormessage error asserterror runtimeexception class 
testhelper checkdisposed observable never lastelement toobservable testhelper checkdisposed observable never lastelement testhelper checkdisposed observable just 1 lastorerror toobservable testhelper checkdisposed observable just 1 lastorerror testhelper checkdisposed observable just 1 last 2 toobservable testhelper checkdisposed observable just 1 last 2 
testhelper new function observable object maybesource object override public maybesource object apply observable object o throws exception return o lastelement testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return o lastelement toobservable testhelper new function observable object singlesource object override public singlesource object apply observable object o throws exception return o lastorerror testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return o lastorerror toobservable testhelper new function observable object singlesource object override public singlesource object apply observable object o throws exception return o last 2 testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return o last 2 toobservable 
observable error new testexception lastelement test assertfailure testexception class 
observable error new testexception lastorerror toobservable test assertfailure testexception class 
observable empty lastorerror toobservable test assertfailure class 
final testobserver integer to new testobserver observable just 1 repeatwhen new function observable object observablesource object override public observablesource object apply observable object o throws exception return o map new function object object int count override public object apply object v throws exception if count 1 to dispose return v subscribe to 
observable just 1 retrywhen new function observable throwable observablesource object override public observablesource object apply observable throwable v throws exception throw new testexception test assertfailure testexception class 
objectobserver testhelper mockobserver singleobserver testhelper mocksingleobserver 
observable string source observable just a bb ccc observable map integer string mapped source tomap lengthfunc toobservable map integer string expected new hashmap expected put 1 a expected put 2 bb expected put 3 ccc expected put 4 mapped subscribe objectobserver verify objectobserver never onerror any throwable class verify objectobserver times 1 onnext expected verify objectobserver times 1 oncomplete 
observable string source observable just a bb ccc observable map integer string mapped source tomap lengthfunc duplicate toobservable map integer string expected new hashmap expected put 1 aa expected put 2 expected put 3 expected put 4 mapped subscribe objectobserver verify objectobserver never onerror any throwable class verify objectobserver times 1 onnext expected verify objectobserver times 1 oncomplete 
observable string source observable just a bb ccc function string integer lengthfuncerr new function string integer override public integer apply string t1 if bb equals t1 throw new runtimeexception forced failure return t1 length observable map integer string mapped source tomap lengthfuncerr toobservable map integer string expected new hashmap expected put 1 a expected put 2 bb expected put 3 ccc expected put 4 mapped subscribe objectobserver verify objectobserver never onnext expected verify objectobserver never oncomplete verify objectobserver times 1 onerror any throwable class 
observable string source observable just a bb ccc function string string duplicateerr new function string string override public string apply string t1 if bb equals t1 throw new runtimeexception forced failure return t1 t1 observable map integer string mapped source tomap lengthfunc duplicateerr toobservable map integer string expected new hashmap expected put 1 aa expected put 2 expected put 3 expected put 4 mapped subscribe objectobserver verify objectobserver never onnext expected verify objectobserver never oncomplete verify objectobserver times 1 onerror any throwable class 
observable string source observable just a bb ccc supplier map integer string mapfactory new supplier map integer string override public map integer string get return new linkedhashmap integer string private static final long serialversionuid override protected boolean removeeldestentry map entry integer string eldest return size 3 function string integer lengthfunc new function string integer override public integer apply string t1 return t1 length observable map integer string mapped source tomap lengthfunc new function string string override public string apply string v return v mapfactory toobservable map integer string expected new linkedhashmap expected put 2 bb expected put 3 ccc expected put 4 mapped subscribe objectobserver verify objectobserver never onerror any throwable class verify objectobserver times 1 onnext expected verify objectobserver times 1 oncomplete 
observable string source observable just a bb ccc supplier map integer string mapfactory new supplier map integer string override public map integer string get throw new runtimeexception forced failure function string integer lengthfunc new function string integer override public integer apply string t1 return t1 length observable map integer string mapped source tomap lengthfunc new function string string override public string apply string v return v mapfactory toobservable map integer string expected new linkedhashmap expected put 2 bb expected put 3 ccc expected put 4 mapped subscribe objectobserver verify objectobserver never onnext expected verify objectobserver never oncomplete verify objectobserver times 1 onerror any throwable class 
observable string source observable just a bb ccc single map integer string mapped source tomap lengthfunc map integer string expected new hashmap expected put 1 a expected put 2 bb expected put 3 ccc expected put 4 mapped subscribe singleobserver verify singleobserver never onerror any throwable class verify singleobserver times 1 onsuccess expected 
observable string source observable just a bb ccc single map integer string mapped source tomap lengthfunc duplicate map integer string expected new hashmap expected put 1 aa expected put 2 expected put 3 expected put 4 mapped subscribe singleobserver verify singleobserver never onerror any throwable class verify singleobserver times 1 onsuccess expected 
observable string source observable just a bb ccc function string integer lengthfuncerr new function string integer override public integer apply string t1 if bb equals t1 throw new runtimeexception forced failure return t1 length single map integer string mapped source tomap lengthfuncerr map integer string expected new hashmap expected put 1 a expected put 2 bb expected put 3 ccc expected put 4 mapped subscribe singleobserver verify singleobserver never onsuccess expected verify singleobserver times 1 onerror any throwable class 
observable string source observable just a bb ccc function string string duplicateerr new function string string override public string apply string t1 if bb equals t1 throw new runtimeexception forced failure return t1 t1 single map integer string mapped source tomap lengthfunc duplicateerr map integer string expected new hashmap expected put 1 aa expected put 2 expected put 3 expected put 4 mapped subscribe singleobserver verify singleobserver never onsuccess expected verify singleobserver times 1 onerror any throwable class 
observable string source observable just a bb ccc supplier map integer string mapfactory new supplier map integer string override public map integer string get return new linkedhashmap integer string private static final long serialversionuid override protected boolean removeeldestentry map entry integer string eldest return size 3 function string integer lengthfunc new function string integer override public integer apply string t1 return t1 length single map integer string mapped source tomap lengthfunc new function string string override public string apply string v return v mapfactory map integer string expected new linkedhashmap expected put 2 bb expected put 3 ccc expected put 4 mapped subscribe singleobserver verify singleobserver never onerror any throwable class verify singleobserver times 1 onsuccess expected 
observable string source observable just a bb ccc supplier map integer string mapfactory new supplier map integer string override public map integer string get throw new runtimeexception forced failure function string integer lengthfunc new function string integer override public integer apply string t1 return t1 length single map integer string mapped source tomap lengthfunc new function string string override public string apply string v return v mapfactory map integer string expected new linkedhashmap expected put 2 bb expected put 3 ccc expected put 4 mapped subscribe singleobserver verify singleobserver never onsuccess expected verify singleobserver times 1 onerror any throwable class 
aaction0 mock action class observer testhelper mockobserver 
input doafterterminate aaction0 subscribe observer try verify aaction0 times 1 run catch throwable e throw exceptionhelper wraporthrow e 
checkactioncalled observable fromarray 1 2 3 
checkactioncalled observable string error new runtimeexception expected 
observable string o observable fromiterable arrays string aslist one two three observer string observer testhelper mockobserver o subscribe observer verify observer times 1 onnext one verify observer times 1 onnext two verify observer times 1 onnext three verify observer mockito never onerror any throwable class verify observer times 1 oncomplete 
iterable string it new iterable string override public iterator string iterator return new iterator string int i override public boolean hasnext return i 3 override public string next return string valueof i override public void remove observable string o observable fromiterable it observer string observer testhelper mockobserver o subscribe observer verify observer times 1 onnext 1 verify observer times 1 onnext 2 verify observer times 1 onnext 3 verify observer mockito never onerror any throwable class verify observer times 1 oncomplete 
observable string o observable fromiterable arrays string aslist one two three observer string observer testhelper mockobserver o subscribe observer verify observer times 1 onnext one verify observer times 1 onnext two verify observer times 1 onnext three verify observer mockito never onerror any throwable class verify observer times 1 oncomplete 
observable integer o observable fromiterable arrays aslist 1 2 3 4 5 testobserverex integer to new testobserverex o subscribe to to assertvalues 1 2 3 4 5 to assertterminated 
observable integer o observable fromiterable arrays aslist 1 2 3 for int i 0 i 10 i testobserver integer to new testobserver o subscribe to to assertvalues 1 2 3 to assertnoerrors to assertcomplete 
final atomicboolean called new atomicboolean false iterable integer iterable new iterable integer override public iterator integer iterator return new iterator integer int count 1 override public void remove override public boolean hasnext if count 1 called set true return false return true override public integer next return count observable fromiterable iterable take 1 subscribe assertfalse called get 
final atomicboolean called new atomicboolean false iterable integer iterable new iterable integer override public iterator integer iterator return new iterator integer override public void remove int count 1 override public boolean hasnext if count 1 called set true return false return true override public integer next return count observable fromiterable iterable subscribe new defaultobserver integer override public void oncomplete override public void onerror throwable e override public void onnext integer t cancel assertfalse called get 
testobserver integer to new testobserver observable fromiterable arrays aslist 1 2 3 4 concatmap new function integer observablesource integer override public observablesource integer apply integer v return observable range v 2 subscribe to to assertvalues 1 2 2 3 3 4 4 5 to assertnoerrors to assertcomplete 
observable fromiterable new crashingiterable 1 100 100 to testhelper integer testconsumer testexception class iterator 
observable fromiterable new crashingiterable 100 2 100 to testhelper integer testconsumer testexception class hasnext 0 
final testobserver integer to new testobserver observable fromiterable new iterable integer override public iterator integer iterator return new iterator integer int count override public boolean hasnext if count 2 to dispose return true override public integer next return 1 override public void remove throw new subscribe to to assertvalue 1 assertnoerrors assertnotcomplete 
testobserverex integer to new testobserverex queuefuseable async observable fromiterable arrays aslist 1 2 3 subscribe to to assertfusionmode queuefuseable none assertresult 1 2 3 
observable fromiterable arrays aslist 1 2 3 subscribe new observer integer override public void onsubscribe disposable d suppresswarnings unchecked queuedisposable integer qd queuedisposable integer d qd requestfusion queuefuseable any try assertequals 1 qd poll intvalue catch throwable ex fail ex tostring qd clear try assertnull qd poll catch throwable ex fail ex tostring override public void onnext integer value override public void onerror throwable e override public void oncomplete 
testobserver integer to new testobserver observable fromiterable new iterator integer int count override public boolean hasnext if count 2 to dispose return false return true override public integer next return 1 subscribewith to assertvaluesonly 1 1 
unicastsubject integer us unicastsubject create testobserver void to us concatmapcompletable completablecomplete 2 test us onnext 1 us oncomplete to assertcomplete to assertvaluecount 0 
unicastsubject integer us unicastsubject create testobserver void to us hide concatmapcompletable completablecomplete 2 test us onnext 1 us onnext 2 us oncomplete to assertcomplete to assertvaluecount 0 to assertnoerrors 
testhelper checkdisposed observable integer just 1 hide concatmapcompletable completableerror 
observable integer error new testexception concatmapcompletable completablecomplete test assertfailure testexception class 
observable integer just 1 hide concatmapcompletable completableerror test assertfailure testexception class 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onnext 1 observer oncomplete observer onnext 2 observer onerror new testexception observer oncomplete concatmapcompletable completablecomplete test assertcomplete testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
for int i 0 i testhelper race default loops i list throwable errors testhelper trackpluginerrors try final publishsubject integer ps1 publishsubject create final publishsubject integer ps2 publishsubject create testobserver void to ps1 concatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable fromobservable ps2 test final testexception ex1 new testexception final testexception ex2 new testexception runnable r1 new runnable override public void run ps1 onerror ex1 runnable r2 new runnable override public void run ps2 onerror ex2 testhelper race r1 r2 to assertfailure testexception class if errors isempty testhelper asserterror errors 0 testexception class finally rxjavaplugins reset 
observable just 1 hide concatmapcompletable completablethrows test assertfailure testexception class 
observable just 1 map new function integer integer override public integer apply integer v throws exception throw new testexception concatmapcompletable completablecomplete test assertfailure testexception class 
final disposable disposable null observable just 1 hide concatmapcompletable completablecomplete subscribe new completableobserver override public void onsubscribe disposable d disposable 0 d override public void onerror throwable e override public void oncomplete asserttrue disposable 0 isdisposed 
final disposable disposable null observable just 1 hide concatmapcompletable completableerror subscribe new completableobserver override public void onsubscribe disposable d disposable 0 d override public void onerror throwable e override public void oncomplete asserttrue disposable 0 isdisposed 
return new function integer completablesource override public completablesource apply integer v throws exception return completable complete 
return new function integer completablesource override public completablesource apply integer v throws exception return completable error new testexception 
return new function integer completablesource override public completablesource apply integer v throws exception throw new testexception 
unicastsubject integer us unicastsubject create testobserver integer to us concatmap new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable range v 2 test us onnext 1 us oncomplete to assertresult 1 2 
testhelper checkdisposed observable integer just 1 hide concatmap new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable error new testexception 
testhelper checkdisposed observable integer just 1 hide concatmapdelayerror new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable error new testexception 
observable integer error new testexception concatmap new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable range v 2 test assertfailure testexception class 
observable integer just 1 hide concatmap new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable error new testexception test assertfailure testexception class 
observable integer error new testexception concatmapdelayerror new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable range v 2 test assertfailure testexception class 
observable integer just 1 hide concatmapdelayerror new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable error new testexception test assertfailure testexception class 
observable integer just 1 hide concatmapdelayerror new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable fromcallable new callable integer override public integer call throws exception throw new testexception test assertfailure testexception class 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onnext 1 observer oncomplete observer onnext 2 observer onerror new testexception observer oncomplete concatmap new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable range v 2 test assertresult 1 2 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onnext 1 observer oncomplete observer onnext 2 observer onerror new testexception observer oncomplete concatmapdelayerror new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable range v 2 test assertresult 1 2 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
observable just 1 hide concatmapdelayerror new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable range v 2 test assertresult 1 2 
observable just 1 hide concatmapdelayerror new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable range v 2 true 16 test assertresult 1 2 
for int i 0 i testhelper race default loops i list throwable errors testhelper trackpluginerrors try final publishsubject integer ps1 publishsubject create final publishsubject integer ps2 publishsubject create testobserver integer to ps1 concatmap new function integer observablesource integer override public observablesource integer apply integer v throws exception return ps2 test final testexception ex1 new testexception final testexception ex2 new testexception runnable r1 new runnable override public void run ps1 onerror ex1 runnable r2 new runnable override public void run ps2 onerror ex2 testhelper race r1 r2 to assertfailure testexception class if errors isempty testhelper asserterror errors 0 testexception class finally rxjavaplugins reset 
observable just 1 hide concatmap new function integer observablesource integer override public observablesource integer apply integer v throws exception throw new testexception test assertfailure testexception class 
observable just 1 map new function integer integer override public integer apply integer v throws exception throw new testexception concatmap new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable range v 2 test assertfailure testexception class 
observable just 1 map new function integer integer override public integer apply integer v throws exception throw new testexception concatmapdelayerror new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable range v 2 test assertfailure testexception class 
observable just 1 hide concatmapdelayerror new function integer observablesource integer override public observablesource integer apply integer v throws exception throw new testexception test assertfailure testexception class 
suppresswarnings rawtypes final observer o null list throwable errors testhelper trackpluginerrors try observable just 1 hide concatmapdelayerror new function integer observablesource integer override public observablesource integer apply integer v throws exception return new observable integer override protected void subscribeactual observer super integer observer o 0 observer observer onsubscribe disposable empty observer oncomplete test assertresult o 0 onerror new testexception testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
final disposable disposable null observable fromarray observable just 1 observable just 2 hide concatmap functions observable integer identity subscribe new observer integer override public void onsubscribe disposable d disposable 0 d override public void onnext integer t override public void onerror throwable e override public void oncomplete asserttrue disposable 0 isdisposed 
final disposable disposable null observable fromarray observable just 1 observable integer error new testexception hide concatmap functions observable integer identity subscribe new observer integer override public void onsubscribe disposable d disposable 0 d override public void onnext integer t override public void onerror throwable e override public void oncomplete asserttrue disposable 0 isdisposed 
list throwable errors testhelper trackpluginerrors try final publishsubject integer ps publishsubject create testobserver integer to ps concatmap new function integer observable integer override public observable integer apply integer v throws exception return observable just v 1 1 subscribewith new testobserver integer override public void onnext integer t super onnext t if t 1 for int i 1 i 10 i ps onnext i ps oncomplete ps onnext 0 if errors isempty to onerror new compositeexception errors to assertresult 1 2 3 4 5 6 7 8 9 10 finally rxjavaplugins reset 
final publishsubject integer ps publishsubject create testobserver integer to ps concatmap new function integer observable integer override public observable integer apply integer v throws exception return observable just v 1 hide 1 subscribewith new testobserver integer override public void onnext integer t super onnext t if t 1 for int i 1 i 10 i ps onnext i ps oncomplete ps onnext 0 to assertresult 1 2 3 4 5 6 7 8 9 10 
final atomicinteger counter new atomicinteger observable range 1 5 concatmap new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable just v doondispose new action override public void run throws exception counter getandincrement test assertresult 1 2 3 4 5 assertequals 0 counter get 
testhelper new observableconverter integer observable integer override public observable integer apply observable integer upstream return upstream concatmap new function integer observable integer override public observable integer apply integer v throws throwable return observable just v hide 
testhelper new observableconverter integer observable integer override public observable integer apply observable integer upstream return upstream concatmapdelayerror new function integer observable integer override public observable integer apply integer v throws throwable return observable just v hide false 2 
testhelper new observableconverter integer observable integer override public observable integer apply observable integer upstream return upstream concatmapdelayerror new function integer observable integer override public observable integer apply integer v throws throwable return observable just v hide true 2 
testhelper o o concatmap v observable never 
testhelper o o concatmapdelayerror v observable never 
observable fromcallable 1 concatmap v observable just 2 hide test assertresult 2 
testhelper concatmap v observable never test 
testhelper concatmapdelayerror v observable never test 
unicastsubject integer uc unicastsubject create testobserver integer to uc concatmapdelayerror v observable just v hide test uc onnext 1 uc oncomplete to assertresult 1 
observable just 1 hide concatmapdelayerror v observable just v test assertresult 1 
observable just 1 hide concatmapdelayerror v observable empty test assertresult 
testobserver integer to new testobserver observable just 1 hide concatmapdelayerror v observable fromcallable to dispose return 1 subscribe to to assertempty 
testobserver object to new testobserver observable just 1 hide concatmapdelayerror v new to subscribe to to assertempty 
publishsubject integer ps publishsubject create testobserver integer to observable range 1 5 hide concatmapdelayerror v ps test ps oncomplete to assertresult 
observer string w testhelper mockobserver publishsubject string w1 publishsubject create publishsubject string w2 publishsubject create observable string combined observable combinelatest w1 w2 new bifunction string string string override public string apply string v1 string v2 throw new runtimeexception i don t work combined subscribe w w1 onnext first value of w1 w2 onnext first value of w2 verify w never onnext anystring verify w never oncomplete verify w times 1 onerror mockito runtimeexception any 
observer string w testhelper mockobserver publishsubject string w1 publishsubject create publishsubject string w2 publishsubject create publishsubject string w3 publishsubject create observable string combinelatestw observable combinelatest w1 w2 w3 combinelatestw subscribe w w1 onnext 1a w2 onnext 2a w3 onnext 3a w1 oncomplete w2 onnext 2b w2 oncomplete w3 onnext 3b w3 onnext 3c w3 onnext 3d w3 oncomplete inorder inorder inorder w inorder verify w onnext 1a2a3a inorder verify w onnext 1a2b3a inorder verify w onnext 1a2b3b inorder verify w onnext 1a2b3c inorder verify w onnext 1a2b3d inorder verify w never onnext anystring inorder verify w times 1 oncomplete 
observer string w testhelper mockobserver publishsubject string w1 publishsubject create publishsubject string w2 publishsubject create publishsubject string w3 publishsubject create observable string combinelatestw observable combinelatest w1 w2 w3 combinelatestw subscribe w w1 onnext 1a w1 onnext 1b w1 onnext 1c w1 onnext 1d w1 oncomplete w2 onnext 2a w2 onnext 2b w2 oncomplete w3 onnext 3a w3 oncomplete inorder inorder inorder w inorder verify w times 1 onnext 1d2b3a inorder verify w never onnext anystring inorder verify w times 1 oncomplete 
observer string w testhelper mockobserver publishsubject string w1 publishsubject create publishsubject string w2 publishsubject create publishsubject string w3 publishsubject create observable string combinelatestw observable combinelatest w1 w2 w3 combinelatestw subscribe w w1 onnext 1a w2 onnext 2a w2 onnext 2b w3 onnext 3a w1 onnext 1b w2 onnext 2c w2 onnext 2d w3 onnext 3b w1 oncomplete w2 oncomplete w3 oncomplete inorder inorder inorder w inorder verify w onnext 1a2b3a inorder verify w onnext 1b2b3a inorder verify w onnext 1b2c3a inorder verify w onnext 1b2d3a inorder verify w onnext 1b2d3b inorder verify w never onnext anystring inorder verify w times 1 oncomplete 
bifunction string integer string observer string observer testhelper mockobserver observable string w observable combinelatest observable just one two observable just 2 3 4 w subscribe observer verify observer never onerror any throwable class verify observer times 1 oncomplete verify observer times 1 onnext two2 verify observer times 1 onnext two3 verify observer times 1 onnext two4 
function3 string integer int string observer string observer testhelper mockobserver observable string w observable combinelatest observable just one two observable just 2 observable just new int 4 5 6 w subscribe observer verify observer never onerror any throwable class verify observer times 1 oncomplete verify observer times 1 onnext two2 4 5 6 
function3 string integer int string observer string observer testhelper mockobserver observable string w observable combinelatest observable just one observable just 2 observable just new int 4 5 6 new int 7 8 w subscribe observer verify observer never onerror any throwable class verify observer times 1 oncomplete verify observer times 1 onnext one2 4 5 6 verify observer times 1 onnext one2 7 8 
function3 string string string string new function3 string string string string override public string apply string a1 string a2 string a3 if a1 null a1 if a2 null a2 if a3 null a3 return a1 a2 a3 return 
bifunction string integer string new bifunction string integer string override public string apply string s integer i return getstringvalue s getstringvalue i return 
return new function3 string integer int string override public string apply string s integer i int iarray return getstringvalue s getstringvalue i getstringvalue iarray 
if o null return else if o instanceof int return arrays tostring int o else return string valueof o 
publishsubject integer a publishsubject create publishsubject integer b publishsubject create observable integer source observable combinelatest a b or observer object observer testhelper mockobserver inorder inorder inorder observer source subscribe observer a onnext 1 inorder verify observer never onnext any a onnext 2 inorder verify observer never onnext any b onnext 0x10 inorder verify observer times 1 onnext 0x12 b onnext 0x20 inorder verify observer times 1 onnext 0x22 b oncomplete inorder verify observer never oncomplete a oncomplete inorder verify observer times 1 oncomplete a onnext 3 b onnext 0x30 a oncomplete b oncomplete inorder verify observer never onerror any throwable class 
publishsubject integer a publishsubject create publishsubject integer b publishsubject create observable integer source observable combinelatest a b or observer object observer1 testhelper mockobserver observer object observer2 testhelper mockobserver inorder inorder1 inorder observer1 inorder inorder2 inorder observer2 source subscribe observer1 source subscribe observer2 a onnext 1 inorder1 verify observer1 never onnext any inorder2 verify observer2 never onnext any a onnext 2 inorder1 verify observer1 never onnext any inorder2 verify observer2 never onnext any b onnext 0x10 inorder1 verify observer1 times 1 onnext 0x12 inorder2 verify observer2 times 1 onnext 0x12 b onnext 0x20 inorder1 verify observer1 times 1 onnext 0x22 inorder2 verify observer2 times 1 onnext 0x22 b oncomplete inorder1 verify observer1 never oncomplete inorder2 verify observer2 never oncomplete a oncomplete inorder1 verify observer1 times 1 oncomplete inorder2 verify observer2 times 1 oncomplete a onnext 3 b onnext 0x30 a oncomplete b oncomplete inorder1 inorder2 verify observer1 never onerror any throwable class verify observer2 never onerror any throwable class 
publishsubject integer a publishsubject create publishsubject integer b publishsubject create observable integer source observable combinelatest a b or observer object observer testhelper mockobserver inorder inorder inorder observer source subscribe observer b onnext 0x10 b onnext 0x20 a oncomplete inorder verify observer times 1 oncomplete verify observer never onnext any verify observer never onerror any throwable class 
publishsubject integer a publishsubject create publishsubject integer b publishsubject create observable integer source observable combinelatest a b or observer object observer testhelper mockobserver inorder inorder inorder observer source subscribe observer a onnext 0x1 a onnext 0x2 b oncomplete a oncomplete inorder verify observer times 1 oncomplete verify observer never onnext any verify observer never onerror any throwable class 
int n 30 function object list object func new function object list object override public list object apply object args return arrays aslist args for int i 1 i n i system out println test1tonsources i sources list observable integer sources new arraylist list object values new arraylist for int j 0 j i j sources add observable just j values add j observable list object result observable combinelatest sources func observer list object o testhelper mockobserver result subscribe o verify o onnext values verify o oncomplete verify o never onerror any throwable class 
int n 10 function object list object func new function object list object override public list object apply object args return arrays aslist args for int i 1 i n i system out println i sources list observable integer sources new arraylist list object values new arraylist for int j 0 j i j sources add observable just j subscribeon schedulers io values add j observable list object result observable combinelatest sources func final observer list object o testhelper mockobserver final countdownlatch cdl new countdownlatch 1 observer list object observer new defaultobserver list object override public void onnext list object t o onnext t override public void onerror throwable e o onerror e cdl countdown override public void oncomplete o oncomplete cdl countdown result subscribe observer cdl await verify o onnext values verify o oncomplete verify o never onerror any throwable class 
observable integer s1 observable just 1 observable integer s2 observable just 2 observable list integer result observable combinelatest s1 s2 new bifunction integer integer list integer override public list integer apply integer t1 integer t2 return arrays aslist t1 t2 observer object o testhelper mockobserver result subscribe o verify o onnext arrays aslist 1 2 verify o oncomplete verify o never onerror any throwable class 
observable integer s1 observable just 1 observable integer s2 observable just 2 observable integer s3 observable just 3 observable list integer result observable combinelatest s1 s2 s3 new function3 integer integer integer list integer override public list integer apply integer t1 integer t2 integer t3 return arrays aslist t1 t2 t3 observer object o testhelper mockobserver result subscribe o verify o onnext arrays aslist 1 2 3 verify o oncomplete verify o never onerror any throwable class 
observable integer s1 observable just 1 observable integer s2 observable just 2 observable integer s3 observable just 3 observable integer s4 observable just 4 observable list integer result observable combinelatest s1 s2 s3 s4 new function4 integer integer integer integer list integer override public list integer apply integer t1 integer t2 integer t3 integer t4 return arrays aslist t1 t2 t3 t4 observer object o testhelper mockobserver result subscribe o verify o onnext arrays aslist 1 2 3 4 verify o oncomplete verify o never onerror any throwable class 
observable integer s1 observable just 1 observable integer s2 observable just 2 observable integer s3 observable just 3 observable integer s4 observable just 4 observable integer s5 observable just 5 observable list integer result observable combinelatest s1 s2 s3 s4 s5 new function5 integer integer integer integer integer list integer override public list integer apply integer t1 integer t2 integer t3 integer t4 integer t5 return arrays aslist t1 t2 t3 t4 t5 observer object o testhelper mockobserver result subscribe o verify o onnext arrays aslist 1 2 3 4 5 verify o oncomplete verify o never onerror any throwable class 
observable integer s1 observable just 1 observable integer s2 observable just 2 observable integer s3 observable just 3 observable integer s4 observable just 4 observable integer s5 observable just 5 observable integer s6 observable just 6 observable list integer result observable combinelatest s1 s2 s3 s4 s5 s6 new function6 integer integer integer integer integer integer list integer override public list integer apply integer t1 integer t2 integer t3 integer t4 integer t5 integer t6 return arrays aslist t1 t2 t3 t4 t5 t6 observer object o testhelper mockobserver result subscribe o verify o onnext arrays aslist 1 2 3 4 5 6 verify o oncomplete verify o never onerror any throwable class 
observable integer s1 observable just 1 observable integer s2 observable just 2 observable integer s3 observable just 3 observable integer s4 observable just 4 observable integer s5 observable just 5 observable integer s6 observable just 6 observable integer s7 observable just 7 observable list integer result observable combinelatest s1 s2 s3 s4 s5 s6 s7 new function7 integer integer integer integer integer integer integer list integer override public list integer apply integer t1 integer t2 integer t3 integer t4 integer t5 integer t6 integer t7 return arrays aslist t1 t2 t3 t4 t5 t6 t7 observer object o testhelper mockobserver result subscribe o verify o onnext arrays aslist 1 2 3 4 5 6 7 verify o oncomplete verify o never onerror any throwable class 
observable integer s1 observable just 1 observable integer s2 observable just 2 observable integer s3 observable just 3 observable integer s4 observable just 4 observable integer s5 observable just 5 observable integer s6 observable just 6 observable integer s7 observable just 7 observable integer s8 observable just 8 observable list integer result observable combinelatest s1 s2 s3 s4 s5 s6 s7 s8 new function8 integer integer integer integer integer integer integer integer list integer override public list integer apply integer t1 integer t2 integer t3 integer t4 integer t5 integer t6 integer t7 integer t8 return arrays aslist t1 t2 t3 t4 t5 t6 t7 t8 observer object o testhelper mockobserver result subscribe o verify o onnext arrays aslist 1 2 3 4 5 6 7 8 verify o oncomplete verify o never onerror any throwable class 
observable integer s1 observable just 1 observable integer s2 observable just 2 observable integer s3 observable just 3 observable integer s4 observable just 4 observable integer s5 observable just 5 observable integer s6 observable just 6 observable integer s7 observable just 7 observable integer s8 observable just 8 observable integer s9 observable just 9 observable list integer result observable combinelatest s1 s2 s3 s4 s5 s6 s7 s8 s9 new function9 integer integer integer integer integer integer integer integer integer list integer override public list integer apply integer t1 integer t2 integer t3 integer t4 integer t5 integer t6 integer t7 integer t8 integer t9 return arrays aslist t1 t2 t3 t4 t5 t6 t7 t8 t9 observer object o testhelper mockobserver result subscribe o verify o onnext arrays aslist 1 2 3 4 5 6 7 8 9 verify o oncomplete verify o never onerror any throwable class 
observable object result observable combinelatest collections observable object emptylist new function object object override public object apply object args return args observer object o testhelper mockobserver result subscribe o verify o oncomplete verify o never onnext any verify o never onerror any throwable class 
final countdownlatch latch new countdownlatch 1 final atomicinteger count new atomicinteger final int size 2000 observable long timer observable interval 0 1 timeunit milliseconds observeon schedulers newthread dooneach new consumer notification long override public void accept notification long n if count incrementandget size latch countdown take size testobserver long to new testobserver observable combinelatest timer observable integer never new bifunction long integer long override public long apply long t1 integer t2 return t1 subscribe to if latch await size 1000 timeunit milliseconds fail timed out assertequals size count get 
observable combinelatestarray new observablesource observable just 1 observable just 2 new function object object override public object apply object a throws exception return arrays tostring a test assertresult 1 2 
observable new observablesource observable just 1 observable just 2 new function object object override public object apply object a throws exception return arrays tostring a test assertresult 1 2 
observable new observablesource observable just 1 observable just 2 concatwith observable integer error new testexception new function object object override public object apply object a throws exception return arrays tostring a test assertfailure testexception class 1 2 
observable arrays aslist observable just 1 observable just 2 new function object object override public object apply object a throws exception return arrays tostring a test assertresult 1 2 
observable arrays aslist observable just 1 observable just 2 concatwith observable integer error new testexception new function object object override public object apply object a throws exception return arrays tostring a test assertfailure testexception class 1 2 
assertsame observable empty observable combinelatestarray new observablesource 0 functions object identity 16 
assertsame observable empty observable new observablesource 0 functions object identity 16 
testhelper checkdisposed observable combinelatest observable never observable never new bifunction object object object override public object apply object a object b throws exception return a 
final testobserver object to new testobserver observable combinelatest observable just 1 doonnext new consumer integer override public void accept integer v throws exception to dispose observable never new bifunction object object object override public object apply object a object b throws exception return a subscribe to 
observable integer source observable range 1 1000 subscribeon schedulers computation observable combinelatest source source new bifunction object object object override public object apply object a object b throws exception return a take 500 test awaitdone 5 timeunit seconds assertnoerrors assertcomplete 
observable combinelatest observable never observable error new testexception new bifunction object object object override public object apply object a object b throws exception return a test assertfailure testexception class 
observable new observablesource observable error new testexception observable just 1 new function object object override public object apply object a throws exception return a 128 test assertfailure testexception class 
observable new observablesource observable error new testexception startwithitem 1 observable empty new function object object override public object apply object a throws exception return a 128 test assertfailure testexception class 
for int i 0 i testhelper race default loops i list throwable errors testhelper trackpluginerrors try final publishsubject integer ps1 publishsubject create final publishsubject integer ps2 publishsubject create testobserverex integer to observable combinelatest ps1 ps2 new bifunction integer integer integer override public integer apply integer a integer b throws exception return a to testhelper integer testconsumer final testexception ex1 new testexception final testexception ex2 new testexception runnable r1 new runnable override public void run ps1 onerror ex1 runnable r2 new runnable override public void run ps2 onerror ex2 testhelper race r1 r2 if to errors size 0 if to errors get 0 instanceof compositeexception to assertsubscribed assertnotcomplete assertnovalues for throwable e testhelper errorlist to asserttrue e tostring e instanceof testexception else to assertfailure testexception class for throwable e errors asserttrue e tostring e getcause instanceof testexception finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try final int count 0 observable combinelatest observable empty observable error new testexception doonsubscribe new consumer disposable override public void accept disposable d throws exception count 0 new bifunction object object object override public object apply object a object b throws exception return 0 test assertresult assertequals 0 count 0 asserttrue errors tostring errors isempty finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try final int count 0 observable arrays aslist observable empty observable error new testexception doonsubscribe new consumer disposable override public void accept disposable d throws exception count 0 new function object object override public object apply object a throws exception return 0 test assertresult assertequals 0 count 0 asserttrue errors tostring errors isempty finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try testobserver object testobserver testobserver create testscheduler testscheduler new testscheduler observable integer emptyobservable observable timer 10 timeunit milliseconds testscheduler flatmap new function long observablesource integer override public observablesource integer apply long along throws exception return observable error new exception observable object errorobservable observable timer 100 timeunit milliseconds testscheduler map new function long object override public object apply long along throws exception throw new exception observable arrays aslist emptyobservable dooneach new consumer notification integer override public void accept notification integer integernotification throws exception system out println emptyobservable integernotification dofinally new action override public void run throws exception system out println emptyobservable dofinally errorobservable dooneach new consumer notification object override public void accept notification object integernotification throws exception system out println errorobservable integernotification dofinally new action override public void run throws exception system out println errorobservable dofinally new function object object override public object apply object objects throws exception return 0 dooneach new consumer notification object override public void accept notification object integernotification throws exception system out println integernotification dofinally new action override public void run throws exception system out println dofinally subscribe testobserver testscheduler advancetimeby 100 timeunit milliseconds testobserver awaitdone 5 timeunit seconds asserttrue errors tostring errors isempty finally rxjavaplugins reset 
final publishsubject integer ps1 publishsubject create final publishsubject integer ps2 publishsubject create testobserver integer to new testobserver integer override public void onnext integer t super onnext t dispose if ps1 hasobservers onerror new ps1 not disposed else if ps2 hasobservers onerror new ps2 not disposed else oncomplete observable combinelatest ps1 ps2 new bifunction integer integer integer override public integer apply integer t1 integer t2 throws exception return t1 t2 subscribe to ps1 onnext 1 ps2 onnext 2 to assertresult 3 
observable arrays aslist observable just 21 concatwith observable integer error new testexception observable just 21 delay 100 timeunit milliseconds new function object object override public object apply object a throws exception return integer a 0 integer a 1 test awaitdone 5 timeunit seconds assertfailure testexception class 42 
observablesource integer source new observablesource integer override public void subscribe observer super integer observer observable just 1 subscribe observer observable combinelatest arrays aslist source source new function object integer override public integer apply object t throws throwable return 2 test assertresult 2 
for int i 0 i testhelper race default loops i testobserver integer to new testobserver publishsubject integer ps publishsubject create observable combinelatest ps observable never a b a subscribe to testhelper race ps oncomplete to dispose 
testhelper witherrortracking errors testexception ex new testexception for int i 0 i testhelper race default loops i testobserverex object to new testobserverex atomicreference observer super object ref new atomicreference observable object o new observable object override public void subscribeactual observer super object observer ref set observer observable arrays aslist o observable never a a subscribe to ref get onsubscribe disposable empty testhelper race ref get onerror ex to dispose if to errors isempty testhelper assertundeliverable errors 0 testexception class 
publishsubject integer ps1 publishsubject create publishsubject integer ps2 publishsubject create testobserver integer to observable combinelatest ps1 ps2 a b a b doonnext v if v 2 ps2 onnext 3 ps2 oncomplete ps1 oncomplete test ps1 onnext 1 ps2 onnext 1 to assertresult 2 4 
observable combinelatest arrays aslist observable never null a a test assertfailure nullpointerexception class 
w testhelper mockobserver w2 testhelper mockobserver 
observable string src observable empty src distinctuntilchanged subscribe w verify w never onnext anystring verify w never onerror any throwable class verify w times 1 oncomplete 
observable string src observable empty src distinctuntilchanged to upper with exception subscribe w verify w never onnext anystring verify w never onerror any throwable class verify w times 1 oncomplete 
observable string src observable just a b c c c b b a e src distinctuntilchanged subscribe w inorder inorder inorder w inorder verify w times 1 onnext a inorder verify w times 1 onnext b inorder verify w times 1 onnext c inorder verify w times 1 onnext b inorder verify w times 1 onnext a inorder verify w times 1 onnext e inorder verify w times 1 oncomplete inorder verify w never onnext anystring verify w never onerror any throwable class 
observable string src observable just a b c c c b b a e src distinctuntilchanged to upper with exception subscribe w inorder inorder inorder w inorder verify w times 1 onnext a inorder verify w times 1 onnext b inorder verify w times 1 onnext c inorder verify w times 1 onnext b inorder verify w times 1 onnext a inorder verify w times 1 onnext e inorder verify w times 1 oncomplete inorder verify w never onnext anystring verify w never onerror any throwable class 
observable string source observable just a b b a a c testobserver string to testobserver create source distinctuntilchanged new bipredicate string string override public boolean test string a string b return a comparetoignorecase b 0 subscribe to to assertvalues a b a c to assertnoerrors to assertcomplete 
observable string source observable just a b b a a c testobserver string to testobserver create source distinctuntilchanged new bipredicate string string override public boolean test string a string b throw new testexception subscribe to to assertvalue a to assertnotcomplete to asserterror testexception class 
testobserverex integer to new testobserverex queuefuseable any observable just 1 2 2 3 3 4 5 distinctuntilchanged new bipredicate integer integer override public boolean test integer a integer b throws exception return a equals b subscribe to to assertfuseable assertfusionmode queuefuseable sync assertresult 1 2 3 4 5 
testobserverex integer to new testobserverex queuefuseable any unicastsubject integer us unicastsubject create us distinctuntilchanged new bipredicate integer integer override public boolean test integer a integer b throws exception return a equals b subscribe to testhelper emit us 1 2 2 3 3 4 5 to assertfuseable assertfusionmode queuefuseable async assertresult 1 2 3 4 5 
list throwable errors testhelper trackpluginerrors try observable wrap new observablesource integer override public void subscribe observer super integer observer observer onsubscribe disposable empty observer onnext 1 observer onnext 2 observer onnext 3 observer onerror new ioexception observer oncomplete distinctuntilchanged new bipredicate integer integer override public boolean test integer a integer b throws exception throw new testexception test assertfailure testexception class 1 testhelper assertundeliverable errors 0 ioexception class finally rxjavaplugins reset 
mutable m new mutable publishsubject mutable ps publishsubject create testobserver mutable to ps distinctuntilchanged new function mutable object override public object apply mutable m throws exception return m value test ps onnext m m value 1 ps onnext m ps oncomplete to assertresult m m 
testobserverex integer to new testobserverex observable range 1 10 takelast 1 subscribe to to assertvalue 10 to assertnoerrors to assertterminated 
testobserverex object to new testobserverex observable empty takelast 1 subscribe to to assertnovalues to assertnoerrors to assertterminated 
testobserverex integer to new testobserverex observable just 1 takelast 1 subscribe to to assertvalue 1 to assertnoerrors to assertterminated 
final atomicboolean unsubscribed new atomicboolean false action unsubscribeaction new action override public void run unsubscribed set true observable just 1 concatwith observable integer never doondispose unsubscribeaction takelast 1 subscribe dispose asserttrue unsubscribed get 
final atomicinteger upstreamcount new atomicinteger final int num 10 long count observable range 1 num doonnext new consumer integer override public void accept integer t upstreamcount incrementandget takelast 0 count blockingget assertequals num upstreamcount get assertequals 0l count 
testhelper checkdisposed observable just 1 takelast 1 
testhelper new function observable object observablesource object override public observablesource object apply observable object f throws exception return f takelast 1 
observable error new testexception takelast 1 test assertfailure testexception class 
observable integer o observable just 1 singleelement toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext 1 inorder verify observer times 1 oncomplete inorder 
observable integer o observable just 1 2 singleelement toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onerror isa class inorder 
observable integer o observable integer empty singleelement toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer oncomplete inorder verify observer never onerror any throwable class inorder 
observable integer o observable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 singleelement toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext 2 inorder verify observer times 1 oncomplete inorder 
observable integer o observable just 1 2 3 4 filter new predicate integer override public boolean test integer t1 return t1 2 0 singleelement toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onerror isa class inorder 
observable integer o observable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 singleelement toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer oncomplete inorder verify observer never onerror any throwable class inorder 
observable integer o observable just 1 single 2 toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext 1 inorder verify observer times 1 oncomplete inorder 
observable integer o observable just 1 2 single 3 toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onerror isa class inorder 
observable integer o observable integer empty single 1 toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext 1 inorder verify observer times 1 oncomplete inorder 
observable integer o observable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 single 4 toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext 2 inorder verify observer times 1 oncomplete inorder 
observable integer o observable just 1 2 3 4 filter new predicate integer override public boolean test integer t1 return t1 2 0 single 6 toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onerror isa class inorder 
observable integer o observable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 single 2 toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext 2 inorder verify observer times 1 oncomplete inorder 
observable integer source observable just 1 2 3 4 5 6 observable integer reduced source reduce new bifunction integer integer integer override public integer apply integer i1 integer i2 return i1 i2 toobservable integer r reduced blockingfirst assertequals 21 r intvalue 
maybe integer o observable just 1 singleelement maybeobserver integer observer testhelper mockmaybeobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 1 inorder 
maybe integer o observable just 1 2 singleelement maybeobserver integer observer testhelper mockmaybeobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onerror isa class inorder 
maybe integer o observable integer empty singleelement maybeobserver integer observer testhelper mockmaybeobserver o subscribe observer inorder inorder inorder observer inorder verify observer oncomplete inorder verify observer never onerror any throwable class inorder 
maybe integer o observable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 singleelement maybeobserver integer observer testhelper mockmaybeobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 2 inorder 
maybe integer o observable just 1 2 3 4 filter new predicate integer override public boolean test integer t1 return t1 2 0 singleelement maybeobserver integer observer testhelper mockmaybeobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onerror isa class inorder 
maybe integer o observable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 singleelement maybeobserver integer observer testhelper mockmaybeobserver o subscribe observer inorder inorder inorder observer inorder verify observer oncomplete inorder verify observer never onerror any throwable class inorder 
single integer o observable just 1 single 2 singleobserver integer observer testhelper mocksingleobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 1 inorder 
single integer o observable just 1 2 single 3 singleobserver integer observer testhelper mocksingleobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onerror isa class inorder 
single integer o observable integer empty single 1 singleobserver integer observer testhelper mocksingleobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 1 inorder 
single integer o observable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 single 4 singleobserver integer observer testhelper mocksingleobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 2 inorder 
single integer o observable just 1 2 3 4 filter new predicate integer override public boolean test integer t1 return t1 2 0 single 6 singleobserver integer observer testhelper mocksingleobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onerror isa class inorder 
single integer o observable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 single 2 singleobserver integer observer testhelper mocksingleobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 2 inorder 
observable integer source observable just 1 2 3 4 5 6 maybe integer reduced source reduce new bifunction integer integer integer override public integer apply integer i1 integer i2 return i1 i2 integer r reduced blockingget assertequals 21 r intvalue 
final throwable exception new runtimeexception some error final atomicreference throwable error new atomicreference try rxjavaplugins seterrorhandler new consumer throwable override public void accept final throwable throwable throws exception error set throwable observable unsafecreate new observablesource integer override public void subscribe final observer super integer observer observer oncomplete observer onerror exception singleelement test assertcomplete assertsame exception error get getcause finally rxjavaplugins reset 
observable empty singleorerror test assertnovalues asserterror class 
observable just 1 singleorerror test assertnoerrors assertvalue 1 
observable just 1 2 3 singleorerror test assertnovalues asserterror class 
observable error new runtimeexception error singleorerror to testhelper testconsumer assertnovalues asserterrormessage error asserterror runtimeexception class 
testhelper new function observable object object override public object apply observable object o throws exception return o singleorerror false 1 1 1 testhelper new function observable object object override public object apply observable object o throws exception return o singleelement false 1 1 1 
testhelper new function observable object singlesource object override public singlesource object apply observable object o throws exception return o singleorerror testhelper new function observable object maybesource object override public maybesource object apply observable object o throws exception return o singleelement 
observable empty singleorerror toobservable test assertfailure class 
observer testhelper mockobserver 
publishsubject integer source publishsubject create publishsubject integer other publishsubject create observable integer m source skipuntil other m subscribe observer source onnext 0 source onnext 1 other onnext 100 source onnext 2 source onnext 3 source onnext 4 source oncomplete verify observer never onerror any throwable class verify observer times 1 onnext 2 verify observer times 1 onnext 3 verify observer times 1 onnext 4 verify observer times 1 oncomplete 
publishsubject integer source publishsubject create observable integer m source skipuntil observable never m subscribe observer source onnext 0 source onnext 1 source onnext 2 source onnext 3 source onnext 4 source oncomplete verify observer never onerror any throwable class verify observer never onnext any verify observer times 1 oncomplete 
publishsubject integer source publishsubject create observable integer m source skipuntil observable empty m subscribe observer verify observer never onerror any throwable class verify observer never onnext any verify observer never oncomplete 
publishsubject integer source publishsubject create publishsubject integer other publishsubject create observable integer m source skipuntil other m subscribe observer source onnext 0 source onnext 1 other onnext 100 other oncomplete source onnext 2 source onnext 3 source onnext 4 source oncomplete verify observer never onerror any throwable class verify observer times 1 onnext 2 verify observer times 1 onnext 3 verify observer times 1 onnext 4 verify observer times 1 oncomplete 
publishsubject integer source publishsubject create publishsubject integer other publishsubject create observable integer m source skipuntil other m subscribe observer source onnext 0 source onnext 1 other onnext 100 other oncomplete source onnext 2 source onerror new runtimeexception forced failure verify observer times 1 onnext 2 verify observer times 1 onerror any throwable class verify observer never oncomplete 
publishsubject integer source publishsubject create publishsubject integer other publishsubject create observable integer m source skipuntil other m subscribe observer source onnext 0 source onnext 1 other onerror new runtimeexception forced failure verify observer never onnext any verify observer times 1 onerror any throwable class verify observer never oncomplete 
testhelper checkdisposed publishsubject create skipuntil publishsubject create 
testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return o skipuntil observable never testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return observable never skipuntil o 
scheduler new testscheduler innerscheduler scheduler createworker observer testhelper mockobserver 
observable string source observable unsafecreate new observablesource string override public void subscribe observer super string innerobserver innerobserver onsubscribe disposable empty publishnext innerobserver 100 one publishnext innerobserver 300 two publishnext innerobserver 900 three publishnext innerobserver 905 four publishcompleted innerobserver 1000 observable string sampled source throttlefirst 400 timeunit milliseconds scheduler sampled subscribe observer inorder inorder inorder observer scheduler advancetimeto 1000 timeunit milliseconds inorder verify observer times 1 onnext one inorder verify observer times 0 onnext two inorder verify observer times 1 onnext three inorder verify observer times 0 onnext four inorder verify observer times 1 oncomplete inorder 
observable string source observable unsafecreate new observablesource string override public void subscribe observer super string innerobserver innerobserver onsubscribe disposable empty exception error new testexception publishnext innerobserver 100 one publishnext innerobserver 200 two publisherror innerobserver 300 error observable string sampled source throttlefirst 400 timeunit milliseconds scheduler sampled subscribe observer inorder inorder inorder observer scheduler advancetimeto 400 timeunit milliseconds inorder verify observer onnext one inorder verify observer onerror any testexception class inorder 
observer integer observer testhelper mockobserver testscheduler s new testscheduler publishsubject integer o publishsubject create o throttlefirst 500 timeunit milliseconds s subscribe observer s advancetimeto 0 timeunit milliseconds o onnext 1 o onnext 2 s advancetimeto 501 timeunit milliseconds o onnext 3 s advancetimeto 600 timeunit milliseconds o onnext 4 s advancetimeto 700 timeunit milliseconds o onnext 5 o onnext 6 s advancetimeto 1001 timeunit milliseconds o onnext 7 s advancetimeto 1501 timeunit milliseconds o oncomplete inorder inorder inorder observer inorder verify observer onnext 1 inorder verify observer onnext 3 inorder verify observer onnext 7 inorder verify observer oncomplete inorder 
observable just 1 throttlefirst 100 timeunit milliseconds test awaitdone 5 timeunit seconds assertresult 1 
testhelper checkdisposed observable just 1 throttlefirst 1 timeunit days 
testhelper o o throttlefirst 1 timeunit seconds 
subscribedobserver testhelper mockobserver sideeffectobserver testhelper mockobserver 
observable string base observable just a b c observable string dooneach base dooneach sideeffectobserver dooneach subscribe subscribedobserver verify subscribedobserver never onerror any throwable class verify subscribedobserver times 1 onnext a verify subscribedobserver times 1 onnext b verify subscribedobserver times 1 onnext c verify subscribedobserver times 1 oncomplete verify sideeffectobserver never onerror any throwable class verify sideeffectobserver times 1 onnext a verify sideeffectobserver times 1 onnext b verify sideeffectobserver times 1 onnext c verify sideeffectobserver times 1 oncomplete 
observable string base observable just one fail two three fail observable string errs base map new function string string override public string apply string s if fail equals s throw new runtimeexception forced failure return s observable string dooneach errs dooneach sideeffectobserver dooneach subscribe subscribedobserver verify subscribedobserver times 1 onnext one verify subscribedobserver never onnext two verify subscribedobserver never onnext three verify subscribedobserver never oncomplete verify subscribedobserver times 1 onerror any throwable class verify sideeffectobserver times 1 onnext one verify sideeffectobserver never onnext two verify sideeffectobserver never onnext three verify sideeffectobserver never oncomplete verify sideeffectobserver times 1 onerror any throwable class 
observable string base observable just one two fail three observable string dooneach base doonnext new consumer string override public void accept string s if fail equals s throw new runtimeexception forced failure dooneach subscribe subscribedobserver verify subscribedobserver times 1 onnext one verify subscribedobserver times 1 onnext two verify subscribedobserver never onnext three verify subscribedobserver never oncomplete verify subscribedobserver times 1 onerror any throwable class 
final int expectedcount 3 final atomicinteger count new atomicinteger for int i 0 i expectedcount i observable just boolean true boolean false takewhile new predicate boolean override public boolean test boolean value return value tolist doonsuccess new consumer list boolean override public void accept list boolean booleans count incrementandget subscribe assertequals expectedcount count get 
final int expectedcount 3 final atomicinteger count new atomicinteger for int i 0 i expectedcount i observable just boolean true boolean false boolean false takewhile new predicate boolean override public boolean test boolean value return value tolist doonsuccess new consumer list boolean override public void accept list boolean booleans count incrementandget subscribe assertequals expectedcount count get 
testobserverex object to new testobserverex observable error new testexception doonerror new consumer throwable override public void accept throwable e throw new testexception subscribe to to assertnovalues to assertnotcomplete to asserterror compositeexception class compositeexception ex compositeexception to errors get 0 list throwable exceptions ex getexceptions assertequals 2 exceptions size assert asserttrue exceptions get 0 instanceof testexception assert asserttrue exceptions get 1 instanceof testexception 
list throwable errors testhelper trackpluginerrors try observable wrap new observablesource object override public void subscribe observer super object observer observer onsubscribe disposable empty observer onnext 1 observer onnext 2 observer onerror new ioexception observer oncomplete doonnext new consumer object override public void accept object e throws exception throw new testexception test assertfailure testexception class testhelper assertundeliverable errors 0 ioexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try observable wrap new observablesource object override public void subscribe observer super object observer observer onsubscribe disposable empty observer onerror new testexception doafterterminate new action override public void run throws exception throw new ioexception test assertfailure testexception class testhelper assertundeliverable errors 0 ioexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try observable wrap new observablesource object override public void subscribe observer super object observer observer onsubscribe disposable empty observer oncomplete doafterterminate new action override public void run throws exception throw new ioexception test assertresult testhelper assertundeliverable errors 0 ioexception class finally rxjavaplugins reset 
observable wrap new observablesource object override public void subscribe observer super object observer observer onsubscribe disposable empty observer oncomplete dooncomplete new action override public void run throws exception throw new ioexception test assertfailure ioexception class 
list throwable errors testhelper trackpluginerrors try observable wrap new observablesource object override public void subscribe observer super object observer observer onsubscribe disposable empty observer onnext 1 observer onnext 2 observer onerror new ioexception observer oncomplete doonnext new consumer object override public void accept object e throws exception throw new testexception filter functions alwaystrue test assertfailure testexception class testhelper assertundeliverable errors 0 ioexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try observable wrap new observablesource object override public void subscribe observer super object observer observer onsubscribe disposable empty observer onerror new testexception doafterterminate new action override public void run throws exception throw new ioexception filter functions alwaystrue test assertfailure testexception class testhelper assertundeliverable errors 0 ioexception class finally rxjavaplugins reset 
final int call 0 observable just 1 doafterterminate new action override public void run throws exception call 0 test assertresult 1 assertequals 1 call 0 
list throwable errors testhelper trackpluginerrors try observable wrap new observablesource object override public void subscribe observer super object observer observer onsubscribe disposable empty observer oncomplete doafterterminate new action override public void run throws exception throw new ioexception filter functions alwaystrue test assertresult testhelper assertundeliverable errors 0 ioexception class finally rxjavaplugins reset 
observable wrap new observablesource object override public void subscribe observer super object observer observer onsubscribe disposable empty observer oncomplete dooncomplete new action override public void run throws exception throw new ioexception filter functions alwaystrue test assertfailure ioexception class 
testobserverex object to observable error new testexception outer doonerror new consumer throwable override public void accept throwable e throws exception throw new testexception inner filter functions alwaystrue to testhelper testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist to errors get 0 testhelper asserterror errors 0 testexception class outer testhelper asserterror errors 1 testexception class inner 
testobserverex integer to new testobserverex queuefuseable any final int call 0 0 observable range 1 5 doonnext new consumer integer override public void accept integer v throws exception call 0 dooncomplete new action override public void run throws exception call 1 subscribe to to assertfuseable assertfusionmode queuefuseable sync assertresult 1 2 3 4 5 assertequals 5 call 0 assertequals 1 call 1 
testobserverex integer to new testobserverex queuefuseable any final int call 0 observable range 1 5 doonnext new consumer integer override public void accept integer v throws exception throw new testexception dooncomplete new action override public void run throws exception call 0 subscribe to to assertfuseable assertfusionmode queuefuseable sync assertfailure testexception class assertequals 0 call 0 
testobserverex integer to new testobserverex queuefuseable any final int call 0 0 observable range 1 5 doonnext new consumer integer override public void accept integer v throws exception call 0 dooncomplete new action override public void run throws exception call 1 filter functions alwaystrue subscribe to to assertfuseable assertfusionmode queuefuseable sync assertresult 1 2 3 4 5 assertequals 5 call 0 assertequals 1 call 1 
testobserverex integer to new testobserverex queuefuseable any final int call 0 observable range 1 5 doonnext new consumer integer override public void accept integer v throws exception throw new testexception dooncomplete new action override public void run throws exception call 0 filter functions alwaystrue subscribe to to assertfuseable assertfusionmode queuefuseable sync assertfailure testexception class assertequals 0 call 0 
testobserverex integer to new testobserverex queuefuseable any final int call 0 0 unicastsubject integer us unicastsubject create us doonnext new consumer integer override public void accept integer v throws exception call 0 dooncomplete new action override public void run throws exception call 1 subscribe to testhelper emit us 1 2 3 4 5 to assertfuseable assertfusionmode queuefuseable async assertresult 1 2 3 4 5 assertequals 5 call 0 assertequals 1 call 1 
testobserverex integer to new testobserverex queuefuseable any final int call 0 0 unicastsubject integer us unicastsubject create us doonnext new consumer integer override public void accept integer v throws exception call 0 dooncomplete new action override public void run throws exception call 1 filter functions alwaystrue subscribe to testhelper emit us 1 2 3 4 5 to assertfuseable assertfusionmode queuefuseable async assertresult 1 2 3 4 5 assertequals 5 call 0 assertequals 1 call 1 
testobserverex integer to new testobserverex queuefuseable any final int call 0 0 unicastsubject integer us unicastsubject create us hide doonnext new consumer integer override public void accept integer v throws exception call 0 dooncomplete new action override public void run throws exception call 1 filter functions alwaystrue subscribe to testhelper emit us 1 2 3 4 5 to assertfuseable assertfusionmode queuefuseable none assertresult 1 2 3 4 5 assertequals 5 call 0 assertequals 1 call 1 
testhelper checkdisposed observable just 1 dooneach new testobserver 
testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return o dooneach new testobserver 
observer onsubscribe disposable empty for t item items observer onnext item if error null observer onerror error else observer oncomplete 
this error e return create 
return new burst error items 
suppresswarnings unchecked future object future mock future class object value new object when future get thenreturn value observer object o testhelper mockobserver testobserver object to new testobserver o observable fromfuture future subscribe to to dispose verify o times 1 onnext value verify o times 1 oncomplete verify o never onerror any throwable class verify future never cancel true 
suppresswarnings unchecked future object future mock future class object value new object when future get thenreturn value observer object o testhelper mockobserver testscheduler scheduler new testscheduler testobserver object to new testobserver o observable fromfuture future subscribeon scheduler subscribe to verify o never onnext value scheduler triggeractions verify o times 1 onnext value 
suppresswarnings unchecked future object future mock future class runtimeexception e new runtimeexception when future get thenthrow e observer object o testhelper mockobserver testobserver object to new testobserver o observable fromfuture future subscribe to to dispose verify o never onnext null verify o never oncomplete verify o times 1 onerror e verify future never cancel true 
suppresswarnings unchecked future object future mock future class e new unit test synthetic cancellation when future get thenthrow e observer object o testhelper mockobserver testobserver object to new testobserver o to dispose observable fromfuture future subscribe to to assertnoerrors to assertnotcomplete 
future object future new future object private atomicboolean iscancelled new atomicboolean false private atomicboolean isdone new atomicboolean false override public boolean cancel boolean iscancelled compareandset false true return true override public boolean iscancelled return iscancelled get override public boolean isdone return iscancelled isdone get override public object get throws interruptedexception executionexception thread sleep 500 isdone compareandset false true return foo override public object get long timeout timeunit unit throws interruptedexception executionexception timeoutexception return get observer object o testhelper mockobserver testobserver object to new testobserver o observable object futureobservable observable fromfuture future futureobservable subscribeon schedulers computation subscribe to thread sleep 100 to dispose to assertnoerrors to assertnovalues to assertnotcomplete 
observable range 1 5 mergewith maybe just 100 test assertresult 1 2 3 4 5 100 
observable range 1 5 mergewith maybe integer empty test assertresult 1 2 3 4 5 
observable range 1 512 mergewith maybe just 100 test assertvaluecount 513 assertcomplete 
observable range 1 5 mergewith maybe just 100 take 3 test assertresult 1 2 3 
final publishsubject integer ps publishsubject create final maybesubject integer cs maybesubject create testobserver integer to ps mergewith cs test asserttrue ps hasobservers asserttrue cs hasobservers to dispose assertfalse ps hasobservers assertfalse cs hasobservers 
observable error new testexception mergewith maybe just 100 test assertfailure testexception class 
observable never mergewith maybe error new testexception test assertfailure testexception class 
for int i 0 i i final publishsubject integer ps publishsubject create final maybesubject integer cs maybesubject create testobserver integer to ps mergewith cs test runnable r1 new runnable override public void run ps onnext 1 ps oncomplete runnable r2 new runnable override public void run cs onsuccess 1 testhelper race r1 r2 to assertresult 1 1 
final publishsubject integer ps publishsubject create final maybesubject integer cs maybesubject create testobserver integer to ps mergewith cs subscribewith new testobserver integer override public void onnext integer t super onnext t if t 1 ps onnext 2 ps onnext 1 cs onsuccess 3 ps onnext 4 ps oncomplete to assertresult 1 2 3 4 
final publishsubject integer ps publishsubject create final maybesubject integer cs maybesubject create testobserver integer to ps mergewith cs subscribewith new testobserver integer override public void onnext integer t super onnext t if t 1 cs onsuccess 2 ps onnext 1 ps onnext 3 ps oncomplete to assertresult 1 2 3 
list throwable errors testhelper trackpluginerrors try final atomicreference observer observerref new atomicreference testobserver integer to new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observerref set observer mergewith maybe integer error new ioexception test observerref get onerror new testexception to assertfailure ioexception class testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try observable error new ioexception mergewith maybe error new testexception test assertfailure ioexception class testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
testhelper new function observable object observable object override public observable object apply observable object f throws exception return f mergewith maybe just 1 
new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty assertfalse disposable observer isdisposed observer onnext 1 asserttrue disposable observer isdisposed mergewith maybe integer empty take 1 test assertresult 1 
final publishsubject integer ps publishsubject create final maybesubject integer cs maybesubject create testobserver integer to ps mergewith cs subscribewith new testobserver integer override public void onnext integer t super onnext t if t 1 ps onnext 2 ps onnext 3 cs onsuccess 0 ps onnext 1 ps onnext 4 ps oncomplete to assertresult 0 1 2 3 4 
publishsubject integer ps publishsubject create maybesubject integer ms maybesubject create testobserver integer to ps mergewith ms test asserttrue ps hasobservers asserttrue ms hasobservers ps onerror new testexception to assertfailure testexception class assertfalse main has observers ps hasobservers assertfalse other has observers ms hasobservers 
publishsubject integer ps publishsubject create maybesubject integer ms maybesubject create testobserver integer to ps mergewith ms test asserttrue ps hasobservers asserttrue ms hasobservers ms onerror new testexception to assertfailure testexception class assertfalse main has observers ps hasobservers assertfalse other has observers ms hasobservers 
testhelper new observableconverter integer observable integer override public observable integer apply observable integer upstream return upstream mergewith maybe just 1 hide 
observer testhelper mockobserver 
onsubscribe new one two three observable string w observable unsafecreate onsubscribe w serialize subscribe observer onsubscribe waittofinish verify observer times 1 onnext one verify observer times 1 onnext two verify observer times 1 onnext three verify observer never onerror any throwable class verify observer times 1 oncomplete 
onsubscribe new one two three observable string w observable unsafecreate onsubscribe busyobserver busyobserver new busyobserver w serialize subscribe busyobserver onsubscribe waittofinish assertequals 3 busyobserver onnextcount get assertfalse busyobserver onerror asserttrue busyobserver oncomplete asserttrue onsubscribe maxconcurrentthreads get 1 assertequals 1 busyobserver maxconcurrentthreads get 
int max 9 for int i 0 i max i try multithreadedwithnpe return catch assertionerror ex if i max throw ex thread sleep long 1000 math random 100 
onsubscribe new one two three null observable string w observable unsafecreate onsubscribe busyobserver busyobserver new busyobserver w serialize subscribe busyobserver onsubscribe waittofinish system out println maxconcurrentthreads onsubscribe maxconcurrentthreads get asserttrue busyobserver onnextcount get 4 asserttrue busyobserver onerror assertfalse busyobserver oncomplete asserttrue onsubscribe maxconcurrentthreads get 1 assertequals 1 busyobserver maxconcurrentthreads get 
int max 9 for int i 0 i max i try return catch assertionerror ex if i max throw ex thread sleep long 1000 math random 100 
boolean lessthan9 false for int i 0 i 3 i onsubscribe new one two three null four five six seven eight nine observable string w observable unsafecreate onsubscribe busyobserver busyobserver new busyobserver w serialize subscribe busyobserver onsubscribe waittofinish system out println maxconcurrentthreads onsubscribe maxconcurrentthreads get system out println onnext count busyobserver onnextcount get if busyobserver onnextcount get 9 lessthan9 true asserttrue busyobserver onerror assertfalse busyobserver oncomplete int n onsubscribe maxconcurrentthreads get asserttrue n n 1 assertequals 1 busyobserver maxconcurrentthreads get asserttrue lessthan9 
for int i 0 i numstringstosend i observer onnext astring 
if waitonthese null for future f waitonthese try f get catch throwable e system err println error while waiting on future in completionthread if event onerror observer onerror new runtimeexception mocked exception else if event oncomplete observer oncomplete else throw new expecting either onerror or oncomplete 
observer onsubscribe disposable empty system out println subscribed to t new thread new runnable override public void run try system out println running thread for string s values system out println onnext s observer onnext s observer oncomplete catch throwable e throw new runtimeexception e system out println starting thread t start system out println done starting thread 
try t join catch interruptedexception e throw new runtimeexception e 
observer onsubscribe disposable empty system out println subscribed to final nullpointerexception npe new nullpointerexception t new thread new runnable override public void run try system out println running thread for final string s values threadpool execute new runnable override public void run threadsrunning incrementandget try if s null system out println onnext null throw npe else system out println onnext s observer onnext s int concurrentthreads threadsrunning get int maxthreads maxconcurrentthreads get if concurrentthreads maxthreads maxconcurrentthreads compareandset maxthreads concurrentthreads catch throwable e observer onerror e finally threadsrunning decrementandget threadpool shutdown catch throwable e throw new runtimeexception e try threadpool awaittermination 2 timeunit seconds catch interruptedexception e throw new runtimeexception e observer oncomplete system out println starting thread t start system out println done starting thread 
try t join catch interruptedexception e throw new runtimeexception e 
threadsrunning incrementandget system out println busyobserver received oncomplete oncomplete true int concurrentthreads threadsrunning get int maxthreads maxconcurrentthreads get if concurrentthreads maxthreads maxconcurrentthreads compareandset maxthreads concurrentthreads threadsrunning decrementandget 
threadsrunning incrementandget system out println busyobserver received onerror e getmessage onerror true int concurrentthreads threadsrunning get int maxthreads maxconcurrentthreads get if concurrentthreads maxthreads maxconcurrentthreads compareandset maxthreads concurrentthreads threadsrunning decrementandget 
threadsrunning incrementandget try onnextcount incrementandget system out println busyobserver received onnext args try thread sleep 200 catch interruptedexception e e printstacktrace finally int concurrentthreads threadsrunning get int maxthreads maxconcurrentthreads get if concurrentthreads maxthreads maxconcurrentthreads compareandset maxthreads concurrentthreads threadsrunning decrementandget 
new thread override public void run try thread sleep 500 catch interruptedexception e o onnext value start 
new thread override public void run try thread sleep 500 catch interruptedexception e o onerror new testexception start 
return new source 
subject string obs publishsubject create iterator string it next obs iterator obs one asserttrue it hasnext assertequals one it next obs two asserttrue it hasnext assertequals two it next obs three try assertequals three it next catch e fail calling next without hasnext should wait for next fire obs oncomplete assertfalse it hasnext try it next fail at the end of an iterator should throw a catch e assertfalse it hasnext try it next fail at the end of an iterator should throw a catch e 
subject string obs publishsubject create iterator string it next obs iterator obs one asserttrue it hasnext assertequals one it next obs try it hasnext fail expected an testexception catch testexception e it 
observable string obs observable string empty observeon schedulers newthread iterator string it next obs iterator assertfalse it hasnext try it next fail at the end of an iterator should throw a catch e assertfalse it hasnext try it next fail at the end of an iterator should throw a catch e 
subject string obs publishsubject create iterator string it next obs iterator obs onerror new testexception try it hasnext fail expected an testexception catch testexception e it 
subject string obs publishsubject create iterator string it next obs iterator obs try it hasnext fail expected an testexception catch testexception e it 
try it hasnext fail hasnext should throw a testexception catch testexception e try it next fail next should throw a testexception catch testexception e 
subject string obs publishsubject create iterator string it next obs iterator obs one assertequals one it next obs two assertequals two it next obs oncomplete try it next fail at the end of an iterator should throw a catch e 
subject string obs publishsubject create iterator string it next obs iterator obs one asserttrue it hasnext asserttrue it hasnext asserttrue it hasnext asserttrue it hasnext assertequals one it next obs oncomplete try it next fail at the end of an iterator should throw a catch e 
int repeat 0 for final serialdisposable task new serialdisposable try final countdownlatch finished new countdownlatch 1 final int count 30 final countdownlatch timehaspassed new countdownlatch count final atomicboolean running new atomicboolean true final atomicinteger count new atomicinteger 0 final observable integer obs observable unsafecreate new observablesource integer override public void subscribe final observer super integer o o onsubscribe disposable empty task replace schedulers single scheduledirect new runnable override public void run try while running get task isdisposed o onnext count incrementandget timehaspassed countdown o oncomplete catch throwable e o onerror e finally finished countdown iterator integer it next obs iterator asserttrue it hasnext int a it next asserttrue it hasnext int b it next asserttrue a and b should be different a b timehaspassed await 8000 timeunit milliseconds asserttrue it hasnext int c it next asserttrue c should not just be the next in sequence c b 1 asserttrue expected that c c is higher than or equal to count c count asserttrue it hasnext int d it next asserttrue d c running set false finished await assertfalse it hasnext system out println a a b b c c break catch assertionerror ex if repeat 3 throw ex thread sleep int 1000 math pow 2 repeat 1 finally task dispose 
observable long o observable interval 250 timeunit milliseconds publishsubject integer terminal publishsubject create observable long source o takeuntil terminal iterable long iter source blockingnext for int j 0 j 3 j nextiterator long it nextiterator long iter iterator for long i 0 i 10 i assert asserttrue it hasnext assert assertequals j th iteration next long valueof i it next terminal onnext 1 
assertequals 1 behaviorsubject createdefault 1 take 1 blockingsingle intvalue assertequals 2 behaviorsubject createdefault 2 blockingiterable iterator next intvalue assertequals 3 behaviorsubject createdefault 3 blockingnext iterator next intvalue 
iterator object it observable never blockingnext iterator try thread currentthread interrupt it next catch runtimeexception ex asserttrue ex tostring ex getcause instanceof interruptedexception 
observable never blockingnext iterator remove 
nextobserver integer no new nextobserver list throwable errors testhelper trackpluginerrors try no onerror new testexception testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
nextobserver integer no new nextobserver no setwaiting no onnext notification createonnext 1 no setwaiting no onnext notification createonnext 1 assertequals 1 no takenext getvalue intvalue 
nextobserver integer no new nextobserver no setwaiting no onnext notification integer createoncomplete no setwaiting no onnext notification createonnext 1 asserttrue no takenext isoncomplete 
final countdownlatch scheduled new countdownlatch 1 final countdownlatch latch new countdownlatch 1 final countdownlatch donelatch new countdownlatch 1 testobserver integer to new testobserver observable unsafecreate new observablesource integer override public void subscribe final observer super integer observer observer onsubscribe disposable empty scheduled countdown try try latch await catch interruptedexception e observer oncomplete catch throwable e observer onerror e finally donelatch countdown subscribeon schedulers computation subscribe to scheduled await to dispose latch countdown donelatch await to assertnoerrors to assertcomplete 
testobserverex string to new testobserverex observable unsafecreate new observablesource string override public void subscribe observer super string observer observer onsubscribe disposable empty observer onerror new runtimeexception fail subscribeon schedulers computation subscribe to to awaitdone 1000 timeunit milliseconds to assertterminated 
return new slowinner actual createworker 
actualinner dispose 
return actualinner isdisposed 
return actualinner schedule action delay unit 
testobserver integer to new testobserver final atomicinteger count new atomicinteger observable unsafecreate new observablesource integer override public void subscribe observer super integer sub disposable d disposable empty sub onsubscribe d for int i 1 d isdisposed i count incrementandget sub onnext i subscribeon schedulers newthread take 10 subscribe to to awaitdone 1000 timeunit milliseconds to dispose thread sleep 200 to assertvalues 1 2 3 4 5 6 7 8 9 10 assertequals 10 count get 
testscheduler test new testscheduler testobserverex integer to new testobserverex observable just 1 hide subscribeon test subscribe to to dispose test advancetimeby 1 timeunit seconds to assertsubscribed assertnovalues assertnotterminated 
testhelper checkdisposed observable just 1 subscribeon schedulers single 
performtestusing false 
performtestusing true 
false 
true 
$EMPTY$
false 
true 
false 
true 
final list string events new arraylist supplier resource resourcefactory events final action completion events final action unsub createunsubaction events function resource observable string observablefactory new function resource observable string override public observable string apply resource resource return observable fromarray resource gettextfromweb split observer string observer testhelper mockobserver observable string o observable using resourcefactory observablefactory new disposeaction true doondispose unsub dooncomplete completion o safesubscribe observer assertequals arrays aslist disposed completed events 
final list string events new arraylist supplier resource resourcefactory events final action completion events final action unsub createunsubaction events function resource observable string observablefactory new function resource observable string override public observable string apply resource resource return observable fromarray resource gettextfromweb split observer string observer testhelper mockobserver observable string o observable using resourcefactory observablefactory new disposeaction false doondispose unsub dooncomplete completion o safesubscribe observer assertequals arrays aslist completed disposed events 
final list string events new arraylist supplier resource resourcefactory events final consumer throwable onerror createonerroraction events final action unsub createunsubaction events function resource observable string observablefactory new function resource observable string override public observable string apply resource resource return observable fromarray resource gettextfromweb split concatwith observable string error new runtimeexception observer string observer testhelper mockobserver observable string o observable using resourcefactory observablefactory new disposeaction true doondispose unsub doonerror onerror o safesubscribe observer assertequals arrays aslist disposed error events 
final list string events new arraylist final supplier resource resourcefactory events final consumer throwable onerror createonerroraction events final action unsub createunsubaction events function resource observable string observablefactory new function resource observable string override public observable string apply resource resource return observable fromarray resource gettextfromweb split concatwith observable string error new runtimeexception observer string observer testhelper mockobserver observable string o observable using resourcefactory observablefactory new disposeaction false doondispose unsub doonerror onerror o safesubscribe observer assertequals arrays aslist error disposed events 
return new action override public void run events add unsub 
return new consumer throwable override public void accept throwable t events add error 
return new supplier resource override public resource get return new resource override public string gettextfromweb return hello world override public void dispose events add disposed 
return new action override public void run events add completed 
testobserverex object to observable using new supplier object override public object get throws exception return 1 new function object observablesource object override public observablesource object apply object v throws exception throw new testexception first new consumer object override public void accept object e throws exception throw new testexception second to testhelper object testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist to errors get 0 testhelper asserterror errors 0 testexception class first testhelper asserterror errors 1 testexception class second 
throw new testexception second 
testobserverex object to observable using new supplier object override public object get throws exception return 1 new function object observablesource object override public observablesource object apply object v throws exception return observable error new testexception first new consumer object override public void accept object e throws exception throw new testexception second to testhelper object testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist to errors get 0 testhelper asserterror errors 0 testexception class first testhelper asserterror errors 1 testexception class second 
observable using new supplier object override public object get throws exception return 1 new function object observablesource object override public observablesource object apply object v throws exception return observable empty new consumer object override public void accept object e throws exception throw new testexception second to testhelper object testconsumer testexception class second 
list throwable errors testhelper trackpluginerrors try observable using new supplier object override public object get throws exception return 1 new function object observablesource object override public observablesource object apply object v throws exception return observable empty new consumer object override public void accept object e throws exception throw new testexception second false test assertresult testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
observable using functions justsupplier 1 functions justfunction observable object null functions emptyconsumer to testhelper object testconsumer nullpointerexception class the sourcesupplier returned a null observablesource 
testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return observable using functions justsupplier 1 functions justfunction o functions emptyconsumer 
final testobserver integer to new testobserver observable using functions justsupplier 1 functions justfunction new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty to dispose observer oncomplete functions emptyconsumer true subscribe to 
final testobserver integer to new testobserver observable using functions justsupplier 1 functions justfunction new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty to dispose observer onerror new testexception functions emptyconsumer true subscribe to 
final stringbuilder sb new stringbuilder observable using functions justsupplier 1 new function integer observable integer override public observable integer apply integer t throws throwable return observable range 1 2 doondispose new action override public void run throws throwable sb append dispose new consumer integer override public void accept integer t throws throwable sb append resource true take 1 test assertresult 1 assertequals resourcedispose sb tostring 
final stringbuilder sb new stringbuilder observable using functions justsupplier 1 new function integer observable integer override public observable integer apply integer t throws throwable return observable range 1 2 doondispose new action override public void run throws throwable sb append dispose new consumer integer override public void accept integer t throws throwable sb append resource false take 1 test assertresult 1 assertequals disposeresource sb tostring 
publishsubject integer source publishsubject create final publishsubject integer timeout publishsubject create function integer observable integer timeoutfunc new function integer observable integer override public observable integer apply integer t1 return timeout observable integer other observable fromiterable arrays aslist 100 observer object o testhelper mockobserver inorder inorder inorder o source timeout timeout timeoutfunc other subscribe o source onnext 1 source onnext 2 source onnext 3 timeout onnext 1 inorder verify o onnext 1 inorder verify o onnext 2 inorder verify o onnext 3 inorder verify o onnext 100 inorder verify o oncomplete verify o never onerror any throwable class 
observable integer source observable integer never final publishsubject integer timeout publishsubject create function integer observable integer timeoutfunc new function integer observable integer override public observable integer apply integer t1 return timeout observable integer other observable fromiterable arrays aslist 100 observer object o testhelper mockobserver inorder inorder inorder o source timeout timeout timeoutfunc other subscribe o timeout onnext 1 inorder verify o onnext 100 inorder verify o oncomplete verify o never onerror any throwable class 
observable integer source observable integer never final publishsubject integer timeout publishsubject create function integer observable integer timeoutfunc new function integer observable integer override public observable integer apply integer t1 return timeout supplier observable integer firsttimeoutfunc new supplier observable integer override public observable integer get throw new testexception observable integer other observable fromiterable arrays aslist 100 observer object o testhelper mockobserver source timeout observable defer firsttimeoutfunc timeoutfunc other subscribe o verify o onerror any testexception class verify o never onnext any verify o never oncomplete 
publishsubject integer source publishsubject create final publishsubject integer timeout publishsubject create function integer observable integer timeoutfunc new function integer observable integer override public observable integer apply integer t1 throw new testexception observable integer other observable fromiterable arrays aslist 100 observer object o testhelper mockobserver inorder inorder inorder o source timeout timeout timeoutfunc other subscribe o source onnext 1 inorder verify o onnext 1 inorder verify o onerror any testexception class verify o never oncomplete 
publishsubject integer source publishsubject create final publishsubject integer timeout publishsubject create function integer observable integer timeoutfunc new function integer observable integer override public observable integer apply integer t1 return timeout observable integer other observable fromiterable arrays aslist 100 observer object o testhelper mockobserver source timeout observable integer error new testexception timeoutfunc other subscribe o verify o onerror any testexception class verify o never onnext any verify o never oncomplete 
publishsubject integer source publishsubject create final publishsubject integer timeout publishsubject create function integer observable integer timeoutfunc new function integer observable integer override public observable integer apply integer t1 return observable integer error new testexception observable integer other observable fromiterable arrays aslist 100 observer object o testhelper mockobserver inorder inorder inorder o source timeout timeout timeoutfunc other subscribe o source onnext 1 inorder verify o onnext 1 inorder verify o onerror any testexception class verify o never oncomplete 
publishsubject integer source publishsubject create final publishsubject integer timeout publishsubject create function integer observable integer timeoutfunc new function integer observable integer override public observable integer apply integer t1 return publishsubject create observer object o testhelper mockobserver source timeout timeout timeoutfunc subscribe o timeout onnext 1 inorder inorder inorder o inorder verify o onerror isa timeoutexception class inorder 
publishsubject integer source publishsubject create final publishsubject integer timeout publishsubject create function integer observable integer timeoutfunc new function integer observable integer override public observable integer apply integer t1 return timeout observer object o testhelper mockobserver source timeout publishsubject create timeoutfunc subscribe o source onnext 1 timeout onnext 1 inorder inorder inorder o inorder verify o onnext 1 inorder verify o onerror isa timeoutexception class inorder 
final countdownlatch observerreceivedtwo new countdownlatch 1 final countdownlatch timeoutemittedone new countdownlatch 1 final countdownlatch observercompleted new countdownlatch 1 final countdownlatch enteredtimeoutone new countdownlatch 1 final atomicboolean latchtimeout new atomicboolean false final function integer observable integer timeoutfunc new function integer observable integer override public observable integer apply integer t1 if t1 1 return observable unsafecreate new observablesource integer override public void subscribe observer super integer observer observer onsubscribe disposable empty enteredtimeoutone countdown while true try if observerreceivedtwo await 30 timeunit seconds latchtimeout set true break catch interruptedexception e observer onnext 1 timeoutemittedone countdown subscribeon schedulers newthread else return publishsubject create final observer integer o testhelper mockobserver doanswer new answer void override public void answer invocationonmock invocation throws throwable observerreceivedtwo countdown return null when o onnext 2 doanswer new answer void override public void answer invocationonmock invocation throws throwable observercompleted countdown return null when o oncomplete final testobserver integer to new testobserver o new thread new runnable override public void run publishsubject integer source publishsubject create source timeout timeoutfunc observable just 3 subscribe to source onnext 1 try if enteredtimeoutone await 30 timeunit seconds latchtimeout set true catch interruptedexception e e printstacktrace source onnext 2 try if timeoutemittedone await 30 timeunit seconds latchtimeout set true catch interruptedexception e e printstacktrace source oncomplete start if observercompleted await 30 timeunit seconds latchtimeout set true assertfalse counddownlatch timeout latchtimeout get inorder inorder inorder o inorder verify o onsubscribe disposable notnull inorder verify o onnext 1 inorder verify o onnext 2 inorder verify o never onnext 3 inorder verify o oncomplete inorder 
testhelper checkdisposed publishsubject create timeout functions justfunction observable never testhelper checkdisposed publishsubject create timeout functions justfunction observable never observable never 
testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return o timeout functions justfunction observable never testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return o timeout functions justfunction observable never observable never 
observable empty timeout functions justfunction observable never test assertresult 
observable error new testexception timeout functions justfunction observable never test assertfailure testexception class 
publishsubject integer ps publishsubject create testobserver integer to ps timeout functions justfunction observable empty test ps onnext 1 to assertfailure timeoutexception class 1 
list throwable errors testhelper trackpluginerrors try publishsubject integer ps publishsubject create testobserverex integer to ps timeout functions justfunction new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onerror new testexception first observer onnext 2 observer onerror new testexception second observer oncomplete to testhelper integer testconsumer ps onnext 1 to testexception class first 1 testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try publishsubject integer ps publishsubject create testobserverex integer to ps timeout functions justfunction new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onerror new testexception first observer onnext 2 observer onerror new testexception second observer oncomplete observable just 2 to testhelper integer testconsumer ps onnext 1 to testexception class first 1 testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
observable error new testexception timeout functions justfunction observable never observable never test assertfailure testexception class 
new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onnext 1 observer onnext 2 observer onerror new testexception first observer onnext 3 observer oncomplete observer onerror new testexception second timeout functions justfunction observable never observable integer never take 1 test assertresult 1 
publishsubject integer ps publishsubject create testobserver integer to ps timeout functions justfunction observable never take 1 test asserttrue ps hasobservers ps onnext 1 assertfalse ps hasobservers to assertresult 1 
publishsubject integer ps publishsubject create testobserver integer to ps timeout functions justfunction observable never observable just 2 take 1 test asserttrue ps hasobservers ps onnext 1 assertfalse ps hasobservers to assertresult 1 
for int i 0 i testhelper race default loops i list throwable errors testhelper trackpluginerrors try final publishsubject integer ps publishsubject create final observer sub null null final observable integer pp2 new observable integer int count override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty sub count observer testobserver integer to ps timeout functions justfunction pp2 test ps onnext 0 runnable r1 new runnable override public void run ps onnext 1 final throwable ex new testexception runnable r2 new runnable override public void run sub 0 onerror ex testhelper race r1 r2 to assertvalueat 0 0 if errors isempty testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
for int i 0 i testhelper race default loops i list throwable errors testhelper trackpluginerrors try final publishsubject integer ps publishsubject create final observer sub null null final observable integer pp2 new observable integer int count override protected void subscribeactual observer super integer observer assertfalse disposable observer isdisposed observer onsubscribe disposable empty sub count observer testobserver integer to ps timeout functions justfunction pp2 observable integer never test ps onnext 0 runnable r1 new runnable override public void run ps onnext 1 final throwable ex new testexception runnable r2 new runnable override public void run sub 0 onerror ex testhelper race r1 r2 to assertvalueat 0 0 if errors isempty testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
for int i 0 i testhelper race default loops i list throwable errors testhelper trackpluginerrors try final publishsubject integer ps publishsubject create final observer sub null null final observable integer pp2 new observable integer int count override protected void subscribeactual observer super integer observer assertfalse disposable observer isdisposed observer onsubscribe disposable empty sub count observer testobserver integer to ps timeout functions justfunction pp2 test ps onnext 0 final throwable ex new testexception runnable r1 new runnable override public void run ps onerror ex runnable r2 new runnable override public void run sub 0 oncomplete testhelper race r1 r2 to assertvalueat 0 0 if errors isempty testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
for int i 0 i testhelper race default loops i list throwable errors testhelper trackpluginerrors try final publishsubject integer ps publishsubject create final observer sub null null final observable integer pp2 new observable integer int count override protected void subscribeactual observer super integer observer assertfalse disposable observer isdisposed observer onsubscribe disposable empty sub count observer testobserver integer to ps timeout functions justfunction pp2 test ps onnext 0 runnable r1 new runnable override public void run ps oncomplete runnable r2 new runnable override public void run sub 0 oncomplete testhelper race r1 r2 to assertvalueat 0 0 if errors isempty testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
for int i 0 i testhelper race default loops i list throwable errors testhelper trackpluginerrors try final publishsubject integer ps publishsubject create final observer sub null null final observable integer pp2 new observable integer int count override protected void subscribeactual observer super integer observer assertfalse disposable observer isdisposed observer onsubscribe disposable empty sub count observer testobserver integer to ps timeout functions justfunction pp2 observable integer never test ps onnext 0 runnable r1 new runnable override public void run ps oncomplete runnable r2 new runnable override public void run sub 0 oncomplete testhelper race r1 r2 to assertvalueat 0 0 if errors isempty testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
publishsubject integer ps publishsubject create final atomicinteger counter new atomicinteger observable object timeoutandfallback observable never doonsubscribe new consumer disposable override public void accept disposable d throws exception counter incrementandget ps timeout timeoutandfallback functions justfunction timeoutandfallback test true assertempty assertequals 0 counter get 
publishsubject object ps publishsubject create final atomicinteger counter new atomicinteger observable object timeoutandfallback observable never doonsubscribe new consumer disposable override public void accept disposable d throws exception counter incrementandget ps timeout timeoutandfallback functions justfunction timeoutandfallback timeoutandfallback test true assertempty assertequals 0 counter get 
observable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete toobservable test assertresult 
publishsubject integer ps publishsubject create testobserver integer to ps flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception throw new testexception integer toobservable test asserttrue ps hasobservers ps onnext 1 to assertfailure testexception class assertfalse ps hasobservers 
publishsubject integer ps publishsubject create testobserver integer to ps flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return null integer toobservable test asserttrue ps hasobservers ps onnext 1 to assertfailure nullpointerexception class assertfalse ps hasobservers 
observable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete true toobservable test assertresult 
observable range 1 1000 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return observable range 1 100 subscribeon schedulers computation ignoreelements toobservable test awaitdone 5 timeunit seconds assertresult 
testobserverex integer to observable range 1 10 concatwith observable integer error new testexception flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable error new testexception true integer toobservable to testhelper integer testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist to errors get 0 for int i 0 i 11 i testhelper asserterror errors i testexception class 
testobserverex integer to observable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable error new testexception true integer toobservable to testhelper integer testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist to errors get 0 for int i 0 i 10 i testhelper asserterror errors i testexception class 
observable range 1 10 concatwith observable integer error new testexception flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete false toobservable test assertfailure testexception class 
testobserverex integer to new testobserverex queuefuseable any observable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete integer toobservable subscribe to to assertfuseable assertfusionmode queuefuseable async assertresult 
testhelper checkdisposed observable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete toobservable 
observable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete test assertresult 
publishsubject integer ps publishsubject create testobserver void to ps flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception throw new testexception test asserttrue ps hasobservers ps onnext 1 to assertfailure testexception class assertfalse ps hasobservers 
publishsubject integer ps publishsubject create testobserver void to ps flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return null test asserttrue ps hasobservers ps onnext 1 to assertfailure nullpointerexception class assertfalse ps hasobservers 
observable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete true test assertresult 
observable range 1 1000 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return observable range 1 100 subscribeon schedulers computation ignoreelements test awaitdone 5 timeunit seconds assertresult 
testobserverex void to observable range 1 10 concatwith observable integer error new testexception flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable error new testexception true to testhelper void testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist to errors get 0 for int i 0 i 11 i testhelper asserterror errors i testexception class 
testobserverex void to observable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable error new testexception true to testhelper void testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist to errors get 0 for int i 0 i 10 i testhelper asserterror errors i testexception class 
observable range 1 10 concatwith observable integer error new testexception flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete false test assertfailure testexception class 
testobserverex integer to new testobserverex queuefuseable any observable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete integer toobservable subscribe to to assertfuseable assertfusionmode queuefuseable async assertresult 
testhelper checkdisposed observable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete 
observable range 1 3 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return new completable override protected void subscribeactual completableobserver observer observer onsubscribe disposable empty assertfalse disposable observer isdisposed disposable observer dispose asserttrue disposable observer isdisposed test 
testhelper new function observable integer object override public object apply observable integer o throws exception return o flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete false 1 null 
observable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete toobservable subscribe new observer object override public void onsubscribe disposable d queuedisposable qd queuedisposable d try assertnull qd poll catch throwable ex throw new runtimeexception ex asserttrue qd isempty qd clear override public void onnext object t override public void onerror throwable t override public void oncomplete 
observable range 1 3 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return new completable override protected void subscribeactual completableobserver observer observer onsubscribe disposable empty assertfalse disposable observer isdisposed disposable observer dispose asserttrue disposable observer isdisposed toobservable test 
testhelper new function observable integer object override public object apply observable integer o throws exception return o flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete toobservable false 1 null 
testhelper new observableconverter integer completable override public completable apply observable integer upstream return upstream flatmapcompletable new function integer completable override public completable apply integer v throws throwable return completable complete hide 
testhelper new observableconverter integer completable override public completable apply observable integer upstream return upstream flatmapcompletable new function integer completable override public completable apply integer v throws throwable return completable complete hide true 
testhelper o o flatmapcompletable v completable never toobservable 
testhelper o o flatmapcompletable v completable never 
for int i 0 i testhelper race default loops i publishsubject integer ps1 publishsubject create testobserver object to new testobserver countdownlatch cdl new countdownlatch 1 ps1 flatmapcompletable v testhelper raceother to dispose cdl return completable complete toobservable subscribe to ps1 onnext 1 cdl await 
for int i 0 i testhelper race default loops i publishsubject integer ps1 publishsubject create testobserver void to new testobserver countdownlatch cdl new countdownlatch 1 ps1 flatmapcompletable v testhelper raceother to dispose cdl return completable complete subscribe to ps1 onnext 1 cdl await 
testscheduler scheduler new testscheduler publishsubject integer source publishsubject create observable integer result source take 1 timeunit seconds scheduler observer object o testhelper mockobserver result subscribe o source onnext 1 source onnext 2 source onnext 3 scheduler advancetimeby 1 timeunit seconds source onnext 4 inorder inorder inorder o inorder verify o onnext 1 inorder verify o onnext 2 inorder verify o onnext 3 inorder verify o oncomplete inorder verify o never onnext 4 verify o never onerror any throwable class 
testscheduler scheduler new testscheduler publishsubject integer source publishsubject create observable integer result source take 1 timeunit seconds scheduler observer object o testhelper mockobserver result subscribe o source onnext 1 source onnext 2 source onnext 3 source onerror new testexception scheduler advancetimeby 1 timeunit seconds source onnext 4 inorder inorder inorder o inorder verify o onnext 1 inorder verify o onnext 2 inorder verify o onnext 3 inorder verify o onerror any testexception class inorder verify o never oncomplete verify o never onnext 4 
testscheduler scheduler new testscheduler publishsubject integer source publishsubject create observable integer result source take 1 timeunit seconds scheduler observer object o testhelper mockobserver result subscribe o source onnext 1 source onnext 2 source onnext 3 scheduler advancetimeby 1 timeunit seconds source onnext 4 source onerror new testexception inorder inorder inorder o inorder verify o onnext 1 inorder verify o onnext 2 inorder verify o onnext 3 inorder verify o oncomplete inorder verify o never onnext 4 verify o never onerror any testexception class 
observable range 1 5 take 1 timeunit minutes test awaitdone 5 timeunit seconds assertresult 1 2 3 4 5 
concat2strings new bifunction string string string override public string apply string t1 string t2 return t1 t2 s1 publishsubject create s2 publishsubject create zipped observable zip s1 s2 concat2strings observer testhelper mockobserver inorder inorder observer zipped subscribe observer 
function object string zipr functions tofunction observer string observer testhelper mockobserver suppresswarnings rawtypes collection ws java util collections singleton observable just one two observable string w observable zip ws zipr w subscribe observer verify observer times 1 onerror any throwable class verify observer never oncomplete verify observer never onnext any string class 
observer string w testhelper mockobserver testobservable w1 new testobservable testobservable w2 new testobservable testobservable w3 new testobservable observable string zipw observable zip observable unsafecreate w1 observable unsafecreate w2 observable unsafecreate w3 zipw subscribe w w1 observer onnext 1a w1 observer oncomplete w2 observer onnext 2a w2 observer onnext 2b w2 observer oncomplete w3 observer onnext 3a w3 observer onnext 3b w3 observer onnext 3c w3 observer onnext 3d w3 observer oncomplete inorder io inorder w io verify w onnext 1a2a3a io verify w times 1 oncomplete 
observer string w testhelper mockobserver testobservable w1 new testobservable testobservable w2 new testobservable testobservable w3 new testobservable observable string zipw observable zip observable unsafecreate w1 observable unsafecreate w2 observable unsafecreate w3 zipw subscribe w w1 observer onnext 1a w1 observer onnext 1b w1 observer onnext 1c w1 observer onnext 1d w1 observer oncomplete w2 observer onnext 2a w2 observer onnext 2b w2 observer oncomplete w3 observer onnext 3a w3 observer oncomplete inorder io inorder w io verify w onnext 1a2a3a io verify w times 1 oncomplete 
publishsubject string r1 publishsubject create publishsubject string r2 publishsubject create observer string observer testhelper mockobserver observable zip r1 r2 zipr2 subscribe observer r1 onnext hello r2 onnext world inorder inorder inorder observer verify observer never onerror any throwable class verify observer never oncomplete inorder verify observer times 1 onnext helloworld r1 onnext hello r2 onnext again verify observer never onerror any throwable class verify observer never oncomplete inorder verify observer times 1 onnext hello again r1 oncomplete r2 oncomplete inorder verify observer never onnext anystring verify observer times 1 oncomplete 
publishsubject string r1 publishsubject create publishsubject string r2 publishsubject create observer string observer testhelper mockobserver observable zip r1 r2 zipr2 subscribe observer r1 onnext hello r2 onnext world r2 oncomplete inorder inorder inorder observer inorder verify observer never onerror any throwable class inorder verify observer times 1 onnext helloworld inorder verify observer times 1 oncomplete r1 onnext hi r1 oncomplete inorder verify observer never onerror any throwable class inorder verify observer never oncomplete inorder verify observer never onnext anystring 
publishsubject string r1 publishsubject create publishsubject integer r2 publishsubject create observer string observer testhelper mockobserver observable zip r1 r2 zipr2 subscribe observer r1 onnext hello r2 onnext 1 r2 oncomplete inorder inorder inorder observer inorder verify observer never onerror any throwable class inorder verify observer times 1 onnext hello1 inorder verify observer times 1 oncomplete r1 onnext hi r1 oncomplete inorder verify observer never onerror any throwable class inorder verify observer never oncomplete inorder verify observer never onnext anystring 
publishsubject string r1 publishsubject create publishsubject integer r2 publishsubject create publishsubject list integer r3 publishsubject create observer string observer testhelper mockobserver observable zip r1 r2 r3 zipr3 subscribe observer r1 onnext hello r2 onnext 2 r3 onnext arrays aslist 5 6 7 verify observer never onerror any throwable class verify observer never oncomplete verify observer times 1 onnext hello2 5 6 7 
publishsubject string r1 publishsubject create publishsubject string r2 publishsubject create observer string observer testhelper mockobserver observable zip r1 r2 zipr2 subscribe observer r1 onnext one r1 onnext two r1 onnext three r2 onnext a verify observer never onerror any throwable class verify observer never oncomplete verify observer times 1 onnext onea r1 onnext four r1 oncomplete r2 onnext b verify observer times 1 onnext twob r2 onnext c verify observer times 1 onnext threec r2 onnext d verify observer times 1 onnext fourd r2 onnext e verify observer never onnext e r2 oncomplete verify observer never onerror any throwable class verify observer times 1 oncomplete 
publishsubject string r1 publishsubject create publishsubject string r2 publishsubject create observer string observer testhelper mockobserver observable zip r1 r2 zipr2 subscribe observer r1 onnext hello r2 onnext world verify observer never onerror any throwable class verify observer never oncomplete verify observer times 1 onnext helloworld r1 onerror new runtimeexception r1 onnext hello r2 onnext again verify observer times 1 onerror any throwable class verify observer never oncomplete verify observer times 0 onnext helloagain 
publishsubject string r1 publishsubject create publishsubject string r2 publishsubject create observer string observer testhelper mockobserver testobserver string to new testobserver observer observable zip r1 r2 zipr2 subscribe to r1 onnext hello r2 onnext world verify observer never onerror any throwable class verify observer never oncomplete verify observer times 1 onnext helloworld to dispose r1 onnext hello r2 onnext again verify observer times 0 onerror any throwable class verify observer never oncomplete verify observer times 0 onnext helloagain 
publishsubject string r1 publishsubject create publishsubject string r2 publishsubject create observer string observer testhelper mockobserver observable zip r1 r2 zipr2 subscribe observer r1 onnext one r1 onnext two r1 oncomplete r2 onnext a inorder inorder inorder observer inorder verify observer never onerror any throwable class inorder verify observer never oncomplete inorder verify observer times 1 onnext onea r2 oncomplete inorder verify observer never onerror any throwable class inorder verify observer times 1 oncomplete inorder verify observer never onnext anystring 
bifunction string integer string zipr observer string observer testhelper mockobserver observable string w observable zip observable just one two observable just 2 3 4 zipr w subscribe observer verify observer never onerror any throwable class verify observer times 1 oncomplete verify observer times 1 onnext one2 verify observer times 1 onnext two3 verify observer never onnext 4 
function3 string integer int string zipr observer string observer testhelper mockobserver observable string w observable zip observable just one two observable just 2 observable just new int 4 5 6 zipr w subscribe observer verify observer never onerror any throwable class verify observer times 1 oncomplete verify observer times 1 onnext one2 4 5 6 verify observer never onnext two 
bifunction integer integer integer zipr getdividezipr observer integer observer testhelper mockobserver observable integer w observable zip observable just 10 20 30 observable just 0 1 2 zipr w subscribe observer verify observer times 1 onerror any throwable class 
publishsubject string oa publishsubject create publishsubject string ob publishsubject create observer string obs testhelper mockobserver observable string o observable zip oa ob getconcat2strings o subscribe obs inorder io inorder obs oa onnext a1 io verify obs never onnext anystring ob onnext b1 io verify obs times 1 onnext a1 b1 ob onnext b2 io verify obs never onnext anystring oa onnext a2 io verify obs times 1 onnext a2 b2 oa onnext a3 oa onnext a4 oa onnext a5 oa oncomplete ob onnext b3 ob onnext b4 ob onnext b5 io verify obs times 1 onnext a3 b3 io verify obs times 1 onnext a4 b4 io verify obs times 1 onnext a5 b5 io verify obs times 1 oncomplete ob onnext b6 ob onnext b7 ob onnext b8 ob onnext b9 io 
publishsubject string oa publishsubject create publishsubject string ob publishsubject create observer string obs testhelper mockobserver observable string o observable zip oa ob getconcat2strings o subscribe obs inorder io inorder obs oa onnext a1 io verify obs never onnext anystring ob onnext b1 io verify obs times 1 onnext a1 b1 ob onnext b2 io verify obs never onnext anystring oa onnext a2 io verify obs times 1 onnext a2 b2 oa onnext a3 oa onnext a4 oa onnext a5 oa onerror new runtimeexception forced failure io verify obs times 1 onerror any runtimeexception class ob onnext b3 ob onnext b4 ob onnext b5 ob onnext b6 ob onnext b7 ob onnext b8 ob onnext b9 io 
return new bifunction string string string override public string apply string t1 string t2 return t1 t2 
bifunction integer integer integer zipr new bifunction integer integer integer override public integer apply integer i1 integer i2 return i1 i2 return zipr 
function3 string string string string zipr new function3 string string string string override public string apply string a1 string a2 string a3 if a1 null a1 if a2 null a2 if a3 null a3 return a1 a2 a3 return zipr 
bifunction string integer string zipr new bifunction string integer string override public string apply string s integer i return getstringvalue s getstringvalue i return zipr 
function3 string integer int string zipr new function3 string integer int string override public string apply string s integer i int iarray return getstringvalue s getstringvalue i getstringvalue iarray return zipr 
if o null return else if o instanceof int return arrays tostring int o else return string valueof o 
this observer observer observer onsubscribe disposable empty 
s1 onnext a s1 onnext b s1 oncomplete s2 onnext 1 inorder verify observer times 1 onnext a 1 s2 onnext 2 inorder verify observer times 1 onnext b 2 inorder verify observer times 1 oncomplete inorder 
s2 onnext 1 s2 onnext 2 s1 onnext a inorder verify observer times 1 onnext a 1 s1 onnext b inorder verify observer times 1 onnext b 2 s1 oncomplete inorder verify observer times 1 oncomplete inorder 
s2 onnext 1 s2 onnext 2 s2 oncomplete s1 onnext a inorder verify observer times 1 onnext a 1 s1 onnext b inorder verify observer times 1 onnext b 2 inorder verify observer times 1 oncomplete inorder 
s1 onnext a s1 onnext b s2 onnext 1 inorder verify observer times 1 onnext a 1 s2 onnext 2 inorder verify observer times 1 onnext b 2 s2 oncomplete inorder verify observer times 1 oncomplete inorder 
s2 onnext a s1 onerror new runtimeexception forced failure inorder verify observer times 1 onerror any runtimeexception class s2 onnext b s1 onnext 1 s1 onnext 2 inorder verify observer never oncomplete inorder verify observer never onnext any string class inorder 
s1 onnext a s1 onnext b s2 onerror new runtimeexception forced failure inorder verify observer times 1 onerror any runtimeexception class s2 onnext 1 s2 onnext 2 inorder verify observer never oncomplete inorder verify observer never onnext any string class inorder 
final observer integer observer testhelper mockobserver observable zip observable just 1 observable just 1 new bifunction integer integer integer override public integer apply integer a integer b return a b subscribe new defaultobserver integer override public void oncomplete observer oncomplete override public void onerror throwable e observer onerror e override public void onnext integer args observer onnext args inorder inorder inorder observer inorder verify observer times 1 onnext 2 inorder verify observer times 1 oncomplete inorder 
observable string os observable of 5 integers zipwith observable of 5 integers new bifunction integer integer string override public string apply integer a integer b return a b final arraylist string list new arraylist os subscribe new consumer string override public void accept string s system out println s list add s assertequals 5 list size assertequals 1 1 list get 0 assertequals 2 2 list get 1 assertequals 5 5 list get 4 
observable string os async observable of infinite integers new countdownlatch 1 zipwith async observable of infinite integers new countdownlatch 1 new bifunction integer integer string override public string apply integer a integer b return a b take 5 testobserver string to new testobserver os subscribe to to awaitdone 5 timeunit seconds to assertnoerrors assertequals 5 to values size assertequals 1 1 to values get 0 assertequals 2 2 to values get 1 assertequals 5 5 to values get 4 
final countdownlatch latch new countdownlatch 1 final countdownlatch infiniteobservable new countdownlatch 1 observable string os observable of 5 integers zipwith async observable of infinite integers infiniteobservable new bifunction integer integer string override public string apply integer a integer b return a b final arraylist string list new arraylist os subscribe new defaultobserver string override public void oncomplete latch countdown override public void onerror throwable e e printstacktrace latch countdown override public void onnext string s system out println s list add s latch await 1000 timeunit milliseconds if infiniteobservable await 2000 timeunit milliseconds throw new runtimeexception didn t unsubscribe assertequals 5 list size assertequals 1 1 list get 0 assertequals 2 2 list get 1 assertequals 5 5 list get 4 
if notification isonerror return onerror if notification isonnext return onnext return oncomplete 
if notification isonnext return string valueof notification getvalue return null 
observable notification integer oi observable just 1 2 3 materialize observable notification string os observable just a b c materialize observable string o observable zip oi os new bifunction notification integer notification string string override public string apply notification integer t1 notification string t2 return kind t1 value t1 kind t2 value t2 final arraylist string list new arraylist o subscribe new consumer string override public void accept string s system out println s list add s assertequals 4 list size assertequals onnext 1 onnext a list get 0 assertequals onnext 2 onnext b list get 1 assertequals onnext 3 onnext c list get 2 assertequals oncomplete null oncomplete null list get 3 
observable string o observable zip observable integer empty observable string empty new bifunction integer string string override public string apply integer t1 string t2 return t1 t2 final arraylist string list new arraylist o subscribe new consumer string override public void accept string s system out println s list add s assertequals 0 list size 
final object invoked new object collection observable object observables collections emptylist observable object o observable zip observables new function object object override public object apply final object args assertequals no argument should have been passed 0 args length return invoked testobserver object to new testobserver o subscribe to to awaitdone 200 timeunit milliseconds to assertnovalues 
final object invoked new object collection observable object observables collections emptylist observable object o observable zip observables new function object object override public object apply final object args assertequals no argument should have been passed 0 args length return invoked o blockinglast 
atomicinteger generateda new atomicinteger atomicinteger generatedb new atomicinteger observable integer o1 generateda take observable buffersize 2 observable integer o2 generatedb take observable buffersize 2 testobserver string to new testobserver observable zip o1 o2 new bifunction integer integer string override public string apply integer t1 integer t2 return t1 t2 observeon schedulers computation take observable buffersize 2 subscribe to to awaitdone 5 timeunit seconds to assertnoerrors assertequals observable buffersize 2 to values size system out println generated a generateda get b generatedb get asserttrue generateda get observable buffersize 3 asserttrue generatedb get observable buffersize 3 
observable integer o observable fromiterable new iterable integer override public iterator integer iterator return new iterator integer override public void remove override public integer next return generated getandincrement override public boolean hasnext return true return o 
return observable unsafecreate new observablesource integer override public void subscribe final observer super integer o disposable d disposable empty o onsubscribe d for int i 1 i 5 i if d isdisposed break numemitted incrementandget o onnext i thread yield o oncomplete 
return observable unsafecreate new observablesource integer override public void subscribe final observer super integer o final disposable d disposable empty o onsubscribe d thread t new thread new runnable override public void run system out println subscribe to infinite sequence system out println starting thread thread currentthread int i 1 while d isdisposed o onnext i thread yield o oncomplete latch countdown system out println ending thread thread currentthread t start 
observable integer zip1 observable zip observable range 0 1026 observable range 0 1026 new bifunction integer integer integer override public integer apply integer i1 integer i2 return i1 i2 observable integer zip2 observable zip zip1 observable range 0 1026 new bifunction integer integer integer override public integer apply integer i1 integer i2 return i1 i2 list integer expected new arraylist for int i 0 i 1026 i expected add i 3 assertequals expected zip2 tolist blockingget 
long starttime system currenttimemillis observable integer src observable just 1 subscribeon schedulers computation int i 0 while system currenttimemillis starttime 9000 i int value observable zip src src new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 t2 10 blockingsingle 0 assert assertequals 11 value 
observable zip observable just 1 observable just 2 new bifunction integer integer object override public object apply integer a integer b throws exception return a b test assertresult 12 
observable zip observable just 1 observable just 2 observable just 3 new function3 integer integer integer object override public object apply integer a integer b integer c throws exception return a b c test assertresult 123 
observable zip observable just 1 observable just 2 observable just 3 observable just 4 new function4 integer integer integer integer object override public object apply integer a integer b integer c integer d throws exception return a b c d test assertresult 1234 
observable zip observable just 1 observable just 2 observable just 3 observable just 4 observable just 5 new function5 integer integer integer integer integer object override public object apply integer a integer b integer c integer d integer e throws exception return a b c d e test assertresult 
observable zip observable just 1 observable just 2 observable just 3 observable just 4 observable just 5 observable just 6 new function6 integer integer integer integer integer integer object override public object apply integer a integer b integer c integer d integer e integer f throws exception return a b c d e f test assertresult 
observable zip observable just 1 observable just 2 observable just 3 observable just 4 observable just 5 observable just 6 observable just 7 new function7 integer integer integer integer integer integer integer object override public object apply integer a integer b integer c integer d integer e integer f integer g throws exception return a b c d e f g test assertresult 
observable zip observable just 1 observable just 2 observable just 3 observable just 4 observable just 5 observable just 6 observable just 7 observable just 8 new function8 integer integer integer integer integer integer integer integer object override public object apply integer a integer b integer c integer d integer e integer f integer g integer h throws exception return a b c d e f g h test assertresult 
observable zip observable just 1 observable just 2 observable just 3 observable just 4 observable just 5 observable just 6 observable just 7 observable just 8 observable just 9 new function9 integer integer integer integer integer integer integer integer integer object override public object apply integer a integer b integer c integer d integer e integer f integer g integer h integer i throws exception return a b c d e f g h i test assertresult 
observable zip observable just 1 concatwith observable integer error new testexception observable just 2 new bifunction integer integer object override public object apply integer a integer b throws exception return a b true test assertfailure testexception class 12 
observable zip observable range 1 9 observable range 21 9 new bifunction integer integer object override public object apply integer a integer b throws exception return a b false 2 takelast 1 test assertresult 929 
observable zip observable range 1 9 concatwith observable integer error new testexception observable range 21 9 new bifunction integer integer object override public object apply integer a integer b throws exception return a b true 2 skip 8 test assertfailure testexception class 929 
assertsame observable empty observable ziparray functions object identity false 16 
suppresswarnings unchecked observable integer arr new observable 10 arrays fill arr observable just 1 observable zip arrays aslist arr new function object object override public object apply object a throws exception return arrays tostring a test assertresult 1 1 1 1 1 1 1 1 1 1 
testhelper checkdisposed observable zip observable just 1 observable just 1 new bifunction integer integer object override public object apply integer a integer b throws exception return a b 
for int i 0 i 500 i testobserver list object to observable zip observable just 1 observeon schedulers single map new function integer object override public object apply integer v throws exception return thread currentthread getname substring 0 4 observable just 1 observeon schedulers computation map new function integer object override public object apply integer v throws exception return thread currentthread getname substring 0 4 new bifunction object object list object override public list object apply object t1 object t2 throws exception return arrays aslist t1 t2 test awaitdone 5 timeunit seconds assertvaluecount 1 list object list to values get 0 asserttrue list tostring list contains rxsi asserttrue list tostring list contains rxco 
final publishsubject integer ps1 publishsubject create final publishsubject integer ps2 publishsubject create testobserver integer to new testobserver integer override public void onnext integer t super onnext t dispose if ps1 hasobservers onerror new ps1 not disposed else if ps2 hasobservers onerror new ps2 not disposed else oncomplete observable zip ps1 ps2 new bifunction integer integer integer override public integer apply integer t1 integer t2 throws exception return t1 t2 subscribe to ps1 onnext 1 ps2 onnext 2 to assertresult 3 
final atomicinteger counter new atomicinteger list observable observablelist new arraylist observablelist add observable create new object override public void subscribe observableemitter object e throws exception throw new testexception observablelist add observable create new object override public void subscribe observableemitter object e throws exception counter getandincrement observable zip observablelist new function object object override public object apply object a throws exception return a test assertfailure testexception class assertequals 0 counter get 
observablesource integer source new observablesource integer override public void subscribe observer super integer observer observable just 1 subscribe observer observable zip arrays aslist source source new function object integer override public integer apply object t throws throwable return 2 test assertresult 2 
observable boolean o observable sequenceequal observable just one two three observable just one two three toobservable verifyresult o true 
observable boolean o observable sequenceequal observable just one two three observable just one two three four toobservable verifyresult o false 
observable boolean o observable sequenceequal observable just one two three four observable just one two three toobservable verifyresult o false 
observable boolean o observable sequenceequal observable concat observable just one observable string error new testexception observable just one two three toobservable verifyerror o 
observable boolean o observable sequenceequal observable just one two three observable concat observable just one observable string error new testexception toobservable verifyerror o 
observable boolean o observable sequenceequal observable concat observable just one observable string error new testexception observable concat observable just one observable string error new testexception toobservable verifyerror o 
observable boolean o observable sequenceequal observable string empty observable just one two three toobservable verifyresult o false 
observable boolean o observable sequenceequal observable just one two three observable string empty toobservable verifyresult o false 
observable boolean o observable sequenceequal observable string empty observable string empty toobservable verifyresult o true 
observable boolean o observable sequenceequal observable just one observable just one new bipredicate string string override public boolean test string t1 string t2 throw new testexception toobservable verifyerror o 
observer boolean observer testhelper mockobserver observable subscribe observer inorder inorder inorder observer inorder verify observer times 1 onerror isa testexception class inorder 
singleobserver boolean observer testhelper mocksingleobserver single subscribe observer inorder inorder inorder observer inorder verify observer times 1 onerror isa testexception class inorder 
observable sequenceequal observable range 1 20 observable range 1 20 2 toobservable test assertresult true 
testhelper checkdisposed observable sequenceequal observable just 1 observable just 2 toobservable 
single boolean o observable sequenceequal observable just one two three observable just one two three verifyresult o true 
single boolean o observable sequenceequal observable just one two three observable just one two three four verifyresult o false 
single boolean o observable sequenceequal observable just one two three four observable just one two three verifyresult o false 
single boolean o observable sequenceequal observable concat observable just one observable string error new testexception observable just one two three verifyerror o 
single boolean o observable sequenceequal observable just one two three observable concat observable just one observable string error new testexception verifyerror o 
single boolean o observable sequenceequal observable concat observable just one observable string error new testexception observable concat observable just one observable string error new testexception verifyerror o 
single boolean o observable sequenceequal observable string empty observable just one two three verifyresult o false 
single boolean o observable sequenceequal observable just one two three observable string empty verifyresult o false 
single boolean o observable sequenceequal observable string empty observable string empty verifyresult o true 
single boolean o observable sequenceequal observable just one observable just one new bipredicate string string override public boolean test string t1 string t2 throw new testexception verifyerror o 
observable sequenceequal observable range 1 20 observable range 1 20 2 test assertresult true 
testhelper checkdisposed observable sequenceequal observable just 1 observable just 2 
observable sequenceequal observable just 1 observable just 2 test assertresult false 
observable sequenceequal observable just 1 observable just 2 toobservable test assertresult false 
for int i 0 i testhelper race default loops i final publishsubject integer ps publishsubject create final testobserver boolean to observable sequenceequal observable never ps test runnable r1 new runnable override public void run to dispose runnable r2 new runnable override public void run ps onnext 1 testhelper race r1 r2 to assertempty 
for int i 0 i testhelper race default loops i final publishsubject integer ps publishsubject create final testobserver boolean to observable sequenceequal observable never ps toobservable test runnable r1 new runnable override public void run to dispose runnable r2 new runnable override public void run ps onnext 1 testhelper race r1 r2 to assertempty 
observable sequenceequal observable just 1 observable empty test assertresult false 
observable sequenceequal observable empty observable just 1 test assertresult false 
observable sequenceequal observable empty observable empty test assertresult true 
observable sequenceequal observable just 1 observable just 1 test assertresult true 
publishsubject integer ps1 publishsubject create publishsubject integer ps2 publishsubject create testobserver boolean to observable sequenceequal ps1 ps2 a b ps1 onnext 1 ps1 oncomplete ps2 onnext 1 ps2 oncomplete return a equals b test ps1 onnext 0 ps2 onnext 0 to assertresult true 
publishsubject integer ps1 publishsubject create publishsubject integer ps2 publishsubject create testobserver boolean to observable sequenceequal ps1 ps2 a b ps1 onnext 1 ps1 oncomplete ps2 onnext 1 ps2 oncomplete return a equals b toobservable test ps1 onnext 0 ps2 onnext 0 to assertresult true 
final atomicinteger count new atomicinteger observable integer o observable just 1 doonsubscribe new consumer disposable override public void accept disposable d count incrementandget o subscribe o subscribe o subscribe assertequals 3 count get 
final atomicinteger count new atomicinteger observable integer o observable just 1 doonsubscribe new consumer disposable override public void accept disposable d count incrementandget take 1 doonsubscribe new consumer disposable override public void accept disposable d count incrementandget o subscribe assertequals 2 count get 
final atomicinteger onsubscribed new atomicinteger final atomicinteger countbefore new atomicinteger final atomicinteger countafter new atomicinteger final atomicreference observer super integer sref new atomicreference observable integer o observable unsafecreate new observablesource integer override public void subscribe observer super integer observer observer onsubscribe disposable empty onsubscribed incrementandget sref set observer doonsubscribe new consumer disposable override public void accept disposable d countbefore incrementandget publish refcount doonsubscribe new consumer disposable override public void accept disposable d countafter incrementandget o subscribe o subscribe o subscribe assertequals 1 countbefore get assertequals 1 onsubscribed get assertequals 3 countafter get sref get oncomplete o subscribe o subscribe o subscribe assertequals 2 countbefore get assertequals 2 onsubscribed get assertequals 6 countafter get 
list throwable errors testhelper trackpluginerrors try final disposable bs disposable empty new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe bs observer onerror new testexception second observer oncomplete doonsubscribe new consumer disposable override public void accept disposable d throws exception throw new testexception first to testhelper integer testconsumer testexception class first asserttrue bs isdisposed testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
observable string w observable fromiterable arrays aslist one two three observable string take w take 2 observer string observer testhelper mockobserver take subscribe observer verify observer times 1 onnext one verify observer times 1 onnext two verify observer never onnext three verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable string w observable fromiterable arrays aslist one two three observable string take w take 1 observer string observer testhelper mockobserver take subscribe observer verify observer times 1 onnext one verify observer never onnext two verify observer never onnext three verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable fromiterable arrays aslist 1 2 3 take 1 map new function integer integer override public integer apply integer t1 throw new some error blockingsingle 
observable integer w observable fromiterable arrays aslist 1 2 3 take 2 map new function integer integer override public integer apply integer t1 throw new some error observer integer observer testhelper mockobserver w subscribe observer inorder inorder inorder observer inorder verify observer times 1 onerror any class inorder 
observable integer w observable fromiterable arrays aslist 1 2 3 take 1 map new function integer integer override public integer apply integer t1 throw new some error observer integer observer testhelper mockobserver w subscribe observer inorder inorder inorder observer inorder verify observer times 1 onerror any class inorder 
observable string source observable unsafecreate new observablesource string override public void subscribe observer super string observer observer onsubscribe disposable empty observer onnext one observer onerror new throwable test failed observer string observer testhelper mockobserver source take 1 subscribe observer verify observer onsubscribe disposable notnull verify observer times 1 onnext one verify observer never onerror any throwable class verify observer times 1 oncomplete observer 
observer onsubscribe disposable empty observer onnext one observer onerror new throwable test failed 
testobservablefunc f new testobservablefunc one two three observable string w observable unsafecreate f observer string observer testhelper mockobserver observable string take w take 1 take subscribe observer try f t join catch throwable e e printstacktrace fail e getmessage system out println testobservable thread finished verify observer onsubscribe disposable notnull verify observer times 1 onnext one verify observer never onnext two verify observer never onnext three verify observer times 1 oncomplete observer 
final atomiclong count new atomiclong infinite observable take 10 subscribe new consumer long override public void accept long l count set l assertequals 10 count get 
final atomicinteger count new atomicinteger observable unsafecreate new observablesource integer override public void subscribe observer super integer observer disposable bs disposable empty observer onsubscribe bs for int i 0 bs isdisposed i system out println emit i count incrementandget observer onnext i take 100 take 1 blockingforeach new consumer integer override public void accept integer t1 system out println receive t1 assertequals 1 count get 
observer object o testhelper mockobserver testobserver object to new testobserver o infinite observable observeon schedulers newthread take 1 subscribe to to awaitdone 5 timeunit seconds to assertnoerrors verify o onnext 1l verify o never onnext 2l verify o oncomplete verify o never onerror any throwable class 
final atomicreference object exception new atomicreference final countdownlatch latch new countdownlatch 1 observable just 1 subscribeon schedulers computation take 1 subscribe new consumer integer override public void accept integer t1 try thread sleep 100 catch exception e exception set e e printstacktrace finally latch countdown latch await assertnull exception get 
observable integer source observable just 1 take 1 testobserver integer to new testobserver integer override public void onnext integer t throw new testexception source safesubscribe to to assertnovalues to asserterror testexception class to assertnotcomplete 
final publishsubject integer source publishsubject create testobserver integer to new testobserver source take 1 doonnext new consumer integer override public void accept integer v source onnext 2 subscribe to source onnext 1 to assertvalue 1 to assertnoerrors to assertcomplete 
try observable just 1 take 99 fail should have thrown catch ex assertequals count 0 required but it was 99 ex getmessage 
observable just 1 take 0 test assertresult 
testhelper checkdisposed publishsubject create take 2 
testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return o take 2 
list throwable errors testhelper trackpluginerrors try observable error new testexception take 0 test assertresult testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
testhelper checkdisposed observable interval 1 timeunit milliseconds new testscheduler 
observable interval 1 timeunit milliseconds schedulers trampoline take 10 test assertresult 0l 1l 2l 3l 4l 5l 6l 7l 8l 9l 
testobserver long to new testobserver intervalobserver is new intervalobserver to to onsubscribe is is dispose is run to assertempty 
disposable ssource mock disposable class disposable sother mock disposable class testobservable source new testobservable ssource testobservable other new testobservable sother observer string result testhelper mockobserver observable string stringobservable observable unsafecreate source takeuntil observable unsafecreate other stringobservable subscribe result source sendonnext one source sendonnext two other sendonnext three source sendonnext four source sendoncompleted other sendoncompleted verify result times 1 onnext one verify result times 1 onnext two verify result times 0 onnext three verify result times 0 onnext four verify ssource times 1 dispose verify sother times 1 dispose 
disposable ssource mock disposable class disposable sother mock disposable class testobservable source new testobservable ssource testobservable other new testobservable sother observer string result testhelper mockobserver observable string stringobservable observable unsafecreate source takeuntil observable unsafecreate other stringobservable subscribe result source sendonnext one source sendonnext two source sendoncompleted verify result times 1 onnext one verify result times 1 onnext two verify ssource never dispose verify sother times 1 dispose 
disposable ssource mock disposable class disposable sother mock disposable class testobservable source new testobservable ssource testobservable other new testobservable sother throwable error new throwable observer string result testhelper mockobserver observable string stringobservable observable unsafecreate source takeuntil observable unsafecreate other stringobservable subscribe result source sendonnext one source sendonnext two source sendonerror error source sendonnext three verify result times 1 onnext one verify result times 1 onnext two verify result times 0 onnext three verify result times 1 onerror error verify ssource never dispose verify sother times 1 dispose 
disposable ssource mock disposable class disposable sother mock disposable class testobservable source new testobservable ssource testobservable other new testobservable sother throwable error new throwable observer string result testhelper mockobserver observable string stringobservable observable unsafecreate source takeuntil observable unsafecreate other stringobservable subscribe result source sendonnext one source sendonnext two other sendonerror error source sendonnext three verify result times 1 onnext one verify result times 1 onnext two verify result times 0 onnext three verify result times 1 onerror error verify result times 0 oncomplete verify ssource times 1 dispose verify sother never dispose 
disposable ssource mock disposable class disposable sother mock disposable class testobservable source new testobservable ssource testobservable other new testobservable sother observer string result testhelper mockobserver observable string stringobservable observable unsafecreate source takeuntil observable unsafecreate other stringobservable subscribe result source sendonnext one source sendonnext two other sendoncompleted source sendonnext three verify result times 1 onnext one verify result times 1 onnext two verify result times 0 onnext three verify result times 1 oncomplete verify ssource times 1 dispose verify sother never dispose 
observer oncomplete 
observer onnext value 
observer onerror e 
this observer observer observer onsubscribe upstream 
publishsubject integer source publishsubject create publishsubject integer until publishsubject create testobserverex integer to new testobserverex source takeuntil until subscribe to asserttrue source hasobservers asserttrue until hasobservers source onnext 1 to assertvalue 1 until onnext 1 to assertvalue 1 to assertnoerrors to assertterminated assertfalse source still has observers source hasobservers assertfalse until still has observers until hasobservers 
publishsubject integer source publishsubject create publishsubject integer until publishsubject create testobserverex integer to new testobserverex source takeuntil until subscribe to asserttrue source hasobservers asserttrue until hasobservers source onnext 1 source oncomplete to assertvalue 1 to assertnoerrors to assertterminated assertfalse source still has observers source hasobservers assertfalse until still has observers until hasobservers 
publishsubject integer source publishsubject create publishsubject integer until publishsubject create testobserverex integer to new testobserverex source takeuntil until take 1 subscribe to asserttrue source hasobservers asserttrue until hasobservers source onnext 1 to assertvalue 1 to assertnoerrors to assertterminated assertfalse source still has observers source hasobservers assertfalse until still has observers until hasobservers 
testhelper checkdisposed publishsubject create takeuntil observable never 
testhelper new function observable integer observable integer override public observable integer apply observable integer o throws exception return o takeuntil observable never 
publishsubject integer main publishsubject create publishsubject integer other publishsubject create testobserver integer to main takeuntil other test asserttrue main no observers main hasobservers asserttrue other no observers other hasobservers main onnext 1 main onnext 2 main oncomplete assertfalse main has observers main hasobservers assertfalse other has observers other hasobservers to assertresult 1 2 
publishsubject integer main publishsubject create publishsubject integer other publishsubject create testobserver integer to main takeuntil other test asserttrue main no observers main hasobservers asserttrue other no observers other hasobservers main oncomplete assertfalse main has observers main hasobservers assertfalse other has observers other hasobservers to assertresult 
publishsubject integer main publishsubject create publishsubject integer other publishsubject create testobserver integer to main takeuntil other test asserttrue main no observers main hasobservers asserttrue other no observers other hasobservers main onerror new testexception assertfalse main has observers main hasobservers assertfalse other has observers other hasobservers to assertfailure testexception class 
publishsubject integer main publishsubject create publishsubject integer other publishsubject create testobserver integer to main takeuntil other test asserttrue main no observers main hasobservers asserttrue other no observers other hasobservers other onnext 1 assertfalse main has observers main hasobservers assertfalse other has observers other hasobservers to assertresult 
publishsubject integer main publishsubject create publishsubject integer other publishsubject create testobserver integer to main takeuntil other test asserttrue main no observers main hasobservers asserttrue other no observers other hasobservers other oncomplete assertfalse main has observers main hasobservers assertfalse other has observers other hasobservers to assertresult 
publishsubject integer main publishsubject create publishsubject integer other publishsubject create testobserver integer to main takeuntil other test asserttrue main no observers main hasobservers asserttrue other no observers other hasobservers other onerror new testexception assertfalse main has observers main hasobservers assertfalse other has observers other hasobservers to assertfailure testexception class 
publishsubject integer main publishsubject create publishsubject integer other publishsubject create testobserver integer to main takeuntil other test asserttrue main no observers main hasobservers asserttrue other no observers other hasobservers to dispose assertfalse main has observers main hasobservers assertfalse other has observers other hasobservers to assertempty 
underlyingsubject publishsubject create testscheduler new testscheduler withtimeout underlyingsubject timeout timeout time unit testscheduler 
observer string observer testhelper mockobserver testobserver string to new testobserver observer withtimeout subscribe to testscheduler advancetimeby 2 timeunit seconds underlyingsubject onnext one verify observer onnext one testscheduler advancetimeby 2 timeunit seconds verify observer never onerror any throwable class to dispose 
observer string observer testhelper mockobserver testobserver string to new testobserver observer withtimeout subscribe to testscheduler advancetimeby 2 timeunit seconds underlyingsubject onnext one testscheduler advancetimeby 2 timeunit seconds underlyingsubject onnext two verify observer onnext two testscheduler advancetimeby 2 timeunit seconds verify observer never onerror any throwable class to dispose 
testobserverex string observer new testobserverex withtimeout subscribe observer testscheduler advancetimeby timeout 1 timeunit seconds observer timeoutexception class timeoutmessage timeout time unit 
testobserverex string observer new testobserverex withtimeout subscribe observer testscheduler advancetimeby 2 timeunit seconds underlyingsubject onnext one observer assertvalue one testscheduler advancetimeby timeout 1 timeunit seconds observer timeoutexception class timeoutmessage timeout time unit one 
observer string observer testhelper mockobserver testobserver string to new testobserver observer withtimeout subscribe observer testscheduler advancetimeby 2 timeunit seconds underlyingsubject oncomplete testscheduler advancetimeby 2 timeunit seconds verify observer oncomplete verify observer never onerror any throwable class to dispose 
observer string observer testhelper mockobserver testobserver string to new testobserver observer withtimeout subscribe observer testscheduler advancetimeby 2 timeunit seconds underlyingsubject onerror new testscheduler advancetimeby 2 timeunit seconds verify observer onerror any class to dispose 
observable string other observable just a b c observable string source underlyingsubject timeout timeout time unit testscheduler other observer string observer testhelper mockobserver testobserver string to new testobserver observer source subscribe to testscheduler advancetimeby 2 timeunit seconds underlyingsubject onnext one testscheduler advancetimeby 4 timeunit seconds underlyingsubject onnext two inorder inorder inorder observer inorder verify observer times 1 onnext one inorder verify observer times 1 onnext a inorder verify observer times 1 onnext b inorder verify observer times 1 onnext c inorder verify observer times 1 oncomplete inorder to dispose 
observable string other observable just a b c observable string source underlyingsubject timeout timeout time unit testscheduler other observer string observer testhelper mockobserver testobserver string to new testobserver observer source subscribe to testscheduler advancetimeby 2 timeunit seconds underlyingsubject onnext one testscheduler advancetimeby 4 timeunit seconds underlyingsubject onerror new inorder inorder inorder observer inorder verify observer times 1 onnext one inorder verify observer times 1 onnext a inorder verify observer times 1 onnext b inorder verify observer times 1 onnext c inorder verify observer times 1 oncomplete inorder to dispose 
observable string other observable just a b c observable string source underlyingsubject timeout timeout time unit testscheduler other observer string observer testhelper mockobserver testobserver string to new testobserver observer source subscribe to testscheduler advancetimeby 2 timeunit seconds underlyingsubject onnext one testscheduler advancetimeby 4 timeunit seconds underlyingsubject oncomplete inorder inorder inorder observer inorder verify observer times 1 onnext one inorder verify observer times 1 onnext a inorder verify observer times 1 onnext b inorder verify observer times 1 onnext c inorder verify observer times 1 oncomplete inorder to dispose 
publishsubject string other publishsubject create observable string source underlyingsubject timeout timeout time unit testscheduler other observer string observer testhelper mockobserver testobserver string to new testobserver observer source subscribe to testscheduler advancetimeby 2 timeunit seconds underlyingsubject onnext one testscheduler advancetimeby 4 timeunit seconds underlyingsubject onnext two other onnext a other onnext b to dispose other onnext c other onnext d other oncomplete inorder inorder inorder observer inorder verify observer times 1 onnext one inorder verify observer times 1 onnext a inorder verify observer times 1 onnext b inorder 
final countdownlatch exit new countdownlatch 1 final countdownlatch timeoutsetuped new countdownlatch 1 final testobserverex string observer new testobserverex new thread new runnable override public void run observable unsafecreate new observablesource string override public void subscribe observer super string observer observer onsubscribe disposable empty try timeoutsetuped countdown exit await catch interruptedexception e e printstacktrace observer onnext a observer oncomplete timeout 1 timeunit seconds testscheduler subscribe observer start timeoutsetuped await testscheduler advancetimeby 2 timeunit seconds observer timeoutexception class timeoutmessage 1 timeunit seconds exit countdown 
final disposable upstream mock disposable class observable string never observable unsafecreate new observablesource string override public void subscribe observer super string observer observer onsubscribe upstream testscheduler testscheduler new testscheduler observable string never timeout 1000 timeunit milliseconds testscheduler testobserverex string observer new testobserverex subscribe observer testscheduler advancetimeby 2000 timeunit milliseconds observer timeoutexception class timeoutmessage 1000 timeunit milliseconds verify upstream times 1 dispose 
final publishsubject string subject publishsubject create final testscheduler scheduler new testscheduler final testobserver string observer subject timeout 100 timeunit milliseconds scheduler test asserttrue subject hasobservers observer dispose assertfalse subject hasobservers 
observable never timeout 100 timeunit milliseconds observable just 1 test awaitdone 5 timeunit seconds assertresult 1 
testhelper checkdisposed publishsubject create timeout 1 timeunit days testhelper checkdisposed publishsubject create timeout 1 timeunit days observable just 1 
observable error new testexception timeout 1 timeunit days observable just 1 test assertfailure testexception class 
observable error new testexception timeout 1 timeunit days test assertfailure testexception class 
observable empty timeout 1 timeunit days observable just 1 test assertresult 
observable empty timeout 1 timeunit days test assertresult 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onnext 1 observer oncomplete observer onnext 2 observer onerror new testexception observer oncomplete timeout 1 timeunit days test assertresult 1 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onnext 1 observer oncomplete observer onnext 2 observer onerror new testexception observer oncomplete timeout 1 timeunit days observable just 3 test assertresult 1 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
publishsubject integer ps publishsubject create testobserver integer to ps timeout 1 timeunit days take 1 test asserttrue ps hasobservers ps onnext 1 assertfalse ps hasobservers to assertresult 1 
publishsubject integer ps publishsubject create testobserver integer to ps timeout 1 timeunit days observable just 2 take 1 test asserttrue ps hasobservers ps onnext 1 assertfalse ps hasobservers to assertresult 1 
observable never timeout 1 timeunit milliseconds observable error new testexception test awaitdone 5 timeunit seconds assertfailure testexception class 
for int i 0 i testhelper race default loops i final testscheduler sch new testscheduler final publishsubject integer ps publishsubject create testobserverex integer to ps timeout 1 timeunit seconds sch to testhelper integer testconsumer runnable r1 new runnable override public void run ps onnext 1 runnable r2 new runnable override public void run sch advancetimeby 1 timeunit seconds testhelper race r1 r2 if to values size 0 if to errors size 0 to assertfailure timeoutexception class 1 to asserterrormessage timeoutmessage 1 timeunit seconds else to assertvaluesonly 1 else to assertfailure timeoutexception class to asserterrormessage timeoutmessage 1 timeunit seconds 
for int i 0 i testhelper race default loops i final testscheduler sch new testscheduler final publishsubject integer ps publishsubject create testobserverex integer to ps timeout 1 timeunit seconds sch observable just 2 to testhelper integer testconsumer runnable r1 new runnable override public void run ps onnext 1 runnable r2 new runnable override public void run sch advancetimeby 1 timeunit seconds testhelper race r1 r2 if to isterminated int c to values size if c 1 int v to values get 0 asserttrue v v 1 v 2 else to assertresult 1 2 else to assertvaluesonly 1 
objectobserver testhelper mockobserver singleobserver testhelper mocksingleobserver 
observable string source observable just a b cc dd observable map integer collection string mapped source tomultimap lengthfunc toobservable map integer collection string expected new hashmap expected put 1 arrays aslist a b expected put 2 arrays aslist cc dd mapped subscribe objectobserver verify objectobserver never onerror any throwable class verify objectobserver times 1 onnext expected verify objectobserver times 1 oncomplete 
observable string source observable just a b cc dd observable map integer collection string mapped source tomultimap lengthfunc duplicate toobservable map integer collection string expected new hashmap expected put 1 arrays aslist aa bb expected put 2 arrays aslist mapped subscribe objectobserver verify objectobserver never onerror any throwable class verify objectobserver times 1 onnext expected verify objectobserver times 1 oncomplete 
observable string source observable just a b cc dd eee fff supplier map integer collection string mapfactory new supplier map integer collection string override public map integer collection string get return new linkedhashmap integer collection string private static final long serialversionuid override protected boolean removeeldestentry map entry integer collection string eldest return size 2 function string string identity new function string string override public string apply string v return v observable map integer collection string mapped source tomultimap lengthfunc identity mapfactory new function integer collection string override public collection string apply integer v return new arraylist toobservable map integer collection string expected new hashmap expected put 2 arrays aslist cc dd expected put 3 arrays aslist eee fff mapped subscribe objectobserver verify objectobserver never onerror any throwable class verify objectobserver times 1 onnext expected verify objectobserver times 1 oncomplete 
observable string source observable just cc dd eee eee function integer collection string collectionfactory new function integer collection string override public collection string apply integer t1 if t1 2 return new arraylist else return new hashset function string string identity new function string string override public string apply string v return v supplier map integer collection string mapsupplier new supplier map integer collection string override public map integer collection string get return new hashmap observable map integer collection string mapped source tomultimap lengthfunc identity mapsupplier collectionfactory toobservable map integer collection string expected new hashmap expected put 2 arrays aslist cc dd expected put 3 new hashset arrays aslist eee mapped subscribe objectobserver verify objectobserver never onerror any throwable class verify objectobserver times 1 onnext expected verify objectobserver times 1 oncomplete 
observable string source observable just a b cc dd function string integer lengthfuncerr new function string integer override public integer apply string t1 if b equals t1 throw new runtimeexception forced failure return t1 length observable map integer collection string mapped source tomultimap lengthfuncerr toobservable map integer collection string expected new hashmap expected put 1 arrays aslist a b expected put 2 arrays aslist cc dd mapped subscribe objectobserver verify objectobserver times 1 onerror any throwable class verify objectobserver never onnext expected verify objectobserver never oncomplete 
observable string source observable just a b cc dd function string string duplicateerr new function string string override public string apply string t1 if b equals t1 throw new runtimeexception forced failure return t1 t1 observable map integer collection string mapped source tomultimap lengthfunc duplicateerr toobservable map integer collection string expected new hashmap expected put 1 arrays aslist aa bb expected put 2 arrays aslist mapped subscribe objectobserver verify objectobserver times 1 onerror any throwable class verify objectobserver never onnext expected verify objectobserver never oncomplete 
observable string source observable just a b cc dd eee fff supplier map integer collection string mapfactory new supplier map integer collection string override public map integer collection string get throw new runtimeexception forced failure observable map integer collection string mapped source tomultimap lengthfunc new function string string override public string apply string v return v mapfactory toobservable map integer collection string expected new hashmap expected put 2 arrays aslist cc dd expected put 3 arrays aslist eee fff mapped subscribe objectobserver verify objectobserver times 1 onerror any throwable class verify objectobserver never onnext expected verify objectobserver never oncomplete 
observable string source observable just cc cc eee eee function integer collection string collectionfactory new function integer collection string override public collection string apply integer t1 if t1 2 throw new runtimeexception forced failure else return new hashset function string string identity new function string string override public string apply string v return v supplier map integer collection string mapsupplier new supplier map integer collection string override public map integer collection string get return new hashmap observable map integer collection string mapped source tomultimap lengthfunc identity mapsupplier collectionfactory toobservable map integer collection string expected new hashmap expected put 2 arrays aslist cc dd expected put 3 collections singleton eee mapped subscribe objectobserver verify objectobserver times 1 onerror any throwable class verify objectobserver never onnext expected verify objectobserver never oncomplete 
observable string source observable just a b cc dd single map integer collection string mapped source tomultimap lengthfunc map integer collection string expected new hashmap expected put 1 arrays aslist a b expected put 2 arrays aslist cc dd mapped subscribe singleobserver verify singleobserver never onerror any throwable class verify singleobserver times 1 onsuccess expected 
observable string source observable just a b cc dd single map integer collection string mapped source tomultimap lengthfunc duplicate map integer collection string expected new hashmap expected put 1 arrays aslist aa bb expected put 2 arrays aslist mapped subscribe singleobserver verify singleobserver never onerror any throwable class verify singleobserver times 1 onsuccess expected 
observable string source observable just a b cc dd eee fff supplier map integer collection string mapfactory new supplier map integer collection string override public map integer collection string get return new linkedhashmap integer collection string private static final long serialversionuid override protected boolean removeeldestentry map entry integer collection string eldest return size 2 function string string identity new function string string override public string apply string v return v single map integer collection string mapped source tomultimap lengthfunc identity mapfactory new function integer collection string override public collection string apply integer v return new arraylist map integer collection string expected new hashmap expected put 2 arrays aslist cc dd expected put 3 arrays aslist eee fff mapped subscribe singleobserver verify singleobserver never onerror any throwable class verify singleobserver times 1 onsuccess expected 
observable string source observable just cc dd eee eee function integer collection string collectionfactory new function integer collection string override public collection string apply integer t1 if t1 2 return new arraylist else return new hashset function string string identity new function string string override public string apply string v return v supplier map integer collection string mapsupplier new supplier map integer collection string override public map integer collection string get return new hashmap single map integer collection string mapped source tomultimap lengthfunc identity mapsupplier collectionfactory map integer collection string expected new hashmap expected put 2 arrays aslist cc dd expected put 3 new hashset arrays aslist eee mapped subscribe singleobserver verify singleobserver never onerror any throwable class verify singleobserver times 1 onsuccess expected 
observable string source observable just a b cc dd function string integer lengthfuncerr new function string integer override public integer apply string t1 if b equals t1 throw new runtimeexception forced failure return t1 length single map integer collection string mapped source tomultimap lengthfuncerr map integer collection string expected new hashmap expected put 1 arrays aslist a b expected put 2 arrays aslist cc dd mapped subscribe singleobserver verify singleobserver times 1 onerror any throwable class verify singleobserver never onsuccess expected 
observable string source observable just a b cc dd function string string duplicateerr new function string string override public string apply string t1 if b equals t1 throw new runtimeexception forced failure return t1 t1 single map integer collection string mapped source tomultimap lengthfunc duplicateerr map integer collection string expected new hashmap expected put 1 arrays aslist aa bb expected put 2 arrays aslist mapped subscribe singleobserver verify singleobserver times 1 onerror any throwable class verify singleobserver never onsuccess expected 
observable string source observable just a b cc dd eee fff supplier map integer collection string mapfactory new supplier map integer collection string override public map integer collection string get throw new runtimeexception forced failure single map integer collection string mapped source tomultimap lengthfunc new function string string override public string apply string v return v mapfactory map integer collection string expected new hashmap expected put 2 arrays aslist cc dd expected put 3 arrays aslist eee fff mapped subscribe singleobserver verify singleobserver times 1 onerror any throwable class verify singleobserver never onsuccess expected 
observable string source observable just cc cc eee eee function integer collection string collectionfactory new function integer collection string override public collection string apply integer t1 if t1 2 throw new runtimeexception forced failure else return new hashset function string string identity new function string string override public string apply string v return v supplier map integer collection string mapsupplier new supplier map integer collection string override public map integer collection string get return new hashmap single map integer collection string mapped source tomultimap lengthfunc identity mapsupplier collectionfactory map integer collection string expected new hashmap expected put 2 arrays aslist cc dd expected put 3 collections singleton eee mapped subscribe singleobserver verify singleobserver times 1 onerror any throwable class verify singleobserver never onsuccess expected 
observable string o observable string empty skiplast 2 observer string observer testhelper mockobserver o subscribe observer verify observer never onnext any string class verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable string o observable fromiterable arrays aslist one two three skiplast 2 observer string observer testhelper mockobserver inorder inorder inorder observer o subscribe observer inorder verify observer never onnext two inorder verify observer never onnext three verify observer times 1 onnext one verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable string o observable fromiterable arrays aslist one two skiplast 2 observer string observer testhelper mockobserver o subscribe observer verify observer never onnext any string class verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable string w observable just one two observable string observable w skiplast 0 observer string observer testhelper mockobserver observable subscribe observer verify observer times 1 onnext one verify observer times 1 onnext two verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable integer o observable range 0 flowable buffersize 2 skiplast flowable buffersize 10 testobserver integer to new testobserver o observeon schedulers computation subscribe to to awaitdone 5 timeunit seconds to assertnoerrors assertequals flowable buffersize 10 to values size 
observable just one skiplast 1 
testhelper checkdisposed observable just 1 skiplast 1 
observable error new testexception skiplast 1 test assertfailure testexception class 
testhelper new function observable object observable object override public observable object apply observable object o throws exception return o skiplast 1 
observable string source observable just one two three four five six observable groupedobservable integer string grouped source groupby length map integer collection string map tomap grouped assertequals 3 map size assertarrayequals arrays aslist one two six toarray map get 3 toarray assertarrayequals arrays aslist four five toarray map get 4 toarray assertarrayequals arrays aslist three toarray map get 5 toarray 
observable string source observable just one two three four five six observable groupedobservable integer integer grouped source groupby length length map integer collection integer map tomap grouped assertequals 3 map size assertarrayequals arrays aslist 3 3 3 toarray map get 3 toarray assertarrayequals arrays aslist 4 4 toarray map get 4 toarray assertarrayequals arrays aslist 5 toarray map get 5 toarray 
observable string source observable just one two three four five six observable groupedobservable integer integer grouped source groupby length length map integer collection integer map tomap grouped assertequals 3 map size assertarrayequals arrays aslist 3 3 3 toarray map get 3 toarray assertarrayequals arrays aslist 4 4 toarray map get 4 toarray assertarrayequals arrays aslist 5 toarray map get 5 toarray 
observable string source observable empty observable groupedobservable integer string grouped source groupby length map integer collection string map tomap grouped asserttrue map isempty 
observable string sourcestrings observable just one two three four five six observable string errorsource observable error new runtimeexception forced failure observable string source observable concat sourcestrings errorsource observable groupedobservable integer string grouped source groupby length final atomicinteger groupcounter new atomicinteger final atomicinteger eventcounter new atomicinteger final atomicreference throwable error new atomicreference grouped flatmap new function groupedobservable integer string observable string override public observable string apply final groupedobservable integer string o groupcounter incrementandget return o map new function string string override public string apply string v return event key o getkey value v subscribe new defaultobserver string override public void oncomplete override public void onerror throwable e e printstacktrace error set e override public void onnext string v eventcounter incrementandget system out println v assertequals 3 groupcounter get assertequals 6 eventcounter get assertnotnull error get 
final concurrenthashmap k collection v result new concurrenthashmap observable doonnext new consumer groupedobservable k v override public void accept final groupedobservable k v o result put o getkey new o subscribe new consumer v override public void accept v v result get o getkey add v blockingsubscribe return result 
final atomicinteger eventcounter new atomicinteger final atomicinteger subscribecounter new atomicinteger final atomicinteger groupcounter new atomicinteger final countdownlatch latch new countdownlatch 1 final int count 100 final int groupcount 2 observable event es observable unsafecreate new observablesource event override public void subscribe final observer super event observer observer onsubscribe disposable empty system out println subscribing to eventstream subscribecounter incrementandget new thread new runnable override public void run for int i 0 i count i event e new event e source i groupcount e message event i observer onnext e observer oncomplete start es groupby new function event integer override public integer apply event e return e source flatmap new function groupedobservable integer event observable string override public observable string apply groupedobservable integer event system out println groupedobservable key getkey groupcounter incrementandget return map new function event string override public string apply event event return source event source message event message subscribe new defaultobserver string override public void oncomplete latch countdown override public void onerror throwable e e printstacktrace latch countdown override public void onnext string outputmessage system out println outputmessage eventcounter incrementandget latch await 5000 timeunit milliseconds assertequals 1 subscribecounter get assertequals groupcount groupcounter get assertequals count eventcounter get 
final atomicinteger subscribecounter new atomicinteger final atomicinteger senteventcounter new atomicinteger sync infinite observable of event 2 subscribecounter senteventcounter subscribecounter thread sleep 500 assertequals 39 senteventcounter get 
final atomicinteger subscribecounter new atomicinteger final atomicinteger senteventcounter new atomicinteger async infinite observable of event 2 subscribecounter senteventcounter subscribecounter thread sleep 500 assertequals 39 senteventcounter get 
final atomicinteger eventcounter new atomicinteger final atomicinteger groupcounter new atomicinteger final countdownlatch latch new countdownlatch 1 es groupby new function event integer override public integer apply event e return e source take 1 flatmap new function groupedobservable integer event observable string override public observable string apply groupedobservable integer event system out println testunsubscribe groupedobservable key getkey groupcounter incrementandget return take 20 map new function event string override public string apply event event return testunsubscribe source event source message event message subscribe new defaultobserver string override public void oncomplete latch countdown override public void onerror throwable e e printstacktrace latch countdown override public void onnext string outputmessage system out println outputmessage eventcounter incrementandget if latch await 2000 timeunit milliseconds fail timed out so likely did not unsubscribe correctly assertequals 1 subscribecounter get assertequals 1 groupcounter get assertequals 20 eventcounter get 
final atomicinteger subscribecounter new atomicinteger final atomicinteger senteventcounter new atomicinteger final atomicinteger eventcounter new atomicinteger sync infinite observable of event 4 subscribecounter senteventcounter groupby new function event integer override public integer apply event e return e source take 2 flatmap new function groupedobservable integer event observable string override public observable string apply groupedobservable integer event return map new function event string override public string apply event event return testunsubscribe source event source message event message take 30 subscribe new consumer string override public void accept string s eventcounter incrementandget system out println s assertequals 30 eventcounter get assertequals 58 senteventcounter get 
final atomicinteger subscribecounter new atomicinteger final atomicinteger senteventcounter new atomicinteger final atomicinteger eventcounter new atomicinteger sync infinite observable of event 4 subscribecounter senteventcounter groupby new function event integer override public integer apply event e return e source take 2 flatmap new function groupedobservable integer event observable string override public observable string apply groupedobservable integer event int numtotake 0 if getkey 1 numtotake 10 else if getkey 2 numtotake 5 return take numtotake map new function event string override public string apply event event return testunsubscribe source event source message event message subscribe new consumer string override public void accept string s eventcounter incrementandget system out println s assertequals 15 eventcounter get assertequals 37 senteventcounter get 
final atomicinteger eventcounter new atomicinteger final countdownlatch latch new countdownlatch 1 observable range 0 100 groupby new function integer integer override public integer apply integer i return i 2 flatmap new function groupedobservable integer integer observable integer override public observable integer apply groupedobservable integer integer group if group getkey 0 return group delay 100 timeunit milliseconds map new function integer integer override public integer apply integer t return t 10 else return group subscribe new defaultobserver integer override public void oncomplete system out println oncomplete latch countdown override public void onerror throwable e e printstacktrace latch countdown override public void onnext integer s eventcounter incrementandget system out println s if latch await 3000 timeunit milliseconds fail timed out assertequals 100 eventcounter get 
final countdownlatch latch new countdownlatch 1 final atomicinteger eventcounter new atomicinteger observable range 0 100 groupby new function integer integer override public integer apply integer i return i 2 subscribe new defaultobserver groupedobservable integer integer override public void oncomplete latch countdown override public void onerror throwable e e printstacktrace latch countdown override public void onnext groupedobservable integer integer s eventcounter incrementandget system out println s if latch await 500 timeunit milliseconds fail timed out never got completion assertequals 100 eventcounter get 
final atomicinteger subscribecounter new atomicinteger final atomicinteger senteventcounter new atomicinteger final atomicinteger eventcounter new atomicinteger sync infinite observable of event 4 subscribecounter senteventcounter groupby new function event integer override public integer apply event e return e source flatmap new function groupedobservable integer event observable string override public observable string apply groupedobservable integer event observable event eventstream if getkey 2 eventstream filter new predicate event override public boolean test event t1 return false return eventstream map new function event string override public string apply event event return testunsubscribe source event source message event message take 30 subscribe new consumer string override public void accept string s eventcounter incrementandget system out println s assertequals 30 eventcounter get assertequals 60 senteventcounter get 
final countdownlatch first new countdownlatch 2 final arraylist string results new arraylist observable unsafecreate new observablesource integer override public void subscribe observer super integer sub sub onsubscribe disposable empty sub onnext 1 sub onnext 2 sub onnext 1 sub onnext 2 try first await catch interruptedexception e sub onerror e return sub onnext 3 sub onnext 3 sub oncomplete groupby new function integer integer override public integer apply integer t return t flatmap new function groupedobservable integer integer observable string override public observable string apply final groupedobservable integer integer group if group getkey 3 return group map new function integer string override public string apply integer t1 return first groups t1 take 2 dooncomplete new action override public void run first countdown else return group map new function integer string override public string apply integer t1 return last group t1 blockingforeach new consumer string override public void accept string s results add s system out println results results assertequals 6 results size 
system err println final countdownlatch first new countdownlatch 2 final arraylist string results new arraylist observable unsafecreate new observablesource integer override public void subscribe observer super integer sub sub onsubscribe disposable empty sub onnext 1 sub onnext 2 sub onnext 1 sub onnext 2 try first await catch interruptedexception e sub onerror e return sub onnext 3 sub onnext 3 sub oncomplete groupby new function integer integer override public integer apply integer t return t flatmap new function groupedobservable integer integer observable string override public observable string apply final groupedobservable integer integer group if group getkey 3 return group map new function integer string override public string apply integer t1 return first groups t1 take 2 dooncomplete new action override public void run first countdown else return group subscribeon schedulers newthread delay 400 timeunit milliseconds map new function integer string override public string apply integer t1 return last group t1 dooneach new consumer notification string override public void accept notification string t1 system err println subscribeon notification t1 dooneach new consumer notification string override public void accept notification string t1 system err println outer notification t1 blockingforeach new consumer string override public void accept string s results add s system out println results results assertequals 6 results size 
final countdownlatch first new countdownlatch 2 final arraylist string results new arraylist observable unsafecreate new observablesource integer override public void subscribe observer super integer sub sub onsubscribe disposable empty sub onnext 1 sub onnext 2 sub onnext 1 sub onnext 2 try first await catch interruptedexception e sub onerror e return sub onnext 3 sub onnext 3 sub oncomplete groupby new function integer integer override public integer apply integer t return t flatmap new function groupedobservable integer integer observable string override public observable string apply final groupedobservable integer integer group if group getkey 3 return group map new function integer string override public string apply integer t1 return first groups t1 take 2 dooncomplete new action override public void run first countdown else return group observeon schedulers newthread delay 400 timeunit milliseconds map new function integer string override public string apply integer t1 return last group t1 blockingforeach new consumer string override public void accept string s results add s system out println results results assertequals 6 results size 
final arraylist string results new arraylist observable unsafecreate new observablesource integer override public void subscribe observer super integer sub sub onsubscribe disposable empty sub onnext 1 sub onnext 2 sub onnext 1 sub onnext 2 sub oncomplete groupby new function integer integer override public integer apply integer t return t flatmap new function groupedobservable integer integer observable string override public observable string apply final groupedobservable integer integer group return group subscribeon schedulers newthread map new function integer string override public string apply integer t1 system out println received t1 on group group getkey return first groups t1 dooneach new consumer notification string override public void accept notification string t1 system out println notification t1 blockingforeach new consumer string override public void accept string s results add s system out println results results assertequals 4 results size 
final arraylist string results new arraylist observable unsafecreate new observablesource integer override public void subscribe observer super integer sub sub onsubscribe disposable empty sub onnext 1 sub onnext 2 sub onnext 1 sub onnext 2 sub oncomplete groupby new function integer integer override public integer apply integer t return t flatmap new function groupedobservable integer integer observable string override public observable string apply final groupedobservable integer integer group return group observeon schedulers newthread delay 400 timeunit milliseconds map new function integer string override public string apply integer t1 return first groups t1 blockingforeach new consumer string override public void accept string s results add s system out println results results assertequals 4 results size 
return event source source message message 
observable long source observable interval 10 timeunit milliseconds take 1 observable groupedobservable boolean long stream source groupby is even observer groupedobservable boolean long o1 testhelper mockobserver observer groupedobservable boolean long o2 testhelper mockobserver stream subscribe o1 stream subscribe o2 verify o1 never onerror mockito throwable any verify o2 never onerror mockito throwable any 
testobserver string to new testobserver observable range 1 4000 groupby is even2 flatmap new function groupedobservable boolean integer observable string override public observable string apply final groupedobservable boolean integer g return g observeon schedulers computation map new function integer string override public string apply integer l if g getkey try thread sleep 1 catch interruptedexception e return l is even else return l is odd subscribe to to awaitdone 5 timeunit seconds to assertnoerrors 
observable string source observable fromiterable arrays aslist foo foo bar foo baz qux bar bar foo baz baz foo function string string keysel new function string string override public string apply string t1 return t1 trim tolowercase function string string valuesel new function string string override public string apply string t1 return t1 t1 observable string m source groupby keysel valuesel flatmap new function groupedobservable string string observable string override public observable string apply final groupedobservable string string g system out println next g getkey return g take 2 map new function string string int count override public string apply string v system out println v return g getkey count testobserver string to new testobserver m subscribe to to awaitdone 5 timeunit seconds system out println ts get to values to assertnoerrors assertequals to values arrays aslist foo 0 foo 1 bar 0 foo 0 baz 0 qux 0 bar 1 bar 0 foo 1 baz 1 baz 0 foo 0 
observable integer source observable just 0 1 2 3 4 5 6 observable integer m source groupby fail 0 dbl flatmap flatten integer testobserverex integer to new testobserverex m subscribe to to awaitdone 5 timeunit seconds assertequals 1 to errors size to assertnovalues 
observable integer source observable just 0 1 2 3 4 5 6 observable integer m source groupby identity fail 0 flatmap flatten integer testobserverex integer to new testobserverex m subscribe to to awaitdone 5 timeunit seconds assertequals 1 to errors size to assertnovalues 
observable integer source observable just 0 observable integer m source groupby identity dbl flatmap flatten integer testobserver object to new testobserver m subscribe to to awaitdone 5 timeunit seconds to assertnoerrors system out println to values 
observable integer source observable just 0 final atomicreference groupedobservable integer integer inner new atomicreference observable groupedobservable integer integer m source groupby identity dbl m subscribe new consumer groupedobservable integer integer override public void accept groupedobservable integer integer t1 inner set t1 inner get subscribe observer integer o2 testhelper mockobserver inner get subscribe o2 verify o2 never oncomplete verify o2 never onnext anyint verify o2 onerror any class 
observable integer source observable concat observable just 0 observable integer error new testexception forced failure observable integer m source groupby identity dbl flatmap flatten integer testobserverex object to new testobserverex m subscribe to to awaitdone 5 timeunit seconds assertequals 1 to errors size to assertvaluecount 1 
testobserver string to new testobserver observable range 1 4000 groupby is even2 flatmap new function groupedobservable boolean integer observable string override public observable string apply final groupedobservable boolean integer g return g dooncomplete new action override public void run system out println completed a observeon schedulers computation map new function integer string int c override public string apply integer l if g getkey if c 400 try thread sleep 1 catch interruptedexception e return l is even else return l is odd dooncomplete new action override public void run system out println completed b dooneach new consumer notification string override public void accept notification string t1 system out println next t1 subscribe to to awaitdone 5 timeunit seconds to assertnoerrors 
testobserver string to new testobserver observable range 1 4000 groupby is even2 flatmap new function groupedobservable boolean integer observable string override public observable string apply final groupedobservable boolean integer g return g take 2 observeon schedulers computation map new function integer string override public string apply integer l if g getkey try thread sleep 1 catch interruptedexception e return l is even else return l is odd subscribe to to awaitdone 5 timeunit seconds to assertnoerrors 
final string key new string uninitialized final list string values new arraylist observable just a b c groupby new function string string override public string apply string value return null subscribe new consumer groupedobservable string string override public void accept groupedobservable string string groupedobservable key 0 groupedobservable getkey groupedobservable subscribe new consumer string override public void accept string s values add s assertnull key 0 assertequals arrays aslist a b c values 
final disposable upstream mock disposable class observable integer o observable unsafecreate new observablesource integer override public void subscribe observer super integer observer observer onsubscribe upstream testobserver object to new testobserver o groupby new function integer integer override public integer apply integer integer return null subscribe to to dispose verify upstream dispose 
final throwable e new runtimeexception oops final testobserverex integer inner1 new testobserverex final testobserverex integer inner2 new testobserverex final testobserverex groupedobservable integer integer outer new testobserverex new defaultobserver groupedobservable integer integer override public void oncomplete override public void onerror throwable e override public void onnext groupedobservable integer integer o if o getkey 0 o subscribe inner1 else o subscribe inner2 observable unsafecreate new observablesource integer override public void subscribe observer super integer observer observer onsubscribe disposable empty observer onnext 0 observer onnext 1 observer onerror e groupby new function integer integer override public integer apply integer i return i 2 subscribe outer assertequals arrays aslist e outer errors assertequals arrays aslist e inner1 errors assertequals arrays aslist e inner2 errors 
observable just 1 concatwith observable integer error new testexception groupby functions integer identity true flatmap new function groupedobservable integer integer observablesource integer override public observablesource integer apply groupedobservable integer integer g throws exception return g test assertfailure testexception class 1 
observable just 1 concatwith observable integer error new testexception groupby functions integer identity functions integer identity true flatmap new function groupedobservable integer integer observablesource integer override public observablesource integer apply groupedobservable integer integer g throws exception return g test assertfailure testexception class 1 
testhelper checkdisposed observable just 1 groupby functions justfunction 1 observable just 1 groupby functions justfunction 1 doonnext new consumer groupedobservable integer integer override public void accept groupedobservable integer integer g throws exception testhelper checkdisposed g test 
final publishsubject integer ps publishsubject create testobserver integer to new testobserver integer override public void onnext integer t super onnext t if t 1 ps oncomplete observable merge ps groupby functions justfunction 1 subscribe to ps onnext 1 to assertresult 1 
final publishsubject integer ps publishsubject create testobserverex integer to new testobserverex integer override public void onnext integer t super onnext t if t 1 ps oncomplete dispose observable merge ps groupby functions justfunction 1 subscribe to ps onnext 1 to assertsubscribed assertvalue 1 assertnoerrors assertnotcomplete 
observable just 1 groupby functions justfunction 1 true flatmap functions observable integer identity test assertresult 1 
for int i 0 i testhelper race long loops i final testobserver integer to new testobserver final publishsubject integer ps publishsubject create ps groupby new function integer integer override public integer apply integer v throws throwable return v 10 flatmap new function groupedobservable integer integer observablesource integer override public observablesource integer apply groupedobservable integer integer v throws throwable return v subscribe to runnable r1 new runnable override public void run for int j 0 j 1000 j ps onnext j runnable r2 new runnable override public void run to dispose testhelper race r1 r2 assertfalse round i ps hasobservers 
final list groupedobservable integer integer groups new arraylist observable range 1 1000 groupby new function integer integer override public integer apply integer v throws throwable return v 10 doonnext new consumer groupedobservable integer integer override public void accept groupedobservable integer integer v throws throwable groups add v test assertvaluecount 1000 assertcomplete assertnoerrors observable concat groups test assertvaluecount 1000 assertnoerrors assertcomplete 
testobserver object to1 new testobserver final testobserver object to2 new testobserver observable just 1 groupby functions integer identity new function integer object override public object apply integer v throws throwable throw new testexception doonnext new consumer groupedobservable integer object override public void accept groupedobservable integer object g throws throwable g subscribe to2 subscribe to1 to1 assertvaluecount 1 asserterror testexception class assertnotcomplete to2 assertfailure testexception class 
testobserver object to1 new testobserver final testobserver object to2 new testobserver observable just 1 2 groupby functions justfunction 1 new function integer object override public object apply integer v throws throwable if v 2 throw new testexception return v doonnext new consumer groupedobservable integer object override public void accept groupedobservable integer object g throws throwable g subscribe to2 subscribe to1 to1 assertvaluecount 1 asserterror testexception class assertnotcomplete to2 assertfailure testexception class 1 
testhelper o o groupby v v 
observable just 1 groupby v null flatmap v v take 1 test assertresult 1 
for int i 0 i testhelper race long loops i behaviorsubject integer bs behaviorsubject createdefault 1 countdownlatch cdl new countdownlatch 1 bs groupby v 1 doonnext g testhelper raceother g test cdl test cdl await 
atomicreference observable integer ref new atomicreference observable just 1 groupby v 1 doonnext ref set test ref get take 1 test assertresult 1 
publishsubject integer ps publishsubject create testobserver integer to ps groupby v 1 true flatmap g g doonnext v if v 1 ps onnext 2 ps oncomplete test ps onnext 1 to assertresult 1 2 
final atomicreference throwable receivedexception new atomicreference observable string w observable unsafecreate new observablesource string override public void subscribe observer super string observer observer onsubscribe disposable empty observer onnext one observer onerror new throwable injected failure observer onnext two observer onnext three function throwable observable string resume new function throwable observable string override public observable string apply throwable t1 receivedexception set t1 return observable just tworesume threeresume observable string observable w onerrorresumenext resume observer string observer testhelper mockobserver observable subscribe observer verify observer mockito never onerror any throwable class verify observer times 1 oncomplete verify observer times 1 onnext one verify observer mockito never onnext two verify observer mockito never onnext three verify observer times 1 onnext tworesume verify observer times 1 onnext threeresume assertnotnull receivedexception get 
observer onsubscribe disposable empty observer onnext one observer onerror new throwable injected failure observer onnext two observer onnext three 
final atomicreference throwable receivedexception new atomicreference subscription s mock subscription class testobservable w new testobservable s one function throwable observable string resume new function throwable observable string override public observable string apply throwable t1 receivedexception set t1 return observable just tworesume threeresume observable string o observable unsafecreate w onerrorresumenext resume observer string observer testhelper mockobserver o subscribe observer try w t join catch interruptedexception e fail e getmessage verify observer mockito never onerror any throwable class verify observer times 1 oncomplete verify observer times 1 onnext one verify observer mockito never onnext two verify observer mockito never onnext three verify observer times 1 onnext tworesume verify observer times 1 onnext threeresume assertnotnull receivedexception get 
subscription s mock subscription class testobservable w new testobservable s one function throwable observable string resume new function throwable observable string override public observable string apply throwable t1 throw new runtimeexception exception from function observable string o observable unsafecreate w onerrorresumenext resume observer string observer testhelper mockobserver o subscribe observer try w t join catch interruptedexception e fail e getmessage verify observer times 1 onnext one verify observer times 1 onerror any throwable class verify observer times 0 oncomplete 
observable string w observable just one fail two three fail w w map new function string string override public string apply string s if fail equals s throw new runtimeexception forced failure system out println badmapper s return s observable string o w onerrorresumenext new function throwable observable string override public observable string apply throwable t1 return observable just tworesume threeresume subscribeon schedulers computation observer string observer testhelper mockobserver testobserver string to new testobserver observer o subscribe to to awaitdone 5 timeunit seconds verify observer mockito never onerror any throwable class verify observer times 1 oncomplete verify observer times 1 onnext one verify observer mockito never onnext two verify observer mockito never onnext three verify observer times 1 onnext tworesume verify observer times 1 onnext threeresume 
testobserver integer to new testobserver observable range 0 onerrorresumenext new function throwable observable integer override public observable integer apply throwable t1 return observable just 1 observeon schedulers computation map new function integer integer int c override public integer apply integer t1 if c 1 try thread sleep 500 catch interruptedexception e e printstacktrace return t1 subscribe to to awaitdone 5 timeunit seconds to assertnoerrors 
testhelper new function observable integer object override public object apply observable integer o throws exception return observable error new ioexception onerrorresumenext functions justfunction o false 1 1 1 
final atomiclong counter new atomiclong final integer numbers new integer 5000 for int i 0 i numbers length i numbers i i 1 final int niters 250 final countdownlatch latch new countdownlatch niters for int iters 0 iters niters iters final countdownlatch innerlatch new countdownlatch 1 final publishsubject void s publishsubject create final atomicboolean completed new atomicboolean observable fromarray numbers takeuntil s window 50 flatmap new function observable integer observable object override public observable object apply observable integer integerobservable return integerobservable subscribeon schedulers computation map new function integer object override public object apply integer integer if integer 5 completed compareandset false true s oncomplete math pow math random math random return integer 2 tolist doonsuccess new consumer list object override public void accept list object integers counter incrementandget latch countdown innerlatch countdown subscribe if innerlatch await 30 timeunit seconds assert fail failed inner latch wait iteration iters if latch await 30 timeunit seconds assert fail incomplete went through latch getcount iterations else assert assertequals niters counter get 
final list object list new arraylist observable range 1 5 doonnext new consumer integer override public void accept integer v throws exception list add v foreachwhile new predicate integer override public boolean test integer v throws exception return v 3 assertequals arrays aslist 1 2 3 list 
final list object list new arraylist observable range 1 5 concatwith observable integer error new testexception doonnext new consumer integer override public void accept integer v throws exception list add v foreachwhile new predicate integer override public boolean test integer v throws exception return true new consumer throwable override public void accept throwable e throws exception list add 100 assertequals arrays aslist 1 2 3 4 5 100 list 
testhelper new function observable integer object override public object apply observable integer f throws exception return f foreachwhile functions alwaystrue false 1 1 object null 
publishsubject integer ps publishsubject create disposable d ps foreachwhile functions alwaystrue assertfalse d isdisposed d dispose asserttrue d isdisposed 
list throwable errors testhelper trackpluginerrors try observable just 1 foreachwhile new predicate integer override public boolean test integer v throws exception throw new testexception testhelper asserterror errors 0 class throwable c errors get 0 getcause asserttrue c c instanceof testexception finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try observable integer error new testexception outer foreachwhile functions alwaystrue new consumer throwable override public void accept throwable v throws exception throw new testexception inner testhelper asserterror errors 0 compositeexception class list throwable ce testhelper compositelist errors get 0 testhelper asserterror ce 0 testexception class outer testhelper asserterror ce 1 testexception class inner finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try observable just 1 foreachwhile functions alwaystrue functions emptyconsumer new action override public void run throws exception throw new testexception testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
observer integer observer testhelper mockobserver observable just 1 2 3 observeon instance subscribe observer verify observer times 1 onnext 1 verify observer times 1 onnext 2 verify observer times 1 onnext 3 verify observer times 1 oncomplete 
observable string obs observable just one null two three four observer string observer testhelper mockobserver inorder inorder inorder observer testobserverex string to new testobserverex observer obs observeon schedulers computation subscribe to to awaitdone 1000 timeunit milliseconds if to errors size 0 for throwable t to errors t printstacktrace fail failed with exception inorder verify observer times 1 onnext one inorder verify observer times 1 onnext null inorder verify observer times 1 onnext two inorder verify observer times 1 onnext three inorder verify observer times 1 onnext four inorder verify observer times 1 oncomplete inorder 
system out println main thread thread currentthread getname observable string obs observable just one null two three four observer string observer testhelper mockobserver final string parentthreadname thread currentthread getname final countdownlatch completedlatch new countdownlatch 1 obs obs doonnext new consumer string override public void accept string s string threadname thread currentthread getname system out println source threadname threadname expected parentthreadname assertequals parentthreadname threadname obs observeon schedulers newthread doonnext new consumer string override public void accept string t1 string threadname thread currentthread getname boolean correctthreadname threadname startswith rxnewthreadscheduler system out println observeon threadname threadname correct correctthreadname asserttrue correctthreadname doafterterminate new action override public void run completedlatch countdown subscribe observer if completedlatch await 1000 timeunit milliseconds fail timed out waiting verify observer never onerror any throwable class verify observer times 5 onnext any string class verify observer times 1 oncomplete 
scheduler scheduler instance observable integer o observable just 1 2 3 observable integer o2 o observeon scheduler observer object observer1 testhelper mockobserver observer object observer2 testhelper mockobserver inorder inorder1 inorder observer1 inorder inorder2 inorder observer2 o2 subscribe observer1 o2 subscribe observer2 inorder1 verify observer1 times 1 onnext 1 inorder1 verify observer1 times 1 onnext 2 inorder1 verify observer1 times 1 onnext 3 inorder1 verify observer1 times 1 oncomplete verify observer1 never onerror any throwable class inorder1 inorder2 verify observer2 times 1 onnext 1 inorder2 verify observer2 times 1 onnext 2 inorder2 verify observer2 times 1 onnext 3 inorder2 verify observer2 times 1 oncomplete verify observer2 never onerror any throwable class inorder2 
testscheduler scheduler1 new testscheduler testscheduler scheduler2 new testscheduler observable integer o observable just 1 2 3 observable integer o1 o observeon scheduler1 observable integer o2 o observeon scheduler2 observer object observer1 testhelper mockobserver observer object observer2 testhelper mockobserver inorder inorder1 inorder observer1 inorder inorder2 inorder observer2 o1 subscribe observer1 o2 subscribe observer2 scheduler1 advancetimeby 1 timeunit seconds scheduler2 advancetimeby 1 timeunit seconds inorder1 verify observer1 times 1 onnext 1 inorder1 verify observer1 times 1 onnext 2 inorder1 verify observer1 times 1 onnext 3 inorder1 verify observer1 times 1 oncomplete verify observer1 never onerror any throwable class inorder1 inorder2 verify observer2 times 1 onnext 1 inorder2 verify observer2 times 1 onnext 2 inorder2 verify observer2 times 1 onnext 3 inorder2 verify observer2 times 1 oncomplete verify observer2 never onerror any throwable class inorder2 
final atomicinteger count new atomicinteger final int multiple 99 observable range 1 map new function integer integer override public integer apply integer t1 return t1 multiple observeon schedulers newthread blockingforeach new consumer integer override public void accept integer t1 assertequals count incrementandget multiple t1 intvalue string name thread currentthread getname assertfalse wrong thread name name name startswith rx 
final atomicinteger count new atomicinteger final int multiple 99 observable range 1 map new function integer integer override public integer apply integer t1 return t1 multiple observeon schedulers computation blockingforeach new consumer integer override public void accept integer t1 assertequals count incrementandget multiple t1 intvalue string name thread currentthread getname assertfalse wrong thread name name name startswith rx 
final atomicinteger count new atomicinteger final int multiple 99 observable range 1 map new function integer integer override public integer apply integer t1 if randomintfrom0to100 98 try thread sleep 2 catch interruptedexception e e printstacktrace return t1 multiple observeon schedulers computation blockingforeach new consumer integer override public void accept integer t1 assertequals count incrementandget multiple t1 intvalue string name thread currentthread getname assertfalse wrong thread name name name startswith rx 
final countdownlatch completedlatch new countdownlatch 1 final countdownlatch nextlatch new countdownlatch 1 final atomiclong completetime new atomiclong observable range 1 2 subscribeon schedulers newthread observeon schedulers newthread subscribe new defaultobserver integer override public void oncomplete system out println oncomplete completetime set system nanotime completedlatch countdown override public void onerror throwable e override public void onnext integer t try if nextlatch await 1000 timeunit milliseconds throw new runtimeexception it shouldn t have timed out catch interruptedexception e throw new runtimeexception it shouldn t have failed long aftersubscribetime system nanotime system out println after subscribe completedlatch getcount assertequals 1 completedlatch getcount nextlatch countdown completedlatch await 1000 timeunit milliseconds asserttrue completetime get aftersubscribetime system out println oncomplete nanos after subscribe completetime get aftersubscribetime 
system out println oncomplete completetime set system nanotime completedlatch countdown 
long x system nanotime x x 21 x x 35 x x 4 return math abs int x 100 
testscheduler testscheduler new testscheduler observable integer source observable concat observable integer error new testexception observable just 1 observer integer o testhelper mockobserver inorder inorder inorder o source observeon testscheduler subscribe o inorder verify o never onerror any testexception class testscheduler advancetimeby 1 timeunit seconds inorder verify o onerror any testexception class inorder verify o never onnext anyint inorder verify o never oncomplete 
final testscheduler testscheduler new testscheduler final observer integer observer testhelper mockobserver testobserver integer to new testobserver observer observable just 1 2 3 observeon testscheduler subscribe to to dispose testscheduler advancetimeby 1 timeunit seconds final inorder inorder inorder observer inorder verify observer never onnext anyint inorder verify observer never onerror any exception class inorder verify observer never oncomplete 
final atomicinteger generated new atomicinteger observable integer o observable fromiterable new iterable integer override public iterator integer iterator return new iterator integer override public void remove override public integer next return generated getandincrement override public boolean hasnext return true testobserver integer to new testobserver o take 7 observeon schedulers newthread subscribe to to awaitdone 5 timeunit seconds to assertvalues 0 1 2 3 4 5 6 assertequals 7 generated get 
testobserver integer to new testobserver observable range 0 observeon schedulers newthread observeon schedulers newthread subscribe to to awaitdone 5 timeunit seconds to assertnoerrors 
observable range 1 5 concatwith observable integer error new testexception observeon schedulers computation true doonnext new consumer integer override public void accept integer v throws exception if v 1 thread sleep 100 test awaitdone 5 timeunit seconds assertfailure testexception class 1 2 3 4 5 
observable just 1 observeon schedulers trampoline test assertresult 1 
testhelper checkdisposed publishsubject create observeon new testscheduler 
testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return o observeon new testscheduler 
list throwable errors testhelper trackpluginerrors try testscheduler scheduler new testscheduler testobserver integer to new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer oncomplete observer onnext 1 observer onerror new testexception observer oncomplete observeon scheduler test scheduler triggeractions to assertresult testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
observable range 1 5 observeon schedulers single test awaitdone 5 timeunit seconds assertresult 1 2 3 4 5 
unicastsubject integer us unicastsubject create testobserver integer to us observeon schedulers single test testhelper emit us 1 2 3 4 5 to awaitdone 5 timeunit seconds assertresult 1 2 3 4 5 
unicastsubject integer us unicastsubject create testobserver integer to us observeon schedulers single test us onerror new testexception to awaitdone 5 timeunit seconds assertfailure testexception class 
unicastsubject integer us unicastsubject create testobserver integer to us observeon schedulers single true test us onerror new testexception to awaitdone 5 timeunit seconds assertfailure testexception class 
testobserverex integer to new testobserverex queuefuseable any observable range 1 5 hide observeon schedulers single subscribe to to assertfusionmode queuefuseable async awaitdone 5 timeunit seconds assertresult 1 2 3 4 5 
testobserverex integer to new testobserverex queuefuseable sync observable range 1 5 hide observeon schedulers single subscribe to to assertfusionmode queuefuseable none awaitdone 5 timeunit seconds assertresult 1 2 3 4 5 
testobserverex integer to new testobserverex queuefuseable any unicastsubject integer us unicastsubject create us observeon schedulers single subscribe to us onerror new testexception to awaitdone 5 timeunit seconds assertfailure testexception class to assertfusionmode queuefuseable async awaitdone 5 timeunit seconds assertfailure testexception class 
testobserverex integer to new testobserverex queuefuseable any unicastsubject integer us unicastsubject create us observeon schedulers single true subscribe to us onerror new testexception to awaitdone 5 timeunit seconds assertfailure testexception class to assertfusionmode queuefuseable async awaitdone 5 timeunit seconds assertfailure testexception class 
final unicastsubject integer us unicastsubject create final countdownlatch cdl new countdownlatch 1 us observeon schedulers single subscribe new observer integer disposable upstream int count override public void onsubscribe disposable d this upstream d queuedisposable d requestfusion queuefuseable any override public void onnext integer value if count 1 us onnext 2 upstream dispose cdl countdown override public void onerror throwable e override public void oncomplete us onnext 1 cdl await 
new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty suppresswarnings unchecked observeonobserver integer oo observeonobserver integer observer oo queue new simplequeue integer override public boolean offer integer value return false override public boolean offer integer v1 integer v2 return false nullable override public integer poll throws exception throw new testexception override public boolean isempty return false override public void clear oo clear oo schedule observeon schedulers single test awaitdone 5 timeunit seconds assertfailure testexception class 
final behaviorsubject integer bs behaviorsubject createdefault 1 bs observeon instance concatmap new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable just v 1 subscribewith new testobserver integer override public void onnext integer t super onnext t if t 2 bs onnext 2 assertvaluesonly 2 3 
s new observable concat observable just 1 hide observeon s observable just 2 test assertresult 1 2 assertequals 1 s disposedcount get 
s new observable concat observable just 1 observeon s observable just 2 test assertresult 1 2 assertequals 1 s disposedcount get 
s new unicastsubject integer us unicastsubject create us onnext 1 us oncomplete observable concat us observeon s observable just 2 test assertresult 1 2 assertequals 1 s disposedcount get 
s new testobserverex integer to new observable just 1 hide observeon s subscribe to assertequals 1 s disposedcount get 
for int j 0 j testhelper race long loops j list throwable errors testhelper trackpluginerrors try final unicastsubject integer us unicastsubject create testobserver integer to us hide observeon schedulers io observeon schedulers single unsubscribeon schedulers computation firstorerror test for int i 0 us hasobservers i i us onnext i to awaitdone 5 timeunit seconds if errors isempty throw new compositeexception errors to assertresult 0 finally rxjavaplugins reset 
observer testhelper mockobserver scheduler new testscheduler innerscheduler scheduler createworker 
observable string source observable empty observable list string buffered source buffer 3 3 buffered subscribe observer mockito verify observer mockito never onnext mockito string anylist mockito verify observer mockito never onerror mockito any throwable class mockito verify observer mockito times 1 oncomplete 
observable string source observable unsafecreate new observablesource string override public void subscribe observer super string observer observer onsubscribe disposable empty observer onnext one observer onnext two observer onnext three observer onnext four observer onnext five observable list string buffered source buffer 3 1 buffered subscribe observer inorder inorder mockito inorder observer inorder verify observer mockito times 1 onnext list one two three inorder verify observer mockito times 1 onnext list two three four inorder verify observer mockito times 1 onnext list three four five inorder verify observer mockito never onnext mockito string anylist inorder verify observer mockito never onerror mockito any throwable class inorder verify observer mockito never oncomplete 
observable string source observable just one two three four five observable list string buffered source buffer 3 3 buffered subscribe observer inorder inorder mockito inorder observer inorder verify observer mockito times 1 onnext list one two three inorder verify observer mockito times 1 onnext list four five inorder verify observer mockito never onnext mockito string anylist inorder verify observer mockito never onerror mockito any throwable class inorder verify observer mockito times 1 oncomplete 
observable string source observable just one two three four five observable list string buffered source buffer 2 3 buffered subscribe observer inorder inorder mockito inorder observer inorder verify observer mockito times 1 onnext list one two inorder verify observer mockito times 1 onnext list four five inorder verify observer mockito never onnext mockito string anylist inorder verify observer mockito never onerror mockito any throwable class inorder verify observer mockito times 1 oncomplete 
observable string source observable unsafecreate new observablesource string override public void subscribe observer super string observer observer onsubscribe disposable empty push observer one 10 push observer two 90 push observer three 110 push observer four 190 push observer five 210 complete observer 250 observable list string buffered source buffer 100 timeunit milliseconds scheduler 2 buffered subscribe observer inorder inorder mockito inorder observer scheduler advancetimeto 100 timeunit milliseconds inorder verify observer mockito times 1 onnext list one two scheduler advancetimeto 200 timeunit milliseconds inorder verify observer mockito times 1 onnext list three four scheduler advancetimeto 300 timeunit milliseconds inorder verify observer mockito times 1 onnext list five inorder verify observer mockito never onnext mockito string anylist inorder verify observer mockito never onerror mockito any throwable class inorder verify observer mockito times 1 oncomplete 
observable string source observable unsafecreate new observablesource string override public void subscribe observer super string observer observer onsubscribe disposable empty push observer one 97 push observer two 98 push observer three 99 push observer four 101 push observer five 102 complete observer 150 observable list string buffered source buffer 100 timeunit milliseconds scheduler buffered subscribe observer inorder inorder mockito inorder observer scheduler advancetimeto 101 timeunit milliseconds inorder verify observer mockito times 1 onnext list one two three scheduler advancetimeto 201 timeunit milliseconds inorder verify observer mockito times 1 onnext list four five inorder verify observer mockito never onnext mockito string anylist inorder verify observer mockito never onerror mockito any throwable class inorder verify observer mockito times 1 oncomplete 
observable string source observable unsafecreate new observablesource string override public void subscribe observer super string observer observer onsubscribe disposable empty push observer one 10 push observer two 60 push observer three 110 push observer four 160 push observer five 210 complete observer 500 observable object openings observable unsafecreate new observablesource object override public void subscribe observer object observer observer onsubscribe disposable empty push observer new object 50 push observer new object 200 complete observer 250 function object observable object closer new function object observable object override public observable object apply object opening return observable unsafecreate new observablesource object override public void subscribe observer super object observer observer onsubscribe disposable empty push observer new object 100 complete observer 101 observable list string buffered source buffer openings closer buffered subscribe observer inorder inorder mockito inorder observer scheduler advancetimeto 500 timeunit milliseconds inorder verify observer mockito times 1 onnext list two three inorder verify observer mockito times 1 onnext list five inorder verify observer mockito never onnext mockito string anylist inorder verify observer mockito never onerror mockito any throwable class inorder verify observer mockito times 1 oncomplete 
final countdownlatch latch new countdownlatch 1 longtimeaction action new longtimeaction latch observable just 1 buffer 10 timeunit milliseconds 10 subscribe action latch await assertfalse action fail 
try if fail return thread sleep 200 catch interruptedexception e fail true finally latch countdown 
observable integer source observable never observer list integer o testhelper mockobserver testobserver list integer to new testobserver o source buffer 100 200 timeunit milliseconds scheduler doonnext new consumer list integer override public void accept list integer pv system out println pv subscribe to inorder inorder mockito inorder o scheduler advancetimeby 1001 timeunit milliseconds inorder verify o times 5 onnext arrays integer aslist to dispose scheduler advancetimeby 999 timeunit milliseconds inorder 
publishsubject integer source publishsubject create publishsubject integer boundary publishsubject create observer object o testhelper mockobserver inorder inorder mockito inorder o source buffer boundary subscribe o source onnext 1 source onnext 2 source onnext 3 boundary onnext 1 inorder verify o times 1 onnext arrays aslist 1 2 3 source onnext 4 source onnext 5 boundary onnext 2 inorder verify o times 1 onnext arrays aslist 4 5 source onnext 6 boundary oncomplete inorder verify o times 1 onnext arrays aslist 6 inorder verify o oncomplete verify o never onerror any throwable class 
publishsubject integer source publishsubject create publishsubject integer boundary publishsubject create observer object o testhelper mockobserver inorder inorder mockito inorder o source buffer boundary subscribe o boundary oncomplete inorder verify o times 1 onnext arrays aslist inorder verify o oncomplete verify o never onerror any throwable class 
publishsubject integer source publishsubject create publishsubject integer boundary publishsubject create observer object o testhelper mockobserver inorder inorder mockito inorder o source buffer boundary subscribe o source oncomplete inorder verify o times 1 onnext arrays aslist inorder verify o oncomplete verify o never onerror any throwable class 
publishsubject integer source publishsubject create publishsubject integer boundary publishsubject create observer object o testhelper mockobserver inorder inorder mockito inorder o source buffer boundary subscribe o source oncomplete boundary oncomplete inorder verify o times 1 onnext arrays aslist inorder verify o oncomplete verify o never onerror any throwable class 
publishsubject integer source publishsubject create publishsubject integer boundary publishsubject create observer object o testhelper mockobserver source buffer boundary subscribe o source onnext 1 source onerror new testexception verify o onerror any testexception class verify o never oncomplete verify o never onnext any 
publishsubject integer source publishsubject create publishsubject integer boundary publishsubject create observer object o testhelper mockobserver source buffer boundary subscribe o source onnext 1 boundary onerror new testexception verify o onerror any testexception class verify o never oncomplete verify o never onnext any 
observable integer source observable just 1 repeat observable list integer result source buffer 2 take 1 observer object o testhelper mockobserver result subscribe o verify o onnext arrays aslist 1 1 verify o oncomplete verify o never onerror any throwable class 
observable integer source observable just 1 repeat observable list integer result source buffer 2 3 take 1 observer object o testhelper mockobserver result subscribe o verify o onnext arrays aslist 1 1 verify o oncomplete verify o never onerror any throwable class 
observable long source observable interval 40 40 timeunit milliseconds scheduler observable list long result source buffer 100 timeunit milliseconds scheduler take 1 observer object o testhelper mockobserver result subscribe o scheduler advancetimeby 5 timeunit seconds verify o onnext arrays aslist 0l 1l verify o oncomplete verify o never onerror any throwable class 
observable long source observable interval 40 40 timeunit milliseconds scheduler observable list long result source buffer 100 60 timeunit milliseconds scheduler take 2 observer object o testhelper mockobserver inorder inorder inorder o result subscribe o scheduler advancetimeby 5 timeunit seconds inorder verify o onnext arrays aslist 0l 1l inorder verify o onnext arrays aslist 1l 2l inorder verify o oncomplete verify o never onerror any throwable class 
observable long boundary observable interval 60 60 timeunit milliseconds scheduler observable long source observable interval 40 40 timeunit milliseconds scheduler observable list long result source buffer boundary take 2 observer object o testhelper mockobserver inorder inorder inorder o result subscribe o scheduler advancetimeby 5 timeunit seconds inorder verify o onnext arrays aslist 0l inorder verify o onnext arrays aslist 1l inorder verify o oncomplete verify o never onerror any throwable class 
observable long start observable interval 61 61 timeunit milliseconds scheduler function long observable long end new function long observable long override public observable long apply long t1 return observable interval 100 100 timeunit milliseconds scheduler observable long source observable interval 40 40 timeunit milliseconds scheduler observable list long result source buffer start end take 2 observer object o testhelper mockobserver inorder inorder inorder o result doonnext new consumer list long override public void accept list long pv system out println pv subscribe o scheduler advancetimeby 5 timeunit seconds inorder verify o onnext arrays aslist 1l 2l 3l inorder verify o onnext arrays aslist 3l 4l inorder verify o oncomplete verify o never onerror any throwable class 
publishsubject integer source publishsubject create observable list integer result source buffer 2 observer object o testhelper mockobserver inorder inorder inorder o result subscribe o source onnext 1 source onnext 2 source onnext 3 source onerror new testexception inorder verify o onnext arrays aslist 1 2 inorder verify o onerror any testexception class inorder verify o never onnext arrays aslist 3 verify o never oncomplete 
publishsubject integer source publishsubject create observable list integer result source buffer 100 timeunit milliseconds scheduler observer object o testhelper mockobserver inorder inorder inorder o result subscribe o source onnext 1 source onnext 2 scheduler advancetimeby 100 timeunit milliseconds source onnext 3 source onerror new testexception scheduler advancetimeby 100 timeunit milliseconds inorder verify o onnext arrays aslist 1 2 inorder verify o onerror any testexception class inorder verify o never onnext arrays aslist 3 verify o never oncomplete 
observable long source observable interval 30 30 timeunit milliseconds scheduler observable list long result source buffer 100 timeunit milliseconds scheduler 2 take 3 observer object o testhelper mockobserver inorder inorder inorder o result subscribe o scheduler advancetimeby 5 timeunit seconds inorder verify o onnext arrays aslist 0l 1l inorder verify o onnext arrays aslist 2l inorder verify o oncomplete verify o never onerror any throwable class 
publishsubject integer start publishsubject create function integer observable integer end new function integer observable integer override public observable integer apply integer t1 return observable never publishsubject integer source publishsubject create observable list integer result source buffer start end observer object o testhelper mockobserver result subscribe o start onnext 1 source onnext 1 source onnext 2 start onerror new testexception verify o never onnext any verify o never oncomplete verify o onerror any testexception class 
publishsubject integer start publishsubject create function integer observable integer end new function integer observable integer override public observable integer apply integer t1 throw new testexception publishsubject integer source publishsubject create observable list integer result source buffer start end observer object o testhelper mockobserver result subscribe o start onnext 1 source onnext 1 source onnext 2 verify o never onnext any verify o never oncomplete verify o onerror any testexception class 
publishsubject integer start publishsubject create function integer observable integer end new function integer observable integer override public observable integer apply integer t1 return observable error new testexception publishsubject integer source publishsubject create observable list integer result source buffer start end observer object o testhelper mockobserver result subscribe o start onnext 1 source onnext 1 source onnext 2 verify o never onnext any verify o never oncomplete verify o onerror any testexception class 
final observer object o testhelper mockobserver final countdownlatch cdl new countdownlatch 1 disposableobserver object observer new disposableobserver object override public void onnext object t o onnext t override public void onerror throwable e o onerror e cdl countdown override public void oncomplete o oncomplete cdl countdown observable range 1 1 delay 1 timeunit seconds buffer 2 timeunit seconds subscribe observer cdl await verify o onnext arrays aslist 1 verify o oncomplete verify o never onerror any throwable class assertfalse observer isdisposed 
observable range 1 5 buffer 1 1 timeunit minutes test assertresult arrays aslist 1 2 3 4 5 
observable range 1 5 buffer observable timer 1 timeunit minutes 2 test assertresult arrays aslist 1 2 3 4 5 
observable just 1 1 2 2 3 3 4 4 buffer 3 new supplier collection integer override public collection integer get throws exception return new hashset test assertresult set 1 2 set 2 3 set 4 
observable just 1 1 2 2 3 3 4 4 buffer 3 3 new supplier collection integer override public collection integer get throws exception return new hashset test assertresult set 1 2 set 2 3 set 4 
observable just 1 buffer 1 timeunit seconds schedulers single integer max value new supplier collection integer override public collection integer get throws exception throw new testexception false test assertfailure testexception class 
observable just 1 buffer 1 timeunit seconds schedulers single 10 new supplier collection integer override public collection integer get throws exception throw new testexception false test assertfailure testexception class 
observable just 1 buffer 2 1 timeunit seconds schedulers single new supplier collection integer override public collection integer get throws exception throw new testexception test assertfailure testexception class 
observable integer never buffer 1 timeunit milliseconds schedulers single integer max value new supplier collection integer int count override public collection integer get throws exception if count 1 throw new testexception else return new arraylist false test awaitdone 5 timeunit seconds assertfailure testexception class 
observable integer never buffer 1 timeunit milliseconds schedulers single 10 new supplier collection integer int count override public collection integer get throws exception if count 1 throw new testexception else return new arraylist false test awaitdone 5 timeunit seconds assertfailure testexception class 
observable integer never buffer 2 1 timeunit milliseconds schedulers single new supplier collection integer int count override public collection integer get throws exception if count 1 throw new testexception else return new arraylist test awaitdone 5 timeunit seconds assertfailure testexception class 
observable integer never buffer 1 timeunit milliseconds schedulers single integer max value new supplier collection integer int count override public collection integer get throws exception if count 1 return null else return new arraylist false test awaitdone 5 timeunit seconds assertfailure nullpointerexception class 
observable integer never buffer 1 timeunit milliseconds schedulers single 10 new supplier collection integer int count override public collection integer get throws exception if count 1 return null else return new arraylist false test awaitdone 5 timeunit seconds assertfailure nullpointerexception class 
observable integer never buffer 2 1 timeunit milliseconds schedulers single new supplier collection integer int count override public collection integer get throws exception if count 1 return null else return new arraylist test awaitdone 5 timeunit seconds assertfailure nullpointerexception class 
testhelper checkdisposed observable range 1 5 buffer 1 timeunit days schedulers single testhelper checkdisposed observable range 1 5 buffer 2 1 timeunit days schedulers single testhelper checkdisposed observable range 1 5 buffer 1 2 timeunit days schedulers single testhelper checkdisposed observable range 1 5 buffer 1 timeunit days schedulers single 2 functions integer createarraylist 16 true testhelper checkdisposed observable range 1 5 buffer 1 testhelper checkdisposed observable range 1 5 buffer 2 1 testhelper checkdisposed observable range 1 5 buffer 1 2 testhelper checkdisposed publishsubject create buffer observable never testhelper checkdisposed publishsubject create buffer observable never functions justfunction observable never 
observable range 1 5 buffer 1 timeunit days schedulers single 2 functions integer createarraylist 16 true test assertresult arrays aslist 1 2 arrays aslist 3 4 arrays aslist 5 
observable range 1 2 buffer 1 new supplier list integer int calls override public list integer get throws exception if calls 2 throw new testexception return new arraylist test assertfailure testexception class arrays aslist 1 
observable range 1 2 buffer 2 1 new supplier list integer int calls override public list integer get throws exception if calls 2 throw new testexception return new arraylist test assertfailure testexception class 
observable integer error new testexception buffer 2 1 test assertfailure testexception class 
observable range 1 5 buffer 5 1 test assertresult arrays aslist 1 2 3 4 5 arrays aslist 2 3 4 5 arrays aslist 3 4 5 arrays aslist 4 5 arrays aslist 5 
observable error new testexception buffer 1 timeunit days test assertfailure testexception class 
observable error new testexception buffer 1 2 timeunit days test assertfailure testexception class 
observable error new testexception buffer 2 1 timeunit days test assertfailure testexception class 
observable empty buffer 1 timeunit days test assertresult collections emptylist 
observable empty buffer 1 2 timeunit days test assertresult collections emptylist 
observable empty buffer 2 1 timeunit days test assertresult collections emptylist 
testscheduler scheduler new testscheduler publishsubject integer ps publishsubject create testobserver list integer to ps buffer 1 timeunit milliseconds scheduler 1 new supplier list integer int calls override public list integer get throws exception if calls 2 throw new testexception return new arraylist true test ps onnext 1 scheduler advancetimeby 1 timeunit milliseconds ps onnext 2 to assertfailure testexception class arrays aslist 1 
testscheduler scheduler new testscheduler publishsubject integer ps publishsubject create testobserver list integer to ps buffer 1 timeunit milliseconds scheduler 1 functions integer createarraylist 16 true test ps onerror new testexception to assertfailure testexception class 
for int i 0 i testhelper race default loops i final testscheduler scheduler new testscheduler final publishsubject object ps publishsubject create testobserver list object to ps buffer 1 timeunit seconds scheduler 5 test ps onnext 1 ps onnext 2 ps onnext 3 ps onnext 4 runnable r1 new runnable override public void run ps onnext 5 runnable r2 new runnable override public void run scheduler advancetimeby 1 timeunit seconds testhelper race r1 r2 ps oncomplete int items 0 for list object o to values items o size assertequals round i 5 items 
final atomicinteger counter new atomicinteger observable integer empty doondispose new action override public void run throws exception counter getandincrement buffer 5 timeunit seconds test awaitdone 5 timeunit seconds assertresult collections integer emptylist assertequals 0 counter get 
final atomicinteger counter new atomicinteger observable integer empty doondispose new action override public void run throws exception counter getandincrement buffer 5 10 timeunit seconds test awaitdone 5 timeunit seconds assertresult collections integer emptylist assertequals 0 counter get 
final atomicinteger counter new atomicinteger observable integer empty doondispose new action override public void run throws exception counter getandincrement buffer 10 5 timeunit seconds test awaitdone 5 timeunit seconds assertresult collections integer emptylist assertequals 0 counter get 
publishsubject integer source publishsubject create publishsubject integer openindicator publishsubject create publishsubject integer closeindicator publishsubject create testobserver list integer to source buffer openindicator functions justfunction closeindicator test asserttrue source hasobservers asserttrue openindicator hasobservers assertfalse closeindicator hasobservers openindicator onnext 1 asserttrue openindicator hasobservers asserttrue closeindicator hasobservers source oncomplete to assertresult collections integer emptylist assertfalse openindicator hasobservers assertfalse closeindicator hasobservers 
observable range 1 50 zipwith observable interval 5 timeunit milliseconds new bifunction integer long integer override public integer apply integer integer long along return integer buffer observable interval 0 200 timeunit milliseconds new function long observable override public observable apply long a return observable just a delay 100 timeunit milliseconds to testhelper list integer testconsumer assertsubscribed awaitdone 3 timeunit seconds assertcomplete 
observable range 1 50 zipwith observable interval 5 timeunit milliseconds new bifunction integer long integer override public integer apply integer integer long along return integer buffer observable interval 0 100 timeunit milliseconds new function long observable override public observable apply long a return observable just a delay 200 timeunit milliseconds to testhelper list integer testconsumer assertsubscribed awaitdone 3 timeunit seconds assertcomplete 
observable error new testexception buffer observable never functions justfunction observable never test assertfailure testexception class 
list throwable errors testhelper trackpluginerrors try new observable object override protected void subscribeactual observer super object observer disposable bs1 disposable empty disposable bs2 disposable empty observer onsubscribe bs1 assertfalse bs1 isdisposed assertfalse bs2 isdisposed observer onsubscribe bs2 assertfalse bs1 isdisposed asserttrue bs2 isdisposed observer onerror new ioexception observer oncomplete observer onnext 1 observer onerror new testexception buffer observable never functions justfunction observable never test assertfailure ioexception class testhelper asserterror errors 0 class testhelper assertundeliverable errors 1 testexception class finally rxjavaplugins reset 
publishsubject integer source publishsubject create publishsubject integer openindicator publishsubject create publishsubject integer closeindicator publishsubject create testobserver list integer to source buffer openindicator functions justfunction closeindicator test openindicator onnext 1 asserttrue closeindicator hasobservers openindicator oncomplete asserttrue source hasobservers asserttrue closeindicator hasobservers closeindicator oncomplete assertfalse source hasobservers to assertresult collections integer emptylist 
publishsubject integer source publishsubject create publishsubject integer openindicator publishsubject create publishsubject integer closeindicator publishsubject create testobserver list integer to source buffer openindicator functions justfunction closeindicator test openindicator onnext 1 asserttrue closeindicator hasobservers closeindicator oncomplete asserttrue source hasobservers asserttrue openindicator hasobservers openindicator oncomplete assertfalse source hasobservers to assertresult collections integer emptylist 
publishsubject integer source publishsubject create publishsubject integer openindicator publishsubject create publishsubject integer closeindicator publishsubject create testobserver list integer to source buffer openindicator functions justfunction closeindicator take 1 test openindicator onnext 1 closeindicator oncomplete assertfalse source hasobservers assertfalse openindicator hasobservers assertfalse closeindicator hasobservers to assertresult collections integer emptylist 
list throwable errors testhelper trackpluginerrors try observable never buffer new observable object override protected void subscribeactual observer super object observer assertfalse disposable observer isdisposed disposable bs1 disposable empty disposable bs2 disposable empty observer onsubscribe bs1 assertfalse bs1 isdisposed assertfalse bs2 isdisposed observer onsubscribe bs2 assertfalse bs1 isdisposed asserttrue bs2 isdisposed observer onerror new ioexception asserttrue disposable observer isdisposed observer oncomplete observer onnext 1 observer onerror new testexception functions justfunction observable never test assertfailure ioexception class testhelper asserterror errors 0 class testhelper assertundeliverable errors 1 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try observable never buffer observable just 1 concatwith observable integer never functions justfunction new observable object override protected void subscribeactual observer super object observer assertfalse disposable observer isdisposed disposable bs1 disposable empty disposable bs2 disposable empty observer onsubscribe bs1 assertfalse bs1 isdisposed assertfalse bs2 isdisposed observer onsubscribe bs2 assertfalse bs1 isdisposed asserttrue bs2 isdisposed observer onerror new ioexception asserttrue disposable observer isdisposed observer oncomplete observer onnext 1 observer onerror new testexception test assertfailure ioexception class testhelper asserterror errors 0 class testhelper assertundeliverable errors 1 testexception class finally rxjavaplugins reset 
testhelper new function observable object observablesource list object override public observablesource list object apply observable object f throws exception return f buffer observable never 
publishsubject integer ps publishsubject create publishsubject integer b publishsubject create testobserver list integer to ps buffer b new supplier list integer int calls override public list integer get throws exception if calls 2 throw new testexception return new arraylist test b onnext 1 to assertfailure testexception class 
observable integer ps new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer oncomplete observer onnext 1 observer oncomplete final atomicreference observer super integer ref new atomicreference observable integer b new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty ref set observer testobserver list integer to ps buffer b test ref get onnext 1 to assertresult collections integer emptylist 
testhelper new function observable object observable list object override public observable list object apply observable object f throws exception return f buffer 1 timeunit seconds 
testscheduler sch new testscheduler testobserver list object to observable never buffer 1 timeunit milliseconds sch test true sch advancetimeby 1 timeunit milliseconds to assertempty 
testscheduler sch new testscheduler testobserver list integer to new testobserver integer list integer sub new to functions justsupplier list integer new arraylist integer 1 timeunit seconds sch sub onsubscribe disposable empty assertfalse sub isdisposed sub onerror new testexception sub onnext 1 sub oncomplete sub run sub dispose asserttrue sub isdisposed sub buffer new arraylist sub enter sub oncomplete 
testhelper new function observable object observable list object override public observable list object apply observable object f throws exception return f buffer 2 1 timeunit seconds 
testhelper new function observable object observable list object override public observable list object apply observable object f throws exception return f buffer 2 timeunit seconds 10 
testscheduler sch new testscheduler testobserver list integer to new testobserver integer list integer sub new to functions justsupplier list integer new arraylist integer 1 1 timeunit seconds sch createworker sub onsubscribe disposable empty sub enter sub oncomplete sub dispose sub run 
testscheduler sch new testscheduler final testobserver list integer to new testobserver integer list integer sub new to new supplier list integer int calls override public list integer get throws exception if calls 2 to dispose return new arraylist 1 1 timeunit seconds sch createworker sub onsubscribe disposable empty sub run asserttrue to isdisposed 
testscheduler sch new testscheduler testobserver list integer to new testobserver integer list integer sub new to functions justsupplier list integer new arraylist integer 1 timeunit seconds 1 false sch createworker disposable bs disposable empty sub onsubscribe bs sub producerindex sub run assertfalse sub isdisposed sub enter sub oncomplete sub dispose asserttrue sub isdisposed sub run sub onnext 1 
testhelper new function observable object observablesource list object override public observablesource list object apply observable object o throws exception return o buffer 1 
testobserver list integer to new testobserver bufferexactobserver integer list integer sub new bufferexactobserver to 1 functions justsupplier list integer new arraylist integer sub oncomplete sub onnext 1 sub oncomplete 
testhelper new function observable object observablesource list object override public observablesource list object apply observable object o throws exception return o buffer 1 2 
observable empty buffer 1 timeunit seconds schedulers computation 10 new supplier list object override public list object get throws exception throw new testexception false test awaitdone 1 timeunit seconds assertfailure testexception class 
observable never buffer 1 timeunit seconds test true assertempty 
for int i 0 i testhelper race default loops i behaviorsubject integer bs behaviorsubject createdefault 1 publishsubject integer ps publishsubject create testobserver list integer to bs buffer behaviorsubject createdefault 0 v ps test testhelper race bs oncomplete ps oncomplete to assertresult arrays aslist 1 
observable notification integer notifications observable just 1 2 materialize observable integer dematerialize notifications dematerialize functions notification integer identity observer integer observer testhelper mockobserver dematerialize subscribe observer verify observer times 1 onnext 1 verify observer times 1 onnext 2 verify observer times 1 oncomplete verify observer never onerror any throwable class 
observable just 1 2 materialize dematerialize new function notification integer notification object override public notification object apply notification integer v throws exception throw new testexception test assertfailure testexception class 
observable just 1 2 materialize dematerialize new function notification integer notification object override public notification object apply notification integer v throws exception return null test assertfailure nullpointerexception class 
observable notification integer notifications observable just 1 2 materialize observable integer dematerialize notifications dematerialize functions notification integer identity observer integer observer testhelper mockobserver dematerialize subscribe observer verify observer times 1 onnext 1 verify observer times 1 onnext 2 verify observer times 1 oncomplete verify observer never onerror any throwable class 
throwable exception new throwable test observable integer o observable error exception observable integer dematerialize o materialize dematerialize functions notification integer identity observer integer observer testhelper mockobserver dematerialize subscribe observer verify observer times 1 onerror exception verify observer times 0 oncomplete verify observer times 0 onnext any integer class 
exception exception new exception test observable integer o observable error exception observable integer dematerialize o materialize dematerialize functions notification integer identity observer integer observer testhelper mockobserver dematerialize subscribe observer verify observer times 1 onerror exception verify observer times 0 oncomplete verify observer times 0 onnext any integer class 
exception exception new exception test observable notification integer o observable error exception observable integer dematerialize o dematerialize functions notification integer identity observer integer observer testhelper mockobserver dematerialize subscribe observer verify observer times 1 onerror exception verify observer times 0 oncomplete verify observer times 0 onnext any integer class 
observable notification integer o observable empty observable integer dematerialize o dematerialize functions notification integer identity observer integer observer testhelper mockobserver testobserverex integer to new testobserverex observer dematerialize subscribe to system out println to errors verify observer never onerror any throwable class verify observer times 1 oncomplete verify observer times 0 onnext any integer class 
observable integer source observable just 1 observable integer result source materialize dematerialize functions notification integer identity observer integer o testhelper mockobserver result subscribe o verify o onnext 1 verify o oncomplete verify o never onerror any throwable class 
observable integer source observable error new testexception observable integer result source materialize dematerialize functions notification integer identity observer integer o testhelper mockobserver result subscribe o verify o never onnext any integer class verify o never oncomplete verify o onerror any testexception class 
testhelper checkdisposed observable just notification integer createoncomplete dematerialize functions notification integer identity 
testhelper new function observable notification object observablesource object override public observablesource object apply observable notification object o throws exception return o dematerialize functions notification object identity 
list throwable errors testhelper trackpluginerrors try new observable notification object override protected void subscribeactual observer super notification object observer observer onsubscribe disposable empty observer onnext notification createoncomplete observer onnext notification object createonnext 1 observer onnext notification createonerror new testexception first observer onerror new testexception second dematerialize functions notification object identity test assertresult testhelper assertundeliverable errors 0 testexception class first testhelper assertundeliverable errors 1 testexception class second finally rxjavaplugins reset 
new observable object override protected void subscribeactual observer super object observer observer onsubscribe disposable empty observer onnext notification createoncomplete observer onnext 1 dematerialize v notification object v test assertresult 
observable intervalrange 5 5 50 50 timeunit milliseconds test awaitdone 5 timeunit seconds assertresult 5l 6l 7l 8l 9l 
observable intervalrange 1 5 1 1 timeunit milliseconds schedulers single test awaitdone 5 timeunit seconds assertresult 1l 2l 3l 4l 5l 
observable intervalrange 1 0 1 1 timeunit milliseconds test awaitdone 5 timeunit seconds assertresult 
try observable intervalrange 1 1 1 1 timeunit milliseconds fail should have thrown catch ex assertequals count 0 required but it was 1 ex getmessage 
observable intervalrange long max value 1 2 1 1 timeunit milliseconds observable intervalrange long min value long max value 1 1 timeunit milliseconds try observable intervalrange long max value 1 3 1 1 timeunit milliseconds fail should have thrown catch ex assertequals overflow start count is bigger than long max value ex getmessage 
testhelper checkdisposed observable intervalrange 1 2 1 1 timeunit milliseconds 
observable intervalrange 0 20 1 1 timeunit milliseconds schedulers trampoline take 10 test assertresult 0l 1l 2l 3l 4l 5l 6l 7l 8l 9l 
observable intervalrange 0 2 1 1 timeunit milliseconds schedulers trampoline take 2 test assertresult 0l 1l 
observer testhelper mockobserver singleobserver testhelper mocksingleobserver 
observable integer result observable just 1 2 3 4 5 reduce 0 sum map new function integer integer override public integer apply integer v return v toobservable result subscribe observer verify observer onnext 1 2 3 4 5 verify observer oncomplete verify observer never onerror any throwable class 
observable integer result observable concat observable just 1 2 3 4 5 observable integer error new testexception reduce 0 sum map new function integer integer override public integer apply integer v return v toobservable result subscribe observer verify observer never onnext any verify observer never oncomplete verify observer times 1 onerror any testexception class 
bifunction integer integer integer sumerr new bifunction integer integer integer override public integer apply integer t1 integer t2 throw new testexception observable integer result observable just 1 2 3 4 5 reduce 0 sumerr map new function integer integer override public integer apply integer v return v toobservable result subscribe observer verify observer never onnext any verify observer never oncomplete verify observer times 1 onerror any testexception class 
function integer integer error new function integer integer override public integer apply integer t1 throw new testexception observable integer result observable just 1 2 3 4 5 reduce 0 sum toobservable map error result subscribe observer verify observer never onnext any verify observer never oncomplete verify observer times 1 onerror any testexception class 
observable integer source observable just 1 2 3 4 5 6 observable integer reduced source reduce sum toobservable integer r reduced blockingfirst assertequals 21 r intvalue 
observable integer source observable just 1 2 3 4 5 6 observable integer reduced source reduce 0 sum toobservable integer r reduced blockingfirst assertequals 21 r intvalue 
single integer result observable just 1 2 3 4 5 reduce 0 sum map new function integer integer override public integer apply integer v return v result subscribe singleobserver verify singleobserver onsuccess 1 2 3 4 5 verify singleobserver never onerror any throwable class 
single integer result observable concat observable just 1 2 3 4 5 observable integer error new testexception reduce 0 sum map new function integer integer override public integer apply integer v return v result subscribe singleobserver verify singleobserver never onsuccess any verify singleobserver times 1 onerror any testexception class 
bifunction integer integer integer sumerr new bifunction integer integer integer override public integer apply integer t1 integer t2 throw new testexception single integer result observable just 1 2 3 4 5 reduce 0 sumerr map new function integer integer override public integer apply integer v return v result subscribe singleobserver verify singleobserver never onsuccess any verify singleobserver times 1 onerror any testexception class 
function integer integer error new function integer integer override public integer apply integer t1 throw new testexception single integer result observable just 1 2 3 4 5 reduce 0 sum map error result subscribe singleobserver verify singleobserver never onsuccess any verify singleobserver times 1 onerror any testexception class 
observable integer source observable just 1 2 3 4 5 6 maybe integer reduced source reduce sum integer r reduced blockingget assertequals 21 r intvalue 
observable integer source observable just 1 2 3 4 5 6 single integer reduced source reduce 0 sum integer r reduced blockingget assertequals 21 r intvalue 
observable range 1 5 reducewith new supplier integer override public integer get throws exception return 0 new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b test assertresult 15 
testhelper new function observable object maybesource object override public maybesource object apply observable object o throws exception return o reduce new bifunction object object object override public object apply object a object b throws exception return a 
testhelper checkdisposed observable just new object reduce new bifunction object object object override public object apply object a object b throws exception return a 
list throwable errors testhelper trackpluginerrors try new observable object override protected void subscribeactual observer super object observer observer onsubscribe disposable empty observer oncomplete observer onnext 1 observer onerror new testexception observer oncomplete reduce new bifunction object object object override public object apply object a object b throws exception return a test assertresult testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
testhelper new function observable integer singlesource integer override public singlesource integer apply observable integer o throws exception return o reduce 0 new bifunction integer integer integer override public integer apply integer a integer b throws exception return a 
testhelper checkdisposed publishsubject integer create reduce 0 new bifunction integer integer integer override public integer apply integer a integer b throws exception return a 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer oncomplete observer onnext 1 observer onerror new testexception observer oncomplete reduce 0 new bifunction integer integer integer override public integer apply integer a integer b throws exception return a test assertresult 0 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
observer testhelper mockobserver observer2 testhelper mockobserver scheduler new testscheduler 
observable long source observable interval 1l timeunit seconds scheduler take 3 observable long delayed source delay 500l timeunit milliseconds scheduler delayed subscribe observer inorder inorder inorder observer scheduler advancetimeto 1499l timeunit milliseconds verify observer never onnext anylong verify observer never oncomplete verify observer never onerror any throwable class scheduler advancetimeto 1500l timeunit milliseconds inorder verify observer times 1 onnext 0l inorder verify observer never onnext anylong verify observer never oncomplete verify observer never onerror any throwable class scheduler advancetimeto 2400l timeunit milliseconds inorder verify observer never onnext anylong verify observer never oncomplete verify observer never onerror any throwable class scheduler advancetimeto 2500l timeunit milliseconds inorder verify observer times 1 onnext 1l inorder verify observer never onnext anylong verify observer never oncomplete verify observer never onerror any throwable class scheduler advancetimeto 3400l timeunit milliseconds inorder verify observer never onnext anylong verify observer never oncomplete verify observer never onerror any throwable class scheduler advancetimeto 3500l timeunit milliseconds inorder verify observer times 1 onnext 2l verify observer times 1 oncomplete verify observer never onerror any throwable class 
observable long source observable interval 1l timeunit seconds scheduler take 3 observable long delayed source delay 5l timeunit seconds scheduler delayed subscribe observer inorder inorder inorder observer scheduler advancetimeto 5999l timeunit milliseconds verify observer never onnext anylong verify observer never oncomplete verify observer never onerror any throwable class scheduler advancetimeto 6000l timeunit milliseconds inorder verify observer times 1 onnext 0l scheduler advancetimeto 6999l timeunit milliseconds inorder verify observer never onnext anylong scheduler advancetimeto 7000l timeunit milliseconds inorder verify observer times 1 onnext 1l scheduler advancetimeto 7999l timeunit milliseconds inorder verify observer never onnext anylong scheduler advancetimeto 8000l timeunit milliseconds inorder verify observer times 1 onnext 2l inorder verify observer times 1 oncomplete inorder verify observer never onnext anylong inorder verify observer never oncomplete verify observer never onerror any throwable class 
observable long source observable interval 1l timeunit seconds scheduler map new function long long override public long apply long value if value 1l throw new runtimeexception error return value observable long delayed source delay 1l timeunit seconds scheduler delayed subscribe observer inorder inorder inorder observer scheduler advancetimeto 1999l timeunit milliseconds verify observer never onnext anylong verify observer never oncomplete verify observer never onerror any throwable class scheduler advancetimeto 2000l timeunit milliseconds inorder verify observer times 1 onerror any throwable class inorder verify observer never onnext anylong verify observer never oncomplete scheduler advancetimeto 5000l timeunit milliseconds inorder verify observer never onnext anylong inorder verify observer never onerror any throwable class verify observer never oncomplete 
observable long source observable interval 1l timeunit seconds scheduler take 3 observable long delayed source delay 500l timeunit milliseconds scheduler delayed subscribe observer delayed subscribe observer2 inorder inorder inorder observer inorder inorder2 inorder observer2 scheduler advancetimeto 1499l timeunit milliseconds verify observer never onnext anylong verify observer2 never onnext anylong scheduler advancetimeto 1500l timeunit milliseconds inorder verify observer times 1 onnext 0l inorder2 verify observer2 times 1 onnext 0l scheduler advancetimeto 2499l timeunit milliseconds inorder verify observer never onnext anylong inorder2 verify observer2 never onnext anylong scheduler advancetimeto 2500l timeunit milliseconds inorder verify observer times 1 onnext 1l inorder2 verify observer2 times 1 onnext 1l verify observer never oncomplete verify observer2 never oncomplete scheduler advancetimeto 3500l timeunit milliseconds inorder verify observer times 1 onnext 2l inorder2 verify observer2 times 1 onnext 2l inorder verify observer never onnext anylong inorder2 verify observer2 never onnext anylong inorder verify observer times 1 oncomplete inorder2 verify observer2 times 1 oncomplete verify observer never onerror any throwable class verify observer2 never onerror any throwable class 
observable integer result observable just 1 2 3 delaysubscription 100 timeunit milliseconds scheduler observer object o testhelper mockobserver inorder inorder inorder o result subscribe o inorder verify o never onnext any inorder verify o never oncomplete scheduler advancetimeby 100 timeunit milliseconds inorder verify o times 1 onnext 1 inorder verify o times 1 onnext 2 inorder verify o times 1 onnext 3 inorder verify o times 1 oncomplete verify o never onerror any throwable class 
observable integer result observable just 1 2 3 delaysubscription 100 timeunit milliseconds scheduler observer object o testhelper mockobserver testobserver object to new testobserver o result subscribe to to dispose scheduler advancetimeby 100 timeunit milliseconds verify o never onnext any verify o never oncomplete verify o never onerror any throwable class 
publishsubject integer source publishsubject create final list publishsubject integer delays new arraylist final int n 10 for int i 0 i n i publishsubject integer delay publishsubject create delays add delay function integer observable integer delayfunc new function integer observable integer override public observable integer apply integer t1 return delays get t1 observer object o testhelper mockobserver inorder inorder inorder o source delay delayfunc subscribe o for int i 0 i n i source onnext i delays get i onnext i inorder verify o onnext i source oncomplete inorder verify o oncomplete inorder verify o never onerror any throwable class 
publishsubject integer source publishsubject create final publishsubject integer delay publishsubject create function integer observable integer delayfunc new function integer observable integer override public observable integer apply integer t1 return delay observer object o testhelper mockobserver inorder inorder inorder o source delay delayfunc subscribe o source onnext 1 delay onnext 1 delay onnext 2 inorder verify o onnext 1 inorder verify o never onerror any throwable class 
publishsubject integer source publishsubject create final publishsubject integer delay publishsubject create function integer observable integer delayfunc new function integer observable integer override public observable integer apply integer t1 return delay observer object o testhelper mockobserver inorder inorder inorder o source delay delayfunc subscribe o source onnext 1 source onerror new testexception delay onnext 1 inorder verify o onerror any testexception class inorder verify o never onnext any verify o never oncomplete 
publishsubject integer source publishsubject create function integer observable integer delayfunc new function integer observable integer override public observable integer apply integer t1 throw new testexception observer object o testhelper mockobserver inorder inorder inorder o source delay delayfunc subscribe o source onnext 1 inorder verify o onerror any testexception class inorder verify o never onnext any verify o never oncomplete 
publishsubject integer source publishsubject create final publishsubject integer delay publishsubject create function integer observable integer delayfunc new function integer observable integer override public observable integer apply integer t1 return delay observer object o testhelper mockobserver inorder inorder inorder o source delay delayfunc subscribe o source onnext 1 delay onerror new testexception inorder verify o onerror any testexception class inorder verify o never onnext any verify o never oncomplete 
publishsubject integer source publishsubject create final publishsubject integer delay publishsubject create supplier observable integer subfunc new supplier observable integer override public observable integer get return delay function integer observable integer delayfunc new function integer observable integer override public observable integer apply integer t1 return delay observer object o testhelper mockobserver inorder inorder inorder o source delay observable defer subfunc delayfunc subscribe o source onnext 1 delay onnext 1 source onnext 2 delay onnext 2 inorder verify o onnext 2 inorder verify o never onerror any throwable class verify o never oncomplete 
publishsubject integer source publishsubject create final publishsubject integer delay publishsubject create supplier observable integer subfunc new supplier observable integer override public observable integer get throw new testexception function integer observable integer delayfunc new function integer observable integer override public observable integer apply integer t1 return delay observer object o testhelper mockobserver inorder inorder inorder o source delay observable defer subfunc delayfunc subscribe o source onnext 1 delay onnext 1 source onnext 2 inorder verify o onerror any testexception class inorder verify o never onnext any verify o never oncomplete 
publishsubject integer source publishsubject create final publishsubject integer delay publishsubject create supplier observable integer subfunc new supplier observable integer override public observable integer get return delay function integer observable integer delayfunc new function integer observable integer override public observable integer apply integer t1 return delay observer object o testhelper mockobserver inorder inorder inorder o source delay observable defer subfunc delayfunc subscribe o source onnext 1 delay onerror new testexception source onnext 2 inorder verify o onerror any testexception class inorder verify o never onnext any verify o never oncomplete 
publishsubject integer source publishsubject create function integer observable integer delayfunc new function integer observable integer override public observable integer apply integer t1 return observable empty observer object o testhelper mockobserver inorder inorder inorder o source delay delayfunc subscribe o source onnext 1 source oncomplete inorder verify o onnext 1 inorder verify o oncomplete inorder verify o never onerror any throwable class 
publishsubject integer source publishsubject create final publishsubject integer sdelay publishsubject create final publishsubject integer delay publishsubject create supplier observable integer subfunc new supplier observable integer override public observable integer get return sdelay function integer observable integer delayfunc new function integer observable integer override public observable integer apply integer t1 return delay observer object o testhelper mockobserver inorder inorder inorder o source delay observable defer subfunc delayfunc subscribe o source onnext 1 sdelay oncomplete source onnext 2 delay onnext 2 inorder verify o onnext 2 inorder verify o never onerror any throwable class verify o never oncomplete 
observable long source observable interval 1l timeunit seconds scheduler take 3 final observable long delayer observable timer 500l timeunit milliseconds scheduler function long observable long delayfunc new function long observable long override public observable long apply long t1 return delayer observable long delayed source delay delayfunc delayed subscribe observer inorder inorder inorder observer scheduler advancetimeto 1499l timeunit milliseconds verify observer never onnext anylong verify observer never oncomplete verify observer never onerror any throwable class scheduler advancetimeto 1500l timeunit milliseconds inorder verify observer times 1 onnext 0l inorder verify observer never onnext anylong verify observer never oncomplete verify observer never onerror any throwable class scheduler advancetimeto 2400l timeunit milliseconds inorder verify observer never onnext anylong verify observer never oncomplete verify observer never onerror any throwable class scheduler advancetimeto 2500l timeunit milliseconds inorder verify observer times 1 onnext 1l inorder verify observer never onnext anylong verify observer never oncomplete verify observer never onerror any throwable class scheduler advancetimeto 3400l timeunit milliseconds inorder verify observer never onnext anylong verify observer never oncomplete verify observer never onerror any throwable class scheduler advancetimeto 3500l timeunit milliseconds inorder verify observer times 1 onnext 2l verify observer times 1 oncomplete verify observer never onerror any throwable class 
int n 3 publishsubject integer source publishsubject create final list publishsubject integer subjects new arraylist for int i 0 i n i subjects add publishsubject integer create observable integer result source delay new function integer observable integer override public observable integer apply integer t1 return subjects get t1 observer object o testhelper mockobserver inorder inorder inorder o result subscribe o for int i 0 i n i source onnext i source oncomplete inorder verify o never onnext anyint inorder verify o never oncomplete for int i n 1 i 0 i subjects get i oncomplete inorder verify o onnext i inorder verify o oncomplete verify o never onerror any throwable class 
observable integer source observable range 1 5 observable integer delayed source delay 500l timeunit milliseconds scheduler delayed delayed dooneach new consumer notification integer override public void accept notification integer t1 system out println t1 testobserver integer observer new testobserver delayed subscribe observer scheduler advancetimeby 500l timeunit milliseconds observer assertvalues 1 2 3 4 5 
testobserver integer to new testobserver observable range 1 flowable buffersize 2 delay 100 timeunit milliseconds observeon schedulers computation map new function integer integer int c override public integer apply integer t if c 0 try thread sleep 500 catch interruptedexception e return t subscribe to to awaitdone 5 timeunit seconds to assertnoerrors assertequals flowable buffersize 2 to values size 
testobserver integer to new testobserver observable range 1 flowable buffersize 2 delaysubscription 100 timeunit milliseconds delay 100 timeunit milliseconds observeon schedulers computation map new function integer integer int c override public integer apply integer t if c 0 try thread sleep 500 catch interruptedexception e return t subscribe to to awaitdone 5 timeunit seconds to assertnoerrors assertequals flowable buffersize 2 to values size 
testobserver integer to new testobserver observable range 1 flowable buffersize 2 delay new function integer observable long override public observable long apply integer i return observable timer 100 timeunit milliseconds observeon schedulers computation map new function integer integer int c override public integer apply integer t if c 0 try thread sleep 500 catch interruptedexception e return t subscribe to to awaitdone 5 timeunit seconds to assertnoerrors assertequals flowable buffersize 2 to values size 
testobserver integer to new testobserver observable range 1 flowable buffersize 2 delay observable timer 500 timeunit milliseconds new function integer observable long override public observable long apply integer i return observable timer 100 timeunit milliseconds observeon schedulers computation map new function integer integer int c override public integer apply integer t if c 0 try thread sleep 500 catch interruptedexception e return t subscribe to to awaitdone 5 timeunit seconds to assertnoerrors assertequals flowable buffersize 2 to values size 
testscheduler test new testscheduler publishsubject integer ps publishsubject create testobserver integer to new testobserver ps delay 1 timeunit seconds test subscribe to ps onnext 1 test advancetimeby 500 timeunit milliseconds ps onerror new testexception test advancetimeby 1 timeunit seconds to assertnovalues to asserterror testexception class to assertnotcomplete 
final publishsubject integer ps publishsubject create observable integer source observable range 1 5 testobserver integer to new testobserver source delaysubscription ps subscribe to to assertnovalues to assertnoerrors to assertnotcomplete ps onnext 1 to assertvalues 1 2 3 4 5 to assertcomplete to assertnoerrors 
final publishsubject integer ps publishsubject create observable integer source observable range 1 5 testobserver integer to new testobserver source delaysubscription ps subscribe to to assertnovalues to assertnoerrors to assertnotcomplete ps oncomplete to assertvalues 1 2 3 4 5 to assertcomplete to assertnoerrors 
final publishsubject integer ps publishsubject create observable integer source observable range 1 5 testobserver integer to new testobserver source delaysubscription ps subscribe to to assertnovalues to assertnoerrors to assertnotcomplete ps onerror new testexception to assertnovalues to assertnotcomplete to asserterror testexception class 
observable just 1 concatwith observable integer error new testexception delay 100 timeunit milliseconds true test awaitdone 5 timeunit seconds assertfailure testexception class 1 
final countdownlatch latch new countdownlatch 1 final atomicreference thread thread new atomicreference observable string error new exception delay 0 timeunit milliseconds schedulers newthread doonerror new consumer throwable override public void accept throwable throwable throws exception thread set thread currentthread latch countdown onerrorresumewith observable string empty subscribe latch await assertnotequals thread currentthread thread get 
testhelper checkdisposed publishsubject create delay 1 timeunit seconds testhelper checkdisposed publishsubject create delay functions justfunction observable never 
testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return o delay 1 timeunit seconds testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return o delay functions justfunction observable never 
testscheduler scheduler new testscheduler observable empty delay 1 timeunit milliseconds scheduler subscribe new disposableobserver object override public void onnext object value override public void onerror throwable e override public void oncomplete throw new testexception try scheduler advancetimeby 1 timeunit seconds fail should have thrown catch testexception ex 
testscheduler scheduler new testscheduler observable error new testexception delay 1 timeunit milliseconds scheduler subscribe new disposableobserver object override public void onnext object value override public void onerror throwable e throw new testexception override public void oncomplete try scheduler advancetimeby 1 timeunit seconds fail should have thrown catch testexception ex 
observable just 1 delay new function integer observable object override public observable object apply integer t throws exception return null to testhelper integer testconsumer nullpointerexception class the itemdelay returned a null observablesource 
observable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just v test assertresult 1 2 3 4 5 6 7 8 9 10 
observable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe empty test assertresult 
observable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just v true test assertresult 1 2 3 4 5 6 7 8 9 10 
testobserverex integer to observable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just v subscribeon schedulers computation to testhelper integer testconsumer awaitdone 5 timeunit seconds assertsubscribed assertnoerrors assertcomplete testhelper assertvalueset to 1 2 3 4 5 6 7 8 9 10 
publishsubject integer ps publishsubject create testobserver integer to ps flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception throw new testexception test asserttrue ps hasobservers ps onnext 1 to assertfailure testexception class assertfalse ps hasobservers 
publishsubject integer ps publishsubject create testobserver integer to ps flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return null test asserttrue ps hasobservers ps onnext 1 to assertfailure nullpointerexception class assertfalse ps hasobservers 
testobserverex integer to observable range 1 10 concatwith observable integer error new testexception flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe error new testexception true to testhelper integer testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist to errors get 0 for int i 0 i 11 i testhelper asserterror errors i testexception class 
testobserverex integer to observable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just v subscribeon schedulers computation take 2 to testhelper integer testconsumer awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 2 assertnoerrors assertcomplete testhelper assertvalueset to 1 2 3 4 5 6 7 8 9 10 
observable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just v take 2 test assertresult 1 2 
observable fromarray new string 1 a 2 flatmapmaybe new function string maybesource integer override public maybesource integer apply final string s throws return maybe fromcallable new callable integer override public integer call throws return integer valueof s test assertfailure class 1 
observable range 1 1000 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just 1 subscribeon schedulers computation take 500 to testhelper integer testconsumer awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 500 assertnoerrors assertcomplete 
observable range 1 1000 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe integer empty subscribeon schedulers computation take 500 test awaitdone 5 timeunit seconds assertresult 
final publishsubject integer ps publishsubject create testobserver integer to observable range 1 2 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception if v 2 return ps singleelement return maybe error new testexception true test ps onnext 1 ps oncomplete to assertfailure testexception class 1 
final publishsubject integer ps publishsubject create testobserver integer to observable range 1 2 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception if v 2 return ps singleelement return maybe error new testexception true test ps oncomplete to assertfailure testexception class 
testhelper checkdisposed publishsubject integer create flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe integer empty 
publishsubject integer ps publishsubject create testobserver integer to observable just 1 flatmapmaybe functions justfunction ps singleelement test ps onnext 2 ps oncomplete to assertresult 2 
testhelper new function observable object observablesource integer override public observablesource integer apply observable object f throws exception return f flatmapmaybe functions justfunction maybe just 2 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onerror new testexception first observer onerror new testexception second flatmapmaybe functions justfunction maybe just 2 to testhelper integer testconsumer testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try observable just 1 flatmapmaybe functions justfunction new maybe integer override protected void subscribeactual maybeobserver super integer observer observer onsubscribe disposable empty observer onerror new testexception first observer onerror new testexception second to testhelper integer testconsumer testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
final publishsubject integer ps1 publishsubject create final publishsubject integer ps2 publishsubject create testobserver integer to new testobserver integer override public void onnext integer t super onnext t if t 1 ps2 onnext 2 ps2 oncomplete observable just ps1 ps2 flatmapmaybe new function publishsubject integer maybesource integer override public maybesource integer apply publishsubject integer v throws exception return v singleelement subscribe to ps1 onnext 1 ps1 oncomplete to assertresult 1 2 
final publishsubject integer ps1 publishsubject create final publishsubject integer ps2 publishsubject create final publishsubject integer ps3 publishsubject create testobserver integer to new testobserver integer override public void onnext integer t super onnext t if t 1 ps2 onnext 2 ps2 oncomplete observable just ps1 ps2 ps3 flatmapmaybe new function publishsubject integer maybesource integer override public maybesource integer apply publishsubject integer v throws exception return v singleelement subscribe to ps1 onnext 1 ps1 oncomplete ps3 oncomplete to assertresult 1 2 
final testobserver object to new testobserver observable just 1 flatmapmaybe new function integer maybesource object override public maybesource object apply integer v throws exception return new maybe object override protected void subscribeactual maybeobserver super object observer observer onsubscribe disposable empty assertfalse disposable observer isdisposed to dispose asserttrue disposable observer isdisposed subscribe to to assertempty 
testhelper new observableconverter integer observable integer override public observable integer apply observable integer upstream return upstream flatmapmaybe new function integer maybe integer override public maybe integer apply integer v throws throwable return maybe just v hide 
testhelper new observableconverter integer observable integer override public observable integer apply observable integer upstream return upstream flatmapmaybe new function integer maybe integer override public maybe integer apply integer v throws throwable return maybe just v hide true 
for int i 0 i testhelper race default loops i publishsubject integer ps1 publishsubject create testobserver integer to new testobserver countdownlatch cdl new countdownlatch 1 ps1 flatmapmaybe v testhelper raceother to dispose cdl return maybe just 1 subscribe to ps1 onnext 1 cdl await 
for int i 0 i testhelper race long loops i maybesubject integer ms1 maybesubject create maybesubject integer ms2 maybesubject create testobserver integer to observable just 1 2 flatmapmaybe v v 1 ms1 ms2 test testhelper race ms1 oncomplete ms2 onsuccess 1 to assertresult 1 
for int i 0 i testhelper race long loops i maybesubject integer ms1 maybesubject create maybesubject integer ms2 maybesubject create testobserver integer to observable just 1 2 flatmapmaybe v v 1 ms1 ms2 test testhelper race ms2 onsuccess 1 ms1 oncomplete to assertresult 1 
observer object o testhelper mockobserver final list integer list arrays aslist 1 2 3 function integer list integer func new function integer list integer override public list integer apply integer t1 return list bifunction integer integer integer resfunc new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 t2 list integer source arrays aslist 16 32 64 observable fromiterable source flatmapiterable func resfunc subscribe o for integer s source for integer v list verify o onnext s v verify o oncomplete verify o never onerror any throwable class 
observer object o testhelper mockobserver function integer list integer func new function integer list integer override public list integer apply integer t1 throw new testexception bifunction integer integer integer resfunc new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 t2 list integer source arrays aslist 16 32 64 observable fromiterable source flatmapiterable func resfunc subscribe o verify o never oncomplete verify o never onnext any verify o onerror any testexception class 
observer object o testhelper mockobserver final list integer list arrays aslist 1 2 3 function integer list integer func new function integer list integer override public list integer apply integer t1 return list bifunction integer integer integer resfunc new bifunction integer integer integer override public integer apply integer t1 integer t2 throw new testexception list integer source arrays aslist 16 32 64 observable fromiterable source flatmapiterable func resfunc subscribe o verify o never oncomplete verify o never onnext any verify o onerror any testexception class 
observer object o testhelper mockobserver function integer observable integer func new function integer observable integer override public observable integer apply integer t1 return observable error new testexception bifunction integer integer integer resfunc new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 t2 list integer source arrays aslist 16 32 64 observable fromiterable source flatmap func resfunc subscribe o verify o never oncomplete verify o never onnext any verify o onerror any testexception class 
observable integer onnext observable fromiterable arrays aslist 1 2 3 observable integer oncomplete observable fromiterable arrays aslist 4 observable integer onerror observable fromiterable arrays aslist 5 observable integer source observable fromiterable arrays aslist 10 20 30 observer object o testhelper mockobserver source flatmap just onnext just onerror just0 oncomplete subscribe o verify o times 3 onnext 1 verify o times 3 onnext 2 verify o times 3 onnext 3 verify o onnext 4 verify o oncomplete verify o never onnext 5 verify o never onerror any throwable class 
observable integer onnext observable fromiterable arrays aslist 1 2 3 observable integer oncomplete observable fromiterable arrays aslist 4 observable integer onerror observable fromiterable arrays aslist 5 observable integer source observable concat observable fromiterable arrays aslist 10 20 30 observable integer error new runtimeexception forced failure observer object o testhelper mockobserver source flatmap just onnext just onerror just0 oncomplete subscribe o verify o times 3 onnext 1 verify o times 3 onnext 2 verify o times 3 onnext 3 verify o onnext 5 verify o oncomplete verify o never onnext 4 verify o never onerror any throwable class 
observable integer oncomplete observable fromiterable arrays aslist 4 observable integer onerror observable fromiterable arrays aslist 5 observable integer source observable fromiterable arrays aslist 10 20 30 observer object o testhelper mockobserver source flatmap functhrow 1 onerror just onerror just0 oncomplete subscribe o verify o onerror any testexception class verify o never onnext any verify o never oncomplete 
observable integer onnext observable fromiterable arrays aslist 1 2 3 observable integer oncomplete observable fromiterable arrays aslist 4 observable integer onerror observable fromiterable arrays aslist 5 observable integer source observable error new testexception observer object o testhelper mockobserver source flatmap just onnext functhrow throwable null onerror just0 oncomplete subscribe o verify o onerror any compositeexception class verify o never onnext any verify o never oncomplete 
observable integer onnext observable fromiterable arrays aslist 1 2 3 observable integer oncomplete observable fromiterable arrays aslist 4 observable integer onerror observable fromiterable arrays aslist 5 observable integer source observable fromiterable arrays integer aslist observer object o testhelper mockobserver source flatmap just onnext just onerror functhrow0 oncomplete subscribe o verify o onerror any testexception class verify o never onnext any verify o never oncomplete 
observable integer onnext observable error new testexception observable integer oncomplete observable fromiterable arrays aslist 4 observable integer onerror observable fromiterable arrays aslist 5 observable integer source observable fromiterable arrays aslist 10 20 30 observer object o testhelper mockobserver source flatmap just onnext just onerror functhrow0 oncomplete subscribe o verify o onerror any testexception class verify o never onnext any verify o never oncomplete 
final int m 4 final atomicinteger subscriptioncount new atomicinteger observable integer source observable range 1 10 flatmap new function integer observable integer override public observable integer apply integer t1 return composer observable range t1 10 2 subscriptioncount m subscribeon schedulers computation m testobserver integer to new testobserver source subscribe to to awaitdone 5 timeunit seconds to assertnoerrors set integer expected new hashset arrays aslist 10 11 20 21 30 31 40 41 50 51 60 61 70 71 80 81 90 91 100 101 assert assertequals expected size to values size assert asserttrue expected containsall to values 
final int m 4 final atomicinteger subscriptioncount new atomicinteger observable integer source observable range 1 10 flatmap new function integer observable integer override public observable integer apply integer t1 return composer observable range t1 10 2 subscriptioncount m subscribeon schedulers computation new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 1000 t2 m testobserver integer to new testobserver source subscribe to to awaitdone 5 timeunit seconds to assertnoerrors set integer expected new hashset arrays aslist 1010 1011 2020 2021 3030 3031 4040 4041 5050 5051 6060 6061 7070 7071 8080 8081 9090 9091 assert assertequals expected size to values size system out println to values assert asserttrue expected containsall to values 
for int i 0 i 1000 i if i 100 0 system out println i 
final int m 2 final atomicinteger subscriptioncount new atomicinteger observable integer onnext composer observable fromiterable arrays aslist 1 2 3 observeon schedulers computation subscriptioncount m subscribeon schedulers computation observable integer oncomplete composer observable fromiterable arrays aslist 4 subscriptioncount m subscribeon schedulers computation observable integer onerror observable fromiterable arrays aslist 5 observable integer source observable fromiterable arrays aslist 10 20 30 observer object o testhelper mockobserver testobserverex object to new testobserverex o function throwable observable integer just just onerror source flatmap just onnext just just0 oncomplete m subscribe to to awaitdone 1 timeunit seconds to assertnoerrors to assertterminated verify o times 3 onnext 1 verify o times 3 onnext 2 verify o times 3 onnext 3 verify o onnext 4 verify o oncomplete verify o never onnext 5 verify o never onerror any throwable class 
for int i 0 i 2000 i if i 10 0 system out println i testobserverex integer to new testobserverex observable range 0 1000 flatmap new function integer observable integer final random rnd new random override public observable integer apply integer t observable integer r observable just t if rnd nextboolean r r hide return r observeon schedulers computation subscribe to to awaitdone 2500 timeunit milliseconds if to completions 0 system out println to values size to assertterminated to assertnoerrors list integer list to values if list size 1000 set integer set new hashset list for int j 0 j 1000 j if set contains j system out println j missing assertequals 1000 list size 
for int i 0 i 1000 i testobserver integer to new testobserver observable range 1 1000 flatmap new function integer observable integer override public observable integer apply integer t return observable just 1 subscribeon schedulers computation subscribe to to awaitdone 5 timeunit seconds to assertnoerrors to assertcomplete to assertvaluecount 1000 
for final int n new int 1 1000 testobserver integer to new testobserver observable just 1 2 flatmap new function integer observable integer override public observable integer apply integer t return observable range 1 n subscribe to system out println flatmaptwonestedsync n to assertnoerrors to assertcomplete to assertvaluecount n 2 
observable just 1 flatmap new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable just v 10 new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b true test assertresult 11 
observable just 1 flatmap new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable just v 10 concatwith observable integer error new testexception new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b true test assertfailure testexception class 11 
observable just 1 2 flatmap new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable just v 10 new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b true 1 test assertresult 11 22 
assertsame observable empty observable empty flatmap new function object observablesource object override public observablesource object apply object v throws exception return observable just v 
observable merge observable just observable just 1 test assertresult 1 
observable merge observable just observable just 1 hide test assertresult 1 
observable merge observable just observable empty hide test assertresult 
observable merge observable just observable fromcallable new callable object override public object call throws exception throw new testexception hide test assertfailure testexception class 
final publishsubject observable integer ps publishsubject create testobserver integer to new testobserver integer override public void onnext integer t super onnext t if t 1 ps onnext observable just 2 observable merge ps subscribe to ps onnext observable just 1 ps oncomplete to assertresult 1 2 
final publishsubject observable integer ps publishsubject create testobserver integer to new testobserver integer override public void onnext integer t super onnext t if t 1 ps onnext observable just 2 observable merge ps 2 subscribe to ps onnext observable just 1 ps oncomplete to assertresult 1 2 
for int i 0 i testhelper race default loops i final publishsubject integer ps publishsubject create final testobserver integer to observable merge observable just ps test runnable r1 new runnable override public void run ps oncomplete runnable r2 new runnable override public void run to dispose testhelper race r1 r2 
observable just 1 hide flatmap new function integer observablesource object override public observablesource object apply integer v throws exception return observable range 1 2 map new function integer object override public object apply integer w throws exception throw new testexception test assertfailure testexception class 
testobserverex integer to observable range 1 2 hide flatmap new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable range 1 2 map new function integer integer override public integer apply integer w throws exception throw new testexception true to testhelper integer testconsumer assertfailure compositeexception class list throwable errors testhelper errorlist to testhelper asserterror errors 0 testexception class testhelper asserterror errors 1 testexception class 
for int i 0 i 500 i testobserver object to observable merge observable just 1 observeon schedulers single map new function integer object override public object apply integer v throws exception return thread currentthread getname substring 0 4 observable just 1 observeon schedulers computation map new function integer object override public object apply integer v throws exception return thread currentthread getname substring 0 4 test awaitdone 5 timeunit seconds assertvaluecount 2 list object list to values asserttrue list tostring list contains rxsi asserttrue list tostring list contains rxco 
for int i 0 i testhelper race default loops i list throwable errors testhelper trackpluginerrors try final publishsubject observable integer ps publishsubject create final testobserver integer to ps flatmap functions observable integer identity test runnable r1 new runnable override public void run to dispose runnable r2 new runnable override public void run ps oncomplete testhelper race r1 r2 asserttrue errors tostring errors isempty finally rxjavaplugins reset 
for int i 0 i testhelper race default loops i for int j 1 j 50 j 5 list throwable errors testhelper trackpluginerrors try final publishsubject observable integer ps publishsubject create final testobserver integer to ps flatmap functions observable integer identity test final publishsubject integer just publishsubject create final publishsubject integer just2 publishsubject create ps onnext just ps onnext just2 runnable r1 new runnable override public void run just2 onnext 1 to dispose runnable r2 new runnable override public void run just onnext 1 testhelper race r1 r2 asserttrue errors tostring errors isempty finally rxjavaplugins reset 
observable just 1 flatmapiterable new function integer iterable object override public iterable object apply integer v throws exception return null new bifunction integer object object override public object apply integer v object w throws exception return v to testhelper object testconsumer nullpointerexception class the mapper returned a null iterable 
observable just 1 flatmap new function integer observable object override public observable object apply integer v throws exception return null new bifunction integer object object override public object apply integer v object w throws exception return v to testhelper object testconsumer nullpointerexception class the mapper returned a null observablesource 
final atomicinteger counter new atomicinteger observable range 1 5 doonnext new consumer integer override public void accept integer v throws exception counter getandincrement flatmap new function integer observable integer override public observable integer apply integer v throws exception return observable integer fromiterable new iterable integer override public iterator integer iterator return new iterator integer override public boolean hasnext return true override public integer next throw new testexception override public void remove throw new test assertfailure testexception class assertequals 1 counter get 
list throwable errors testhelper trackpluginerrors try final publishsubject integer ps publishsubject create testobserver integer to ps flatmap new function integer observable integer override public observable integer apply integer v throws exception return observable just v 1 1 subscribewith new testobserver integer override public void onnext integer t super onnext t if t 1 for int i 1 i 10 i ps onnext i ps oncomplete ps onnext 0 if errors isempty to onerror new compositeexception errors to assertresult 1 2 3 4 5 6 7 8 9 10 finally rxjavaplugins reset 
final publishsubject integer ps publishsubject create testobserver integer to ps flatmap new function integer observable integer override public observable integer apply integer v throws exception return observable just v 1 hide 1 subscribewith new testobserver integer override public void onnext integer t super onnext t if t 1 for int i 1 i 10 i ps onnext i ps oncomplete ps onnext 0 to assertresult 1 2 3 4 5 6 7 8 9 10 
final unicastsubject integer fusedsource unicastsubject create testobserver integer to new testobserver observableflatmap mergeobserver integer integer merger new observableflatmap mergeobserver to new function integer observable integer override public observable integer apply integer t throws exception if t 0 return fusedsource map new function integer integer override public integer apply integer v throws exception throw new testexception compose testhelper integer return observable range 10 t 5 true integer max value 128 merger onsubscribe disposable empty merger getandincrement merger onnext 0 merger onnext 1 merger onnext 2 asserttrue fusedsource hasobservers fusedsource onnext 1 merger drainloop to assertvaluesonly 10 11 12 13 14 20 21 22 23 24 
final publishsubject integer ps1 publishsubject create final publishsubject integer ps2 publishsubject create publishsubject integer ps3 publishsubject create publishsubject integer ps4 publishsubject create testobserver integer to observable just ps1 ps2 ps3 ps4 flatmap new function publishsubject integer observablesource integer override public observablesource integer apply publishsubject integer v throws exception return v 2 doonnext new consumer integer override public void accept integer v throws exception if v 1 ps1 oncomplete ps2 oncomplete test ps1 onnext 1 assertfalse ps1 hasobservers assertfalse ps2 hasobservers asserttrue ps3 hasobservers asserttrue ps4 hasobservers to dispose assertfalse ps3 hasobservers assertfalse ps4 hasobservers 
testhelper new observableconverter integer observable integer override public observable integer apply observable integer upstream return upstream flatmap new function integer observable integer override public observable integer apply integer v throws throwable return observable just v hide 
testhelper new observableconverter integer observable integer override public observable integer apply observable integer upstream return upstream flatmap new function integer observable integer override public observable integer apply integer v throws throwable return observable just v hide true 
publishsubject integer ps1 publishsubject create publishsubject integer ps2 publishsubject create ps1 flatmap v ps2 test ps1 onnext 1 asserttrue no subscribers ps2 hasobservers ps1 onerror new testexception assertfalse has subscribers ps2 hasobservers 
publishsubject integer ps1 publishsubject create publishsubject integer ps2 publishsubject create ps1 flatmap v ps2 test ps1 onnext 1 asserttrue no subscribers ps2 hasobservers ps2 onerror new testexception assertfalse has subscribers ps1 hasobservers 
testhelper witherrortracking errors new observable integer override protected void subscribeactual nonnull observer super nonnull integer observer observer onsubscribe disposable empty observer onnext 1 observer onnext 2 observer oncomplete observer onerror new ioexception flatmap v throw new testexception test assertfailure testexception class testhelper assertundeliverable errors 0 ioexception class 
publishsubject integer ps publishsubject create testobserver integer to new testobserver ps flatmap v observable just v doonnext v if v 1 ps onnext 2 ps onnext 3 take 2 subscribe to ps onnext 1 to assertresult 1 2 
publishsubject integer ps publishsubject create testobserver integer to new testobserver countdownlatch cdl new countdownlatch 1 ps flatmap v observable just v doonnext v if v 1 ps onnext 2 testhelper raceother ps oncomplete cdl subscribe to ps onnext 1 cdl await to assertresult 1 2 
unicastsubject integer us unicastsubject create publishsubject integer ps publishsubject create testobserver integer to observable just ps us map v if v 10 throw new testexception return v compose testhelper flatmap v v true doonnext v if v 1 ps onnext 2 us onnext 10 test ps onnext 1 ps oncomplete to assertfailure testexception class 1 2 
unicastsubject integer us unicastsubject create publishsubject integer ps publishsubject create testobserver integer to observable just us map v if v 10 throw new testexception return v compose testhelper ps flatmap v v true doonnext v if v 1 ps onnext 2 us onnext 10 test ps onnext 1 ps oncomplete to assertfailure testexception class 1 2 
for int i 0 i testhelper race default loops i observable range 0 20 flatmap integer if integer 5 0 return observable just integer return observable just integer observeon schedulers computation false 1 ignoreelements blockingawait 
observable just 1 throttlelatest 1 timeunit minutes test assertresult 1 
observable range 1 5 throttlelatest 1 timeunit minutes test assertresult 1 
observable range 1 5 throttlelatest 1 timeunit minutes true test assertresult 1 5 
observable error new testexception throttlelatest 1 timeunit minutes test assertfailure testexception class 
testhelper new function observable object observable object override public observable object apply observable object f throws exception return f throttlelatest 1 timeunit minutes 
testhelper checkdisposed observable never throttlelatest 1 timeunit minutes 
testscheduler sch new testscheduler publishsubject integer ps publishsubject create testobserver integer to ps throttlelatest 1 timeunit seconds sch test ps onnext 1 to assertvaluesonly 1 ps onnext 2 to assertvaluesonly 1 ps onnext 3 to assertvaluesonly 1 sch advancetimeby 1 timeunit seconds to assertvaluesonly 1 3 ps onnext 4 to assertvaluesonly 1 3 ps onnext 5 sch advancetimeby 1 timeunit seconds to assertvaluesonly 1 3 5 sch advancetimeby 1 timeunit seconds to assertvaluesonly 1 3 5 ps onnext 6 to assertvaluesonly 1 3 5 6 ps onnext 7 ps oncomplete to assertresult 1 3 5 6 sch advancetimeby 1 timeunit seconds to assertresult 1 3 5 6 
testscheduler sch new testscheduler publishsubject integer ps publishsubject create testobserver integer to ps throttlelatest 1 timeunit seconds sch true test ps onnext 1 to assertvaluesonly 1 ps onnext 2 to assertvaluesonly 1 ps onnext 3 to assertvaluesonly 1 sch advancetimeby 1 timeunit seconds to assertvaluesonly 1 3 ps onnext 4 to assertvaluesonly 1 3 ps onnext 5 sch advancetimeby 1 timeunit seconds to assertvaluesonly 1 3 5 sch advancetimeby 1 timeunit seconds to assertvaluesonly 1 3 5 ps onnext 6 to assertvaluesonly 1 3 5 6 ps onnext 7 ps oncomplete to assertresult 1 3 5 6 7 sch advancetimeby 1 timeunit seconds to assertresult 1 3 5 6 7 
action oncancel mock action class observable range 1 5 doondispose oncancel throttlelatest 1 timeunit minutes take 1 test assertresult 1 verify oncancel run 
testscheduler sch new testscheduler final publishsubject integer ps publishsubject create testobserver integer to new testobserver integer override public void onnext integer t super onnext t if t 1 ps onnext 2 if t 2 ps oncomplete ps throttlelatest 1 timeunit seconds sch subscribe to ps onnext 1 sch advancetimeby 1 timeunit seconds to assertresult 1 2 
observable fromsingle single just 1 hide test assertresult 1 
observable fromsingle single error new testexception hide test assertfailure testexception class 
singlesubject integer ms singlesubject create testobserver integer to observable fromsingle ms test to assertempty asserttrue ms hasobservers to dispose assertfalse ms hasobservers 
testobserverex integer to new testobserverex to setinitialfusionmode queuefuseable async observable fromsingle single just 1 subscribe to to assertfuseable assertfusionmode queuefuseable async assertresult 1 
testobserverex integer to new testobserverex to setinitialfusionmode queuefuseable sync observable fromsingle single just 1 subscribe to to assertfuseable assertfusionmode queuefuseable none assertresult 1 
observable range 1 10 onerrorcomplete test assertresult 1 2 3 4 5 6 7 8 9 10 
observable empty onerrorcomplete test assertresult 
testhelper witherrortracking errors observable error new testexception onerrorcomplete test assertresult asserttrue errors errors isempty 
testhelper witherrortracking errors observable error new testexception onerrorcomplete error error instanceof testexception test assertresult asserttrue errors errors isempty 
testhelper witherrortracking errors observable error new ioexception onerrorcomplete error error instanceof testexception test assertfailure ioexception class asserttrue errors errors isempty 
testhelper witherrortracking errors testobserverex object to observable error new ioexception onerrorcomplete error throw new testexception subscribewith new testobserverex assertfailure compositeexception class testhelper asserterror to 0 ioexception class testhelper asserterror to 1 testexception class asserttrue errors errors isempty 
testhelper witherrortracking errors observable range 1 5 map v 4 3 v onerrorcomplete test assertresult 2 4 asserttrue errors errors isempty 
publishsubject integer ps publishsubject create testobserver integer to ps onerrorcomplete test asserttrue no subscribers ps hasobservers to dispose assertfalse still subscribers ps hasobservers 
testhelper f f onerrorcomplete 
testhelper checkdisposed publishsubject create onerrorcomplete 
observer testhelper mockobserver observer2 testhelper mockobserver scheduler new testscheduler 
observable timer 100 timeunit milliseconds scheduler subscribe observer scheduler advancetimeby 100 timeunit milliseconds verify observer times 1 onnext 0l verify observer times 1 oncomplete verify observer never onerror any throwable class 
testobserver long to new testobserver observable interval 100 100 timeunit milliseconds scheduler subscribe to scheduler advancetimeby 100 timeunit milliseconds to assertvalue 0l scheduler advancetimeby 100 timeunit milliseconds to assertvalues 0l 1l scheduler advancetimeby 100 timeunit milliseconds to assertvalues 0l 1l 2l scheduler advancetimeby 100 timeunit milliseconds to assertvalues 0l 1l 2l 3l to dispose scheduler advancetimeby 100 timeunit milliseconds to assertvalues 0l 1l 2l 3l to assertnotcomplete to assertnoerrors 
observable long w observable interval 1 timeunit seconds scheduler testobserver long to new testobserver w subscribe to to assertnovalues to assertnoerrors to assertnotcomplete scheduler advancetimeto 2 timeunit seconds to assertvalues 0l 1l to assertnoerrors to assertnotcomplete to dispose scheduler advancetimeto 4 timeunit seconds to assertvalues 0l 1l to assertnoerrors to assertnotcomplete 
observable long w observable interval 1 timeunit seconds scheduler testobserver long to1 new testobserver testobserver long to2 new testobserver w subscribe to1 w subscribe to2 to1 assertnovalues to2 assertnovalues scheduler advancetimeto 2 timeunit seconds to1 assertvalues 0l 1l to1 assertnoerrors to1 assertnotcomplete to2 assertvalues 0l 1l to2 assertnoerrors to2 assertnotcomplete to1 dispose to2 dispose scheduler advancetimeto 4 timeunit seconds to1 assertvalues 0l 1l to1 assertnoerrors to1 assertnotcomplete to2 assertvalues 0l 1l to2 assertnoerrors to2 assertnotcomplete 
observable long w observable interval 1 timeunit seconds scheduler testobserver long to1 new testobserver w subscribe to1 to1 assertnoerrors scheduler advancetimeto 2 timeunit seconds testobserver long to2 new testobserver w subscribe to2 to1 assertvalues 0l 1l to1 assertnoerrors to1 assertnotcomplete to2 assertnovalues scheduler advancetimeto 4 timeunit seconds to1 assertvalues 0l 1l 2l 3l to2 assertvalues 0l 1l to1 dispose to2 dispose to1 assertvalues 0l 1l 2l 3l to1 assertnoerrors to1 assertnotcomplete to2 assertvalues 0l 1l to2 assertnoerrors to2 assertnotcomplete 
long w observable interval 1 timeunit seconds scheduler publish testobserver long to1 new testobserver w subscribe to1 w connect to1 assertnovalues scheduler advancetimeto 2 timeunit seconds testobserver long to2 new testobserver w subscribe to2 to1 assertvalues 0l 1l to1 assertnoerrors to1 assertnotcomplete to2 assertnovalues scheduler advancetimeto 4 timeunit seconds to1 assertvalues 0l 1l 2l 3l to2 assertvalues 2l 3l to1 dispose to2 dispose to1 assertvalues 0l 1l 2l 3l to1 assertnoerrors to1 assertnotcomplete to2 assertvalues 2l 3l to2 assertnoerrors to2 assertnotcomplete 
observable long source observable timer 100 timeunit milliseconds scheduler source safesubscribe new defaultobserver long override public void onnext long t throw new testexception override public void onerror throwable e observer onerror e override public void oncomplete observer oncomplete scheduler advancetimeby 1 timeunit seconds verify observer onerror any testexception class verify observer never onnext anylong verify observer never oncomplete 
observable long source observable interval 100 100 timeunit milliseconds scheduler inorder inorder inorder observer source safesubscribe new defaultobserver long override public void onnext long t if t 0 throw new testexception observer onnext t override public void onerror throwable e observer onerror e override public void oncomplete observer oncomplete scheduler advancetimeby 1 timeunit seconds inorder verify observer onnext 0l inorder verify observer onerror any testexception class inorder verify observer never oncomplete 
testhelper checkdisposed observable timer 1 timeunit days 
list throwable errors testhelper trackpluginerrors try for int i 0 i 1000 i observable timer 0 timeunit milliseconds blockingfirst asserttrue errors tostring errors isempty finally rxjavaplugins reset 
exec executors try for scheduler s new scheduler schedulers single schedulers computation schedulers newthread schedulers io schedulers from exec true final atomicboolean interrupted new atomicboolean testobserver long to observable timer 1 timeunit milliseconds s map new function long long override public long apply long v throws exception try thread sleep 3000 catch interruptedexception ex interrupted set true return v test thread sleep 500 to dispose thread sleep 500 asserttrue s getclass getsimplename interrupted get finally exec shutdown 
testobserver long to new testobserver to onsubscribe disposable empty timerobserver tm new timerobserver to tm dispose tm run to assertempty 
observable string w observable empty observable string take w takelast 2 observer string observer testhelper mockobserver take subscribe observer verify observer never onnext any string class verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable string w observable just one two three observable string take w takelast 2 observer string observer testhelper mockobserver inorder inorder inorder observer take subscribe observer inorder verify observer times 1 onnext two inorder verify observer times 1 onnext three verify observer never onnext one verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable string w observable just one observable string take w takelast 10 observer string observer testhelper mockobserver take subscribe observer verify observer times 1 onnext one verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable string w observable just one observable string take w takelast 0 observer string observer testhelper mockobserver take subscribe observer verify observer never onnext one verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable just one takelast 1 
testobserver integer to new testobserver observable range 1 takelast 1 observeon schedulers newthread map newslowprocessor subscribe to to awaitdone 5 timeunit seconds to assertnoerrors to assertvalue 
testobserver integer to new testobserver observable range 1 takelast flowable buffersize 4 observeon schedulers newthread map newslowprocessor subscribe to to awaitdone 5 timeunit seconds to assertnoerrors assertequals flowable buffersize 4 to values size 
return new function integer integer int c override public integer apply integer i if c 100 try thread sleep 1 catch interruptedexception e return i 
assertnull observable empty count filter new predicate long override public boolean test long v return false blockingget 
final atomicinteger count new atomicinteger observable range 0 takelast subscribe new defaultobserver integer override public void onstart override public void oncomplete override public void onerror throwable e override public void onnext integer integer count incrementandget cancel assertequals 1 count get 
testhelper checkdisposed observable range 1 10 takelast 5 
testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return o takelast 5 
observable error new testexception takelast 5 test assertfailure testexception class 
observable range 1 10 takelast 5 take 2 test assertresult 6 7 
observer string consumer testhelper mockobserver observable string producer observable unsafecreate new observablesource string private atomicinteger count new atomicinteger 4 long last system currenttimemillis override public void subscribe observer super string t1 t1 onsubscribe disposable empty system out println count get string valueof last system currenttimemillis last system currenttimemillis if count getanddecrement 0 t1 onnext hello t1 oncomplete else t1 onerror new runtimeexception testobserver string to new testobserver consumer producer retrywhen new function observable extends throwable observable object override public observable object apply observable extends throwable attempts return attempts map new function throwable tuple override public tuple apply throwable n return new tuple 1l n scan new bifunction tuple tuple tuple override public tuple apply tuple t tuple n return new tuple t count n count n n flatmap new function tuple observable long override public observable long apply tuple t system out println retry t count return t count 20 observable long error t n observable timer t count 1l timeunit milliseconds cast object class subscribe to to awaitdone 5 timeunit seconds to assertnoerrors inorder inorder inorder consumer inorder verify consumer never onerror any throwable class inorder verify consumer times 1 onnext hello inorder verify consumer times 1 oncomplete inorder 
t1 onsubscribe disposable empty system out println count get string valueof last system currenttimemillis last system currenttimemillis if count getanddecrement 0 t1 onnext hello t1 oncomplete else t1 onerror new runtimeexception 
observer string observer testhelper mockobserver int numretries 20 observable string origin observable unsafecreate new funcwitherrors numretries origin retry subscribe new testobserver observer inorder inorder inorder observer inorder verify observer times numretries 1 onnext beginningeverytime inorder verify observer never onerror any throwable class inorder verify observer times 1 onnext onsuccessonly inorder verify observer times 1 oncomplete inorder 
observer string observer testhelper mockobserver int numretries 2 observable string origin observable unsafecreate new funcwitherrors numretries testobserver string to new testobserver observer origin retrywhen new function observable extends throwable observable object override public observable object apply observable extends throwable t1 return t1 observeon schedulers computation map new function throwable object override public object apply throwable t1 return 1 startwithitem 1 doonerror new consumer throwable override public void accept throwable e e printstacktrace subscribe to to awaitdone 5 timeunit seconds inorder inorder inorder observer inorder verify observer times 1 numretries onnext beginningeverytime inorder verify observer never onerror any throwable class inorder verify observer times 1 onnext onsuccessonly inorder verify observer times 1 oncomplete inorder 
observer string observer testhelper mockobserver int numretries 2 observable string origin observable unsafecreate new funcwitherrors numretries origin retrywhen new function observable extends throwable observable object override public observable object apply observable extends throwable t1 return t1 map new function throwable integer override public integer apply throwable t1 return 0 startwithitem 0 cast object class subscribe observer inorder inorder inorder observer inorder verify observer times numretries 1 onnext beginningeverytime inorder verify observer never onerror any throwable class inorder verify observer times 1 onnext onsuccessonly inorder verify observer times 1 oncomplete inorder 
observer string observer testhelper mockobserver observable string origin observable unsafecreate new funcwitherrors 1 testobserver string to new testobserver observer origin retrywhen new function observable extends throwable observable override public observable apply observable extends throwable t1 return observable empty subscribe to inorder inorder inorder observer inorder verify observer onsubscribe disposable notnull inorder verify observer never onnext beginningeverytime inorder verify observer never onnext onsuccessonly inorder verify observer times 1 oncomplete inorder verify observer never onerror any exception class inorder 
observer string observer testhelper mockobserver observable string origin observable unsafecreate new funcwitherrors 2 origin retrywhen new function observable extends throwable observable override public observable apply observable extends throwable t1 return observable error new runtimeexception subscribe observer inorder inorder inorder observer inorder verify observer onsubscribe disposable notnull inorder verify observer never onnext beginningeverytime inorder verify observer never onnext onsuccessonly inorder verify observer never oncomplete inorder verify observer times 1 onerror any runtimeexception class inorder 
final atomicinteger inc new atomicinteger 0 observablesource integer onsubscribe new observablesource integer override public void subscribe observer super integer observer observer onsubscribe disposable empty final int emit inc incrementandget observer onnext emit observer oncomplete int first observable unsafecreate onsubscribe retrywhen new function observable extends throwable observable override public observable apply observable extends throwable attempt return attempt zipwith observable just 1 new bifunction throwable integer void override public void apply throwable o integer integer return null blockingfirst assertequals observer did not receive the expected output 1 first assertequals subscribe was not called once 1 inc get 
observer onsubscribe disposable empty final int emit inc incrementandget observer onnext emit observer oncomplete 
observer string observer testhelper mockobserver observable string origin observable unsafecreate new funcwitherrors 1 origin subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext beginningeverytime inorder verify observer times 1 onerror any runtimeexception class inorder verify observer never onnext onsuccessonly inorder verify observer never oncomplete 
int numretries 1 int numfailures 2 observer string observer testhelper mockobserver observable string origin observable unsafecreate new funcwitherrors numfailures origin retry numretries subscribe observer inorder inorder inorder observer inorder verify observer times 1 numretries onnext beginningeverytime inorder verify observer times 1 onerror any runtimeexception class inorder verify observer never onnext onsuccessonly inorder verify observer never oncomplete inorder 
int numfailures 1 observer string observer testhelper mockobserver observable string origin observable unsafecreate new funcwitherrors numfailures origin retry 3 subscribe observer inorder inorder inorder observer inorder verify observer times 1 numfailures onnext beginningeverytime inorder verify observer never onerror any throwable class inorder verify observer times 1 onnext onsuccessonly inorder verify observer times 1 oncomplete inorder 
int numfailures 20 observer string observer testhelper mockobserver observable string origin observable unsafecreate new funcwitherrors numfailures origin retry subscribe observer inorder inorder inorder observer inorder verify observer times 1 numfailures onnext beginningeverytime inorder verify observer never onerror any throwable class inorder verify observer times 1 onnext onsuccessonly inorder verify observer times 1 oncomplete inorder 
consumer integer record mock consumer class inorder inorder inorder record consumer integer throwexception mock consumer class dothrow new runtimeexception when throwexception accept mockito anyint publishsubject integer subject publishsubject create subject doonnext record doonnext throwexception retry subscribe inorder subject onnext 1 inorder verify record accept 1 subject onnext 2 inorder verify record accept 2 subject onnext 3 inorder verify record accept 3 inorder 
publishsubject integer subject publishsubject create final atomicinteger count new atomicinteger 0 disposable sub subject retry subscribe new consumer integer override public void accept integer n count incrementandget subject onnext 1 sub dispose subject onnext 2 assertequals 1 count get 
final atomicinteger subscount new atomicinteger 0 observablesource string onsubscribe new observablesource string override public void subscribe observer super string observer subscount incrementandget observer onsubscribe disposable fromrunnable new runnable override public void run subscount decrementandget observable string stream observable unsafecreate onsubscribe observable string streamwithretry stream retry disposable sub streamwithretry subscribe assertequals 1 subscount get sub dispose assertequals 0 subscount get streamwithretry subscribe assertequals 1 subscount get 
final atomicinteger subscount new atomicinteger 0 final testobserver string to new testobserver observablesource string onsubscribe new observablesource string override public void subscribe observer super string observer booleansubscription bs new booleansubscription if bs iscancelled subscount incrementandget observer onerror new runtimeexception failed bs cancel else observer onerror new runtimeexception observable unsafecreate onsubscribe retry 3 subscribe to assertequals 4 subscount get 
final atomicinteger subscount new atomicinteger 0 final testobserver string to new testobserver observablesource string onsubscribe new observablesource string override public void subscribe observer super string observer observer onsubscribe disposable empty subscount incrementandget observer onerror new runtimeexception failed observable unsafecreate onsubscribe retry 1 subscribe to assertequals 2 subscount get 
final atomicinteger subscount new atomicinteger 0 final testobserver string to new testobserver observablesource string onsubscribe new observablesource string override public void subscribe observer super string observer observer onsubscribe disposable empty subscount incrementandget observer onerror new runtimeexception failed observable unsafecreate onsubscribe retry 0 subscribe to assertequals 1 subscount get 
try latch await catch interruptedexception e fail test interrupted 
target oncomplete latch countdown 
target onerror t latch countdown 
observer long observer testhelper mockobserver slowobservable so new slowobservable 100 0 observable long o observable unsafecreate so retry 5 asyncobserver long async new asyncobserver observer o subscribe async async await inorder inorder inorder observer inorder verify observer times 1 onerror any throwable class inorder verify observer never oncomplete assertequals start 6 threads retry 5 then fail on 6 6 so efforts get assertequals only 1 active subscription 1 so maxactive get 
observer long observer testhelper mockobserver slowobservable so new slowobservable 100 10 testtimeoutwithretry observable long o observable unsafecreate so timeout 80 timeunit milliseconds retry 5 asyncobserver long async new asyncobserver observer o subscribe async async await inorder inorder inorder observer inorder verify observer times 1 onerror any throwable class inorder verify observer never oncomplete assertequals start 6 threads retry 5 then fail on 6 6 so efforts get 
final int num loops 1 for int j 0 j num loops j final int num retries flowable buffersize 2 for int i 0 i 400 i observer string observer testhelper mockobserver observable string origin observable unsafecreate new funcwitherrors num retries testobserver string to new testobserver observer origin retry observeon schedulers computation subscribe to to awaitdone 5 timeunit seconds inorder inorder inorder observer verify observer never onerror any throwable class inorder verify observer times num retries 1 onnext beginningeverytime inorder verify observer times 1 onnext onsuccessonly inorder verify observer times 1 oncomplete inorder 
final int num loops 1 final int num retries flowable buffersize 2 int ncpu runtime getruntime availableprocessors executorservice exec executors newfixedthreadpool math max ncpu 2 2 try for int r 0 r num loops r if r 10 0 system out println r final atomicinteger timeouts new atomicinteger final map integer list string data new concurrenthashmap int m 5000 final countdownlatch cdl new countdownlatch m for int i 0 i m i final int j i exec execute new runnable override public void run final atomicinteger nexts new atomicinteger try observable string origin observable unsafecreate new funcwitherrors num retries testobserverex string to new testobserverex origin retry observeon schedulers computation subscribe to to awaitdone 2500 timeunit milliseconds list string onnextevents new arraylist to values if onnextevents size num retries 2 for throwable t to errors onnextevents add t tostring for long err to completions err 0 err onnextevents add oncomplete data put j onnextevents catch throwable t timeouts incrementandget system out println j cdl getcount nexts get cdl countdown cdl await assertequals 0 timeouts get if data size 0 fail data content mismatch allsequencefrequency data finally exec shutdown 
stringbuilder b new stringbuilder for map entry integer list t e its entryset if b length 0 b append b append e getkey append b append sequencefrequency e getvalue b append return b 
stringbuilder sb new stringbuilder object prev null int cnt 0 for object curr it if sb length 0 if curr equals prev if cnt 1 sb append x append cnt cnt 1 sb append sb append curr else cnt else sb append curr cnt prev curr if cnt 1 sb append x append cnt return sb 
observer string observer testhelper mockobserver final int num msg 1034 final atomicinteger count new atomicinteger observable string origin observable range 0 num msg map new function integer string override public string apply integer t1 return msg count incrementandget origin retry groupby new function string string override public string apply string t1 return t1 flatmap new function groupedobservable string string observable string override public observable string apply groupedobservable string string t1 return t1 take 1 subscribe new testobserver observer inorder inorder inorder observer inorder verify observer times num msg onnext any java lang string class inorder verify observer never onerror any throwable class inorder verify observer times 1 oncomplete inorder 
observer string observer testhelper mockobserver final int num msg 1034 final atomicinteger count new atomicinteger observable string origin observable unsafecreate new observablesource string override public void subscribe observer super string o o onsubscribe disposable empty for int i 0 i num msg i o onnext msg count incrementandget o oncomplete origin retry groupby new function string string override public string apply string t1 return t1 flatmap new function groupedobservable string string observable string override public observable string apply groupedobservable string string t1 return t1 take 1 subscribe new testobserver observer inorder inorder inorder observer inorder verify observer times num msg onnext any java lang string class inorder verify observer never onerror any throwable class inorder verify observer times 1 oncomplete inorder 
observable just 1 concatwith observable integer error new testexception retry new predicate throwable override public boolean test throwable v throws exception return true take 5 test assertresult 1 1 1 1 1 
observable just 1 concatwith observable integer error new testexception retryuntil new booleansupplier override public boolean getasboolean throws exception return false take 5 test assertresult 1 1 1 1 1 
try observable just 1 retry 99 new predicate throwable override public boolean test throwable e throws exception return true fail should have thrown catch ex assertequals times 0 required but it was 99 ex getmessage 
final publishsubject object subject publishsubject create final disposable disposable observable error new runtimeexception leak retrywhen new function observable throwable observablesource object override public observablesource object apply observable throwable errors throws exception return errors switchmap new function throwable observablesource object override public observablesource object apply throwable ignore throws exception return subject subscribe asserttrue subject hasobservers disposable dispose assertfalse subject hasobservers 
final atomicinteger counter new atomicinteger final atomicinteger times new atomicinteger observable integer source observable defer new supplier observablesource integer override public observablesource integer get throws exception if times getandincrement 4 return observable error new testexception return observable just 1 doondispose new action override public void run throws exception counter getandincrement source retry 5 test assertresult 1 assertequals 0 counter get 
final atomicinteger counter new atomicinteger final atomicinteger times new atomicinteger observable integer source observable defer new supplier observablesource integer override public observablesource integer get throws exception if times getandincrement 4 return observable error new testexception return observable just 1 doondispose new action override public void run throws exception counter getandincrement source retry 5 functions alwaystrue test assertresult 1 assertequals 0 counter get 
final atomicinteger counter new atomicinteger final atomicinteger times new atomicinteger observable integer source observable defer new supplier observablesource integer override public observablesource integer get throws exception if times getandincrement 4 return observable error new testexception return observable just 1 doondispose new action override public void run throws exception counter getandincrement source retry new bipredicate integer throwable override public boolean test integer a throwable b throws exception return a 5 test assertresult 1 assertequals 0 counter get 
final atomicinteger counter new atomicinteger final atomicinteger times new atomicinteger observable integer source observable defer new supplier observablesource integer override public observablesource integer get throws exception if times getandincrement 4 return observable error new testexception return observable just 1 doondispose new action override public void run throws exception counter getandincrement source retryuntil new booleansupplier override public boolean getasboolean throws exception return false test assertresult 1 assertequals 0 counter get 
final atomicinteger counter new atomicinteger final atomicinteger times new atomicinteger observable integer source observable defer new supplier observablesource integer override public observablesource integer get throws exception if times get 4 return observable error new testexception return observable just 1 doondispose new action override public void run throws exception counter getandincrement source retrywhen new function observable throwable observablesource override public observablesource apply observable throwable e throws exception return e takewhile new predicate object override public boolean test object v throws exception return times getandincrement 4 test assertresult 1 assertequals 0 counter get 
final atomicinteger counter new atomicinteger final atomicinteger times new atomicinteger observable integer source observable integer error new testexception doondispose new action override public void run throws exception counter getandincrement source retrywhen new function observable throwable observablesource override public observablesource apply observable throwable e throws exception return e takewhile new predicate object override public boolean test object v throws exception return times getandincrement 4 test assertresult assertequals 0 counter get 
list throwable errors testhelper trackpluginerrors final testexception error new testexception try final publishsubject integer source publishsubject create final publishsubject integer signaller publishsubject create for int i 0 i testhelper race default loops i testobserver integer to source take 1 map new function integer integer override public integer apply integer v throws exception throw error retrywhen new function observable throwable observablesource integer override public observablesource integer apply observable throwable v throws exception return signaller test runnable r1 new runnable override public void run for int i 0 i testhelper race default loops i source onnext 1 runnable r2 new runnable override public void run for int i 0 i testhelper race default loops i signaller onnext 1 testhelper race r1 r2 to dispose if errors isempty for throwable e errors e printstacktrace fail errors finally rxjavaplugins reset 
publishsubject integer source publishsubject create publishsubject integer other publishsubject create observer integer o testhelper mockobserver inorder inorder inorder o observable integer result source withlatestfrom other combiner result subscribe o source onnext 1 inorder verify o never onnext anyint other onnext 1 inorder verify o never onnext anyint source onnext 2 inorder verify o onnext 2 8 1 other onnext 2 inorder verify o never onnext anyint other oncomplete inorder verify o never oncomplete source onnext 3 inorder verify o onnext 3 8 2 source oncomplete inorder verify o oncomplete verify o never onerror any throwable class 
publishsubject integer source publishsubject create publishsubject integer other publishsubject create observable integer result source withlatestfrom other combiner testobserverex integer to new testobserverex result subscribe to asserttrue source hasobservers asserttrue other hasobservers other onnext 1 source oncomplete to assertnoerrors to assertterminated to assertnovalues assertfalse source hasobservers assertfalse other hasobservers 
publishsubject integer source publishsubject create publishsubject integer other publishsubject create observable integer result source withlatestfrom other combiner testobserverex integer to new testobserverex result subscribe to asserttrue source hasobservers asserttrue other hasobservers source onnext 1 source oncomplete to assertnoerrors to assertterminated to assertnovalues assertfalse source hasobservers assertfalse other hasobservers 
publishsubject integer source publishsubject create publishsubject integer other publishsubject create observable integer result source withlatestfrom other combiner testobserver integer to new testobserver result subscribe to asserttrue source hasobservers asserttrue other hasobservers other onnext 1 source onnext 1 to dispose to assertvalue 1 8 1 to assertnoerrors to assertnotcomplete assertfalse source hasobservers assertfalse other hasobservers 
publishsubject integer source publishsubject create publishsubject integer other publishsubject create observable integer result source withlatestfrom other combiner testobserverex integer to new testobserverex result subscribe to asserttrue source hasobservers asserttrue other hasobservers other onnext 1 source onnext 1 source onerror new testexception to assertterminated to assertvalue 1 8 1 to asserterror testexception class to assertnotcomplete assertfalse source hasobservers assertfalse other hasobservers 
publishsubject integer source publishsubject create publishsubject integer other publishsubject create observable integer result source withlatestfrom other combiner testobserverex integer to new testobserverex result subscribe to asserttrue source hasobservers asserttrue other hasobservers other onnext 1 source onnext 1 other onerror new testexception to assertterminated to assertvalue 1 8 1 to assertnotcomplete to asserterror testexception class assertfalse source hasobservers assertfalse other hasobservers 
publishsubject integer source publishsubject create publishsubject integer other publishsubject create observable integer result source withlatestfrom other combiner error testobserverex integer to new testobserverex result subscribe to asserttrue source hasobservers asserttrue other hasobservers other onnext 1 source onnext 1 to assertterminated to assertnotcomplete to assertnovalues to asserterror testexception class assertfalse source hasobservers assertfalse other hasobservers 
publishsubject integer source publishsubject create publishsubject integer other publishsubject create observable integer result source withlatestfrom other combiner testobserver integer to new testobserver result subscribe to source oncomplete 
publishsubject string ps1 publishsubject create publishsubject string ps2 publishsubject create publishsubject string ps3 publishsubject create publishsubject string main publishsubject create testobserver string to new testobserver main withlatestfrom new observable ps1 ps2 ps3 toarray subscribe to main onnext 1 to assertnovalues ps1 onnext a to assertnovalues ps2 onnext a to assertnovalues ps3 onnext to assertnovalues main onnext 2 to assertvalues 2 a a ps2 onnext b to assertvalues 2 a a ps3 oncomplete to assertvalues 2 a a ps1 onnext b main onnext 3 to assertvalues 2 a a 3 b b main oncomplete to assertvalues 2 a a 3 b b to assertnoerrors to assertcomplete assertfalse ps1 has subscribers ps1 hasobservers assertfalse ps2 has subscribers ps2 hasobservers assertfalse ps3 has subscribers ps3 hasobservers 
publishsubject string ps1 publishsubject create publishsubject string ps2 publishsubject create publishsubject string ps3 publishsubject create publishsubject string main publishsubject create testobserver string to new testobserver main withlatestfrom arrays observable aslist ps1 ps2 ps3 toarray subscribe to main onnext 1 to assertnovalues ps1 onnext a to assertnovalues ps2 onnext a to assertnovalues ps3 onnext to assertnovalues main onnext 2 to assertvalues 2 a a ps2 onnext b to assertvalues 2 a a ps3 oncomplete to assertvalues 2 a a ps1 onnext b main onnext 3 to assertvalues 2 a a 3 b b main oncomplete to assertvalues 2 a a 3 b b to assertnoerrors to assertcomplete assertfalse ps1 has subscribers ps1 hasobservers assertfalse ps2 has subscribers ps2 hasobservers assertfalse ps3 has subscribers ps3 hasobservers 
for string val new string 1 int n 35 for int i 0 i n i list observable sources new arraylist list string expected new arraylist expected add val for int j 0 j i j sources add observable just val expected add string valueof val testobserver string to new testobserver publishsubject string main publishsubject create main withlatestfrom sources toarray subscribe to to assertnovalues main onnext val main oncomplete to assertvalue expected tostring to assertnoerrors to assertcomplete 
testobserver string to new testobserver observable range 1 3 withlatestfrom new observable observable just 1 observable empty toarray subscribe to to assertnovalues to assertnoerrors to assertcomplete 
testobserver string to new testobserver observable range 1 3 withlatestfrom new observable observable just 1 observable error new testexception toarray subscribe to to assertnovalues to asserterror testexception class to assertnotcomplete 
testobserver string to new testobserver observable error new testexception withlatestfrom new observable observable just 1 observable just 1 toarray subscribe to to assertnovalues to asserterror testexception class to assertnotcomplete 
observable integer just observable just 1 testobserver list integer to new testobserver just withlatestfrom just just new function3 integer integer integer list integer override public list integer apply integer a integer b integer c return arrays aslist a b c subscribe to to assertvalue arrays aslist 1 1 1 to assertnoerrors to assertcomplete 
observable integer just observable just 1 testobserver list integer to new testobserver just withlatestfrom just just just new function4 integer integer integer integer list integer override public list integer apply integer a integer b integer c integer d return arrays aslist a b c d subscribe to to assertvalue arrays aslist 1 1 1 1 to assertnoerrors to assertcomplete 
observable integer just observable just 1 testobserver list integer to new testobserver just withlatestfrom just just just just new function5 integer integer integer integer integer list integer override public list integer apply integer a integer b integer c integer d integer e return arrays aslist a b c d e subscribe to to assertvalue arrays aslist 1 1 1 1 1 to assertnoerrors to assertcomplete 
testhelper checkdisposed observable just 1 withlatestfrom observable just 2 new bifunction integer integer object override public object apply integer a integer b throws exception return a testhelper checkdisposed observable just 1 withlatestfrom observable just 2 observable just 3 new function3 integer integer integer object override public object apply integer a integer b integer c throws exception return a 
observable just 1 withlatestfrom new 1 100 100 new function integer observable integer override public observable integer apply integer v throws exception return observable just 2 new function object object override public object apply object a throws exception return a to testhelper object testconsumer testexception class iterator 
observable just 1 withlatestfrom observable just 2 observable just 3 new function3 integer integer integer object override public object apply integer a integer b integer c throws exception throw new testexception test assertfailure testexception class 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onerror new testexception first observer onnext 1 observer onerror new testexception second observer oncomplete withlatestfrom observable just 2 observable just 3 new function3 integer integer integer object override public object apply integer a integer b integer c throws exception return a to testhelper object testconsumer testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
observable just 1 withlatestfrom observable just 2 new bifunction integer integer object override public object apply integer a integer b throws exception return null test assertfailure nullpointerexception class 
observable just 1 withlatestfrom arrays aslist observable just 2 observable just 3 new function object object override public object apply object o throws exception return null test assertfailure nullpointerexception class 
observable just 1 withlatestfrom new observable 0 functions justfunction null to testhelper object testconsumer nullpointerexception class the combiner returned a null value 
observable just one takelast 1 1 timeunit seconds 
testscheduler scheduler new testscheduler publishsubject object source publishsubject create observable object result source takelast 1000 timeunit milliseconds scheduler observer object o testhelper mockobserver inorder inorder inorder o result subscribe o source onnext 1 scheduler advancetimeby 250 timeunit milliseconds source onnext 2 scheduler advancetimeby 250 timeunit milliseconds source onnext 3 scheduler advancetimeby 250 timeunit milliseconds source onnext 4 scheduler advancetimeby 250 timeunit milliseconds source onnext 5 scheduler advancetimeby 250 timeunit milliseconds source oncomplete inorder verify o times 1 onnext 2 inorder verify o times 1 onnext 3 inorder verify o times 1 onnext 4 inorder verify o times 1 onnext 5 inorder verify o times 1 oncomplete verify o never onerror any throwable class 
testscheduler scheduler new testscheduler publishsubject object source publishsubject create observable object result source takelast 1000 timeunit milliseconds scheduler observer object o testhelper mockobserver inorder inorder inorder o result subscribe o source onnext 1 scheduler advancetimeby 250 timeunit milliseconds source onnext 2 scheduler advancetimeby 250 timeunit milliseconds source onnext 3 scheduler advancetimeby 250 timeunit milliseconds source onnext 4 scheduler advancetimeby 250 timeunit milliseconds source onnext 5 scheduler advancetimeby 1250 timeunit milliseconds source oncomplete inorder verify o times 1 oncomplete verify o never onnext any verify o never onerror any throwable class 
testscheduler scheduler new testscheduler publishsubject object source publishsubject create observable object result source takelast 2 1000 timeunit milliseconds scheduler observer object o testhelper mockobserver inorder inorder inorder o result subscribe o source onnext 1 scheduler advancetimeby 250 timeunit milliseconds source onnext 2 scheduler advancetimeby 250 timeunit milliseconds source onnext 3 scheduler advancetimeby 250 timeunit milliseconds source onnext 4 scheduler advancetimeby 250 timeunit milliseconds source onnext 5 scheduler advancetimeby 250 timeunit milliseconds source oncomplete inorder verify o times 1 onnext 4 inorder verify o times 1 onnext 5 inorder verify o times 1 oncomplete verify o never onerror any throwable class 
testscheduler scheduler new testscheduler publishsubject object source publishsubject create observable object result source takelast 1 timeunit seconds scheduler observer object o testhelper mockobserver inorder inorder inorder o result subscribe o source onnext 1 scheduler advancetimeby 250 timeunit milliseconds source onnext 2 scheduler advancetimeby 250 timeunit milliseconds source onnext 3 scheduler advancetimeby 250 timeunit milliseconds source onnext 4 scheduler advancetimeby 250 timeunit milliseconds source onnext 5 scheduler advancetimeby 250 timeunit milliseconds source onerror new testexception inorder verify o times 1 onerror any testexception class verify o never onnext any verify o never oncomplete 
testscheduler scheduler new testscheduler publishsubject object source publishsubject create observable object result source takelast 0 1 timeunit seconds scheduler observer object o testhelper mockobserver inorder inorder inorder o result subscribe o source onnext 1 scheduler advancetimeby 250 timeunit milliseconds source onnext 2 scheduler advancetimeby 250 timeunit milliseconds source onnext 3 scheduler advancetimeby 250 timeunit milliseconds source onnext 4 scheduler advancetimeby 250 timeunit milliseconds source onnext 5 scheduler advancetimeby 250 timeunit milliseconds source oncomplete inorder verify o times 1 oncomplete verify o never onnext any verify o never onerror any throwable class 
observable just 1 2 takelast 1 1 timeunit minutes test assertresult 2 
observable just 1 2 takelast 1 timeunit minutes test assertresult 1 2 
observable just 1 2 concatwith observable integer error new testexception takelast 1 timeunit minutes true test assertfailure testexception class 1 2 
observable just 1 2 concatwith observable integer error new testexception takelast 1 timeunit minutes schedulers io true test assertfailure testexception class 1 2 
testhelper checkdisposed publishsubject create takelast 1 timeunit minutes 
observable range 1 1000 takelast 1 timeunit days take 500 observeon schedulers single true 1 to testhelper integer testconsumer awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 500 assertnoerrors assertcomplete 
for int i 0 i testhelper race default loops i final publishsubject integer ps publishsubject create final testobserver integer to ps takelast 1 timeunit days test runnable r1 new runnable override public void run ps oncomplete runnable r2 new runnable override public void run to dispose testhelper race r1 r2 
scheduler new scheduler stepenabled false publishsubject integer ps publishsubject create testobserver integer to ps takelast 2 timeunit seconds scheduler test ps onnext 1 ps onnext 2 ps onnext 3 ps onnext 4 scheduler stepenabled true ps oncomplete to assertresult 1 2 3 4 
testhelper o o takelast 1 timeunit seconds 
final testobserver integer to new testobserver observable range 1 5 concatwith maybe integer fromaction new action override public void run throws exception to onnext 100 subscribe to to assertresult 1 2 3 4 5 100 
final testobserver integer to new testobserver observable range 1 5 concatwith maybe just 100 subscribe to to assertresult 1 2 3 4 5 100 
final testobserver integer to new testobserver observable integer error new testexception concatwith maybe integer fromaction new action override public void run throws exception to onnext 100 subscribe to to assertfailure testexception class 
final testobserver integer to new testobserver observable range 1 5 concatwith maybe integer error new testexception subscribe to to assertfailure testexception class 1 2 3 4 5 
final testobserver integer to new testobserver observable range 1 5 concatwith maybe integer fromaction new action override public void run throws exception to onnext 100 take 3 subscribe to to assertresult 1 2 3 
maybesubject object other maybesubject create testobserver object to observable empty concatwith other test asserttrue other hasobservers to dispose assertfalse other hasobservers 
new observable integer override protected void subscribeactual observer super integer observer disposable bs1 disposable empty observer onsubscribe bs1 assertfalse disposable observer isdisposed observer onnext 1 asserttrue disposable observer isdisposed asserttrue bs1 isdisposed concatwith maybe just 100 take 1 test assertresult 1 
new observable integer override protected void subscribeactual observer super integer observer disposable bs1 disposable empty observer onsubscribe bs1 disposable bs2 disposable empty observer onsubscribe bs2 assertfalse bs1 isdisposed asserttrue bs2 isdisposed observer oncomplete concatwith maybe integer empty test assertresult 
flowable empty concatwith new maybe integer override protected void subscribeactual maybeobserver super integer observer disposable bs1 disposable empty observer onsubscribe bs1 disposable bs2 disposable empty observer onsubscribe bs2 assertfalse bs1 isdisposed asserttrue bs2 isdisposed observer oncomplete test assertresult 
observable string obs observable just one two three iterator string it obs blockingiterable iterator asserttrue it hasnext assertequals one it next asserttrue it hasnext assertequals two it next asserttrue it hasnext assertequals three it next assertfalse it hasnext 
observable string obs observable unsafecreate new observablesource string override public void subscribe observer super string observer observer onsubscribe disposable empty observer onnext one observer onerror new testexception iterator string it obs blockingiterable iterator asserttrue it hasnext assertequals one it next asserttrue it hasnext it next 
integer it new 128 assertfalse it isdisposed it dispose asserttrue it isdisposed 
integer it new 128 try thread currentthread interrupt it hasnext catch runtimeexception ex asserttrue ex tostring ex getcause instanceof interruptedexception 
integer it new 128 it oncomplete it next 
integer it new 128 it remove 
iterator integer it publishsubject integer create blockingiterable iterator disposable it dispose assertfalse it hasnext it next 
final iterator integer it publishsubject integer create blockingiterable iterator schedulers single scheduledirect new runnable override public void run disposable it dispose 1 timeunit seconds assertfalse it hasnext 
iterator object it observable error new testexception blockingiterable iterator disposable it dispose it hasnext 
observable string w observable fromiterable arrays aslist one two three observable list string observable w tolist toobservable observer list string observer testhelper mockobserver observable subscribe observer verify observer times 1 onnext arrays aslist one two three verify observer mockito never onerror any throwable class verify observer times 1 oncomplete 
observable string w observable fromiterable arrays aslist one two three observable list string observable w tolist toobservable observer list string observer testhelper mockobserver observable subscribe observer verify observer times 1 onnext arrays aslist one two three verify observer mockito never onerror any throwable class verify observer times 1 oncomplete 
observable string w observable fromiterable arrays aslist one two three observable list string observable w tolist toobservable observer list string o1 testhelper mockobserver observable subscribe o1 observer list string o2 testhelper mockobserver observable subscribe o2 list string expected arrays aslist one two three verify o1 times 1 onnext expected verify o1 mockito never onerror any throwable class verify o1 times 1 oncomplete verify o2 times 1 onnext expected verify o2 mockito never onerror any throwable class verify o2 times 1 oncomplete 
observable string o observable fromiterable arrays aslist one two three list string actual o tolist toobservable blockingfirst assert assertequals arrays aslist one two three actual 
observable range 1 10 tolist 4 toobservable test assertresult arrays aslist 1 2 3 4 5 6 7 8 9 10 
observable string w observable fromiterable arrays aslist one two three single list string single w tolist singleobserver list string observer testhelper mocksingleobserver single subscribe observer verify observer times 1 onsuccess arrays aslist one two three verify observer mockito never onerror any throwable class 
observable string w observable fromiterable arrays aslist one two three single list string single w tolist singleobserver list string observer testhelper mocksingleobserver single subscribe observer verify observer times 1 onsuccess arrays aslist one two three verify observer mockito never onerror any throwable class 
observable string w observable fromiterable arrays aslist one two three single list string single w tolist singleobserver list string o1 testhelper mocksingleobserver single subscribe o1 singleobserver list string o2 testhelper mocksingleobserver single subscribe o2 list string expected arrays aslist one two three verify o1 times 1 onsuccess expected verify o1 mockito never onerror any throwable class verify o2 times 1 onsuccess expected verify o2 mockito never onerror any throwable class 
observable string o observable fromiterable arrays aslist one two three list string actual o tolist blockingget assert assertequals arrays aslist one two three actual 
try cb await catch interruptedexception ex ex printstacktrace catch ex ex printstacktrace 
observable range 1 10 tolist 4 test assertresult arrays aslist 1 2 3 4 5 6 7 8 9 10 
testhelper checkdisposed observable just 1 tolist toobservable testhelper checkdisposed observable just 1 tolist 
observable error new testexception tolist toobservable test assertfailure testexception class 
observable error new testexception tolist test assertfailure testexception class 
observable just 1 tolist new supplier collection integer override public collection integer get throws exception throw new testexception toobservable test assertfailure testexception class 
observable just 1 tolist new supplier collection integer override public collection integer get throws exception return null toobservable to testhelper collection integer testconsumer assertfailure nullpointerexception class asserterrormessage exceptionhelper nullwarning the collectionsupplier returned a null collection 
observable just 1 tolist new supplier collection integer override public collection integer get throws exception throw new testexception test assertfailure testexception class 
observable just 1 tolist new supplier collection integer override public collection integer get throws exception return null to testhelper collection integer testconsumer assertfailure nullpointerexception class asserterrormessage exceptionhelper nullwarning the collectionsupplier returned a null collection 
testhelper new function observable object observable list object override public observable list object apply observable object f throws exception return f tolist toobservable testhelper new function observable object single list object override public single list object apply observable object f throws exception return f tolist 
testobservable f new testobservable one observable string w observable unsafecreate f final atomicreference throwable capturedexception new atomicreference observable string observable w onerrorreturn new function throwable string override public string apply throwable e capturedexception set e return failure observer string observer testhelper mockobserver observable subscribe observer try f t join catch interruptedexception e fail e getmessage verify observer mockito never onerror any throwable class verify observer times 1 oncomplete verify observer times 1 onnext one verify observer times 1 onnext failure assertnotnull capturedexception get 
testobservable f new testobservable one observable string w observable unsafecreate f final atomicreference throwable capturedexception new atomicreference observable string observable w onerrorreturn new function throwable string override public string apply throwable e capturedexception set e throw new runtimeexception exception from function observer string observer testhelper mockobserver observable subscribe observer try f t join catch interruptedexception e fail e getmessage verify observer times 1 onnext one verify observer times 1 onerror any throwable class verify observer times 0 oncomplete assertnotnull capturedexception get 
observable string w observable just one fail two three fail w w map new function string string override public string apply string s if fail equals s throw new runtimeexception forced failure system out println badmapper s return s observable string observable w onerrorreturn new function throwable string override public string apply throwable t1 return resume observer string observer testhelper mockobserver testobserver string to new testobserver observer observable subscribe to to awaitdone 5 timeunit seconds verify observer mockito never onerror any throwable class verify observer times 1 oncomplete verify observer times 1 onnext one verify observer mockito never onnext two verify observer mockito never onnext three verify observer times 1 onnext resume 
testobserver integer to new testobserver observable range 0 onerrorreturn new function throwable integer override public integer apply throwable t1 return 1 observeon schedulers computation map new function integer integer int c override public integer apply integer t1 if c 1 try thread sleep 500 catch interruptedexception e e printstacktrace return t1 subscribe to to awaitdone 5 timeunit seconds to assertnoerrors 
observer onsubscribe disposable empty system out println testobservable subscribed to t new thread new runnable override public void run try system out println running testobservable thread for string s values system out println testobservable onnext s observer onnext s throw new runtimeexception forced failure catch throwable e observer onerror e system out println starting testobservable thread t start system out println done starting testobservable thread 
observable error new testexception onerrorreturnitem 1 test assertresult 1 
testhelper checkdisposed observable just 1 onerrorreturnitem 1 
testhelper new function observable object observablesource object override public observablesource object apply observable object f throws exception return f onerrorreturnitem 1 
observable integer source observable just 1 2 3 observable integer observable source defaultifempty 10 observer integer observer testhelper mockobserver observable subscribe observer verify observer never onnext 10 verify observer onnext 1 verify observer onnext 2 verify observer onnext 3 verify observer oncomplete verify observer never onerror any throwable class 
observable integer source observable empty observable integer observable source defaultifempty 10 observer integer observer testhelper mockobserver observable subscribe observer verify observer onnext 10 verify observer oncomplete verify observer never onerror any throwable class 
observable range 1 5 concatmapeager new function integer observablesource integer override public observablesource integer apply integer t return observable range t 2 test assertresult 1 2 2 3 3 4 4 5 5 6 
observable range 1 5 new function integer observablesource integer override public observablesource integer apply integer t return observable range t 2 false test assertresult 1 2 2 3 3 4 4 5 5 6 
observable range 1 5 new function integer observablesource integer override public observablesource integer apply integer t return observable range t 2 true test assertresult 1 2 2 3 3 4 4 5 5 6 
publishsubject integer main publishsubject create final publishsubject integer inner publishsubject create testobserverex integer to main new function integer observablesource integer override public observablesource integer apply integer t return inner false to testhelper integer testconsumer main onnext 1 inner onnext 2 to assertvalue 2 main onerror new testexception forced failure to assertnoerrors inner onnext 3 inner oncomplete to testexception class forced failure 2 3 
publishsubject integer main publishsubject create final publishsubject integer inner publishsubject create testobserverex integer to main new function integer observablesource integer override public observablesource integer apply integer t return inner true to testhelper integer testconsumer main onnext 1 main onnext 2 inner onnext 2 to assertvalue 2 main onerror new testexception forced failure to assertnoerrors inner onnext 3 inner oncomplete to testexception class forced failure 2 3 2 3 
publishsubject integer main publishsubject create final publishsubject integer inner publishsubject create testobserverex integer to main concatmapeager new function integer observablesource integer override public observablesource integer apply integer t return inner to testhelper integer testconsumer main onnext 1 main onnext 2 inner onnext 2 to assertvalue 2 main onerror new testexception forced failure assertfalse inner has subscribers inner hasobservers inner onnext 3 inner oncomplete to testexception class forced failure 2 
observable range 1 2 observable buffersize concatmapeager new function integer observablesource integer override public observablesource integer apply integer v return observable just 1 test assertvaluecount 2 observable buffersize assertnoerrors assertcomplete 
to new testobserver 
observable range 1 100 concatmapeager tojust subscribe to to assertnoerrors to assertvaluecount 100 to assertcomplete 
observable range 1 100 concatmapeager torange subscribe to to assertnoerrors to assertvaluecount 200 to assertcomplete 
final atomicinteger count new atomicinteger observable integer source observable just 1 doonnext new consumer integer override public void accept integer t count getandincrement hide observable concatarrayeager source source subscribe to assert assertequals 2 count get to assertvaluecount count get to assertnoerrors to assertcomplete 
final atomicinteger count new atomicinteger observable integer source observable just 1 doonnext new consumer integer override public void accept integer t count getandincrement hide observable concatarrayeager source source source subscribe to assert assertequals 3 count get to assertvaluecount count get to assertnoerrors to assertcomplete 
final atomicinteger count new atomicinteger observable integer source observable just 1 doonnext new consumer integer override public void accept integer t count getandincrement hide observable concatarrayeager source source source source subscribe to assert assertequals 4 count get to assertvaluecount count get to assertnoerrors to assertcomplete 
final atomicinteger count new atomicinteger observable integer source observable just 1 doonnext new consumer integer override public void accept integer t count getandincrement hide observable concatarrayeager source source source source source subscribe to assert assertequals 5 count get to assertvaluecount count get to assertnoerrors to assertcomplete 
final atomicinteger count new atomicinteger observable integer source observable just 1 doonnext new consumer integer override public void accept integer t count getandincrement hide observable concatarrayeager source source source source source source subscribe to assert assertequals 6 count get to assertvaluecount count get to assertnoerrors to assertcomplete 
final atomicinteger count new atomicinteger observable integer source observable just 1 doonnext new consumer integer override public void accept integer t count getandincrement hide observable concatarrayeager source source source source source source source subscribe to assert assertequals 7 count get to assertvaluecount count get to assertnoerrors to assertcomplete 
final atomicinteger count new atomicinteger observable integer source observable just 1 doonnext new consumer integer override public void accept integer t count getandincrement hide observable concatarrayeager source source source source source source source source subscribe to assert assertequals 8 count get to assertvaluecount count get to assertnoerrors to assertcomplete 
final atomicinteger count new atomicinteger observable integer source observable just 1 doonnext new consumer integer override public void accept integer t count getandincrement hide observable concatarrayeager source source source source source source source source source subscribe to assert assertequals 9 count get to assertvaluecount count get to assertnoerrors to assertcomplete 
observable integer error new testexception concatmapeager tojust subscribe to to assertnovalues to asserterror testexception class to assertnotcomplete 
publishsubject integer ps publishsubject create observable concatarrayeager observable just 1 ps subscribe to ps onerror new testexception to assertvalue 1 to asserterror testexception class to assertnotcomplete 
observable concatarrayeager observable empty observable empty subscribe to to assertnovalues to assertnoerrors to assertcomplete 
observable just 1 concatmapeager new function integer observable integer override public observable integer apply integer t throw new testexception subscribe to to assertnovalues to assertnotcomplete to asserterror testexception class 
observable just 1 concatmapeager tojust 0 observable buffersize 
observable just 1 concatmapeager tojust observable buffersize 0 
observable range 1 2 concatmapeager new function integer observable integer override public observable integer apply integer t return observable range 1 1000 subscribeon schedulers computation observeon schedulers newthread subscribe to to awaitdone 5 timeunit seconds to assertnoerrors to assertvaluecount 2000 
final publishsubject integer subject publishsubject create final atomicboolean once new atomicboolean subject concatmapeager new function integer observable integer override public observable integer apply integer t return observable just t doonnext new consumer integer override public void accept integer t if once compareandset false true subject onnext 2 subscribe to subject onnext 1 to assertnoerrors to assertnotcomplete to assertvalues 1 2 
for int i 2 i 10 i observable integer obs new observable i arrays fill obs observable just 1 integer expected new integer i arrays fill expected 1 method m observable class getmethod concatarrayeager observablesource class testobserver integer to testobserver create observable integer m invoke null new object obs subscribe to to assertvalues expected to assertnoerrors to assertcomplete 
observable integer source observable just 1 testobserver integer to testobserver create observable concateager arrays aslist source source source 1 1 subscribe to to assertvalues 1 1 1 to assertnoerrors to assertcomplete 
observable integer source observable just 1 testobserver integer to testobserver create observable concateager observable just source source source subscribe to to assertvalues 1 1 1 to assertnoerrors to assertcomplete 
observable integer source observable just 1 testobserver integer to testobserver create observable concateager observable just source source source 1 1 subscribe to to assertvalues 1 1 1 to assertnoerrors to assertcomplete 
observable integer source observable just 1 try observable concateager arrays aslist source source source 1 99 catch ex assertequals buffersize 0 required but it was 99 ex getmessage 
observable integer source observable just 1 try observable just source source source concatmapeager function functions identity 10 99 catch ex assertequals buffersize 0 required but it was 99 ex getmessage 
observable concateager arrays aslist observable just 1 observable just 2 test assertresult 1 2 
testhelper checkdisposed observable just 1 hide concatmapeager new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable range 1 2 
observable integer empty hide concatmapeager new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable range 1 2 test assertresult 
observable integer just 1 hide concatmapeager new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable error new testexception test assertfailure testexception class 
observable integer just 1 hide concatmapeager new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable error new testexception 1 128 test assertfailure testexception class 
observable integer just 1 hide concatmapeager new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable fromcallable new callable integer override public integer call throws exception throw new testexception test assertfailure testexception class 
for int i 0 i testhelper race default loops i list throwable errors testhelper trackpluginerrors try final publishsubject integer ps1 publishsubject create final publishsubject integer ps2 publishsubject create testobserverex integer to ps1 concatmapeager new function integer observablesource integer override public observablesource integer apply integer v throws exception return ps2 to testhelper integer testconsumer final testexception ex1 new testexception final testexception ex2 new testexception ps1 onnext 1 runnable r1 new runnable override public void run ps1 onerror ex1 runnable r2 new runnable override public void run ps2 onerror ex2 testhelper race r1 r2 to assertsubscribed assertnovalues assertnotcomplete throwable ex to errors get 0 if ex instanceof compositeexception list throwable es testhelper errorlist to testhelper asserterror es 0 testexception class testhelper asserterror es 1 testexception class else to asserterror testexception class if errors isempty testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
for int i 0 i testhelper race default loops i final publishsubject integer ps1 publishsubject create final testobserver integer to ps1 concatmapeager new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable never test runnable r1 new runnable override public void run ps1 onnext 1 runnable r2 new runnable override public void run to dispose testhelper race r1 r2 to assertempty 
final testobserver integer to new testobserver observable just 1 hide concatmapeager new function integer observablesource integer override public observablesource integer apply integer v throws exception to dispose return observable never 1 128 subscribe to to assertempty 
observable integer just 1 hide concatmapeager new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable range 1 2 map new function integer integer override public integer apply integer v throws exception throw new testexception test assertfailure testexception class 
final unicastsubject integer us unicastsubject create us onnext 1 testobserver integer to new testobserver integer override public void onnext integer t super onnext t us onerror new testexception observable integer just 1 hide concatmapeager new function integer observablesource integer override public observablesource integer apply integer v throws exception return us 1 128 subscribe to to assertfailure testexception class 1 
unicastsubject integer us unicastsubject create us onnext 1 us oncomplete us concatmapeager new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable just 1 take 1 test assertresult 1 
testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return o concatmapeager new function object observablesource object override public observablesource object apply object v throws exception return observable just v 
observable just 1 2 3 4 5 concatmapeager new function integer observablesource integer override public observablesource integer apply integer i throws exception return i 3 observable just i observable just i delay 1 timeunit milliseconds schedulers io observeon schedulers io test awaitdone 5 timeunit seconds assertresult 1 2 3 4 5 
list integer list new arraylist 100 for int i 0 i 100 i list integer lst new arraylist list i lst for int k 1 k 10 k lst add i 10 k observable range 1 1000 buffer 10 concatmapeager new function list integer observablesource list integer override public observablesource list integer apply list integer v throws exception return observable just v subscribeon schedulers io doonnext new consumer list integer override public void accept list integer v throws exception thread sleep new random nextint 20 2 3 test awaitdone 5 timeunit seconds assertresult list 
publishsubject integer ps1 publishsubject create publishsubject integer ps2 publishsubject create publishsubject integer ps3 publishsubject create testobserver integer to observable ps1 ps2 ps3 test to assertempty asserttrue ps1 hasobservers asserttrue ps2 hasobservers asserttrue ps3 hasobservers ps2 onnext 2 ps2 oncomplete to assertempty ps1 onnext 1 to assertvaluesonly 1 ps1 oncomplete to assertvaluesonly 1 2 ps3 oncomplete to assertresult 1 2 
publishsubject integer ps1 publishsubject create publishsubject integer ps2 publishsubject create publishsubject integer ps3 publishsubject create testobserver integer to observable 2 2 ps1 ps2 ps3 test to assertempty asserttrue ps1 hasobservers asserttrue ps2 hasobservers assertfalse ps3 hasobservers ps2 onnext 2 ps2 oncomplete to assertempty ps1 onnext 1 to assertvaluesonly 1 ps1 oncomplete asserttrue ps3 hasobservers to assertvaluesonly 1 2 ps3 oncomplete to assertresult 1 2 
publishsubject integer ps1 publishsubject create publishsubject integer ps2 publishsubject create publishsubject integer ps3 publishsubject create testobserver integer to observable 2 2 ps1 ps2 ps3 test to assertempty asserttrue ps1 hasobservers asserttrue ps2 hasobservers assertfalse ps3 hasobservers ps2 onnext 2 ps2 onerror new testexception to assertempty ps1 onnext 1 to assertvaluesonly 1 ps1 oncomplete asserttrue ps3 hasobservers to assertvaluesonly 1 2 ps3 oncomplete to assertfailure testexception class 1 2 
publishsubject integer ps1 publishsubject create publishsubject integer ps2 publishsubject create testobserver integer to observable concateager observable just ps1 ps2 test asserttrue ps1 hasobservers asserttrue ps2 hasobservers to dispose assertfalse ps1 hasobservers assertfalse ps2 hasobservers 
publishsubject observable integer ps1 publishsubject create testobserver integer to observable concateager ps1 test asserttrue ps1 hasobservers to dispose assertfalse ps1 hasobservers 
testhelper new observableconverter integer observable integer override public observable integer apply observable integer upstream return upstream concatmapeager new function integer observable integer override public observable integer apply integer v throws throwable return observable just v hide 
testhelper new observableconverter integer observable integer override public observable integer apply observable integer upstream return upstream new function integer observable integer override public observable integer apply integer v throws throwable return observable just v hide false 
testhelper new observableconverter integer observable integer override public observable integer apply observable integer upstream return upstream new function integer observable integer override public observable integer apply integer v throws throwable return observable just v hide true 
observable arrays aslist observable range 1 2 observable error new testexception observable range 3 3 test assertfailure testexception class 1 2 3 4 5 
observable arrays aslist observable range 1 2 observable error new testexception observable range 3 3 1 1 test assertfailure testexception class 1 2 3 4 5 
observable observable fromarray observable range 1 2 observable error new testexception observable range 3 3 test assertfailure testexception class 1 2 3 4 5 
observable observable fromarray observable range 1 2 observable error new testexception observable range 3 3 1 1 test assertfailure testexception class 1 2 3 4 5 
observable just 1 hide concatmapeager v testhelper test assertempty 
observable generate new supplier object override public object get throws exception return 10 new biconsumer object emitter object override public void accept object s emitter object e throws exception e onnext s new consumer object override public void accept object d throws exception take 5 test assertresult 10 10 10 10 10 
observable generate new supplier object override public object get throws exception throw new testexception new biconsumer object emitter object override public void accept object s emitter object e throws exception e onnext s functions emptyconsumer test assertfailure testexception class 
observable generate new supplier object override public object get throws exception return 1 new biconsumer object emitter object override public void accept object s emitter object e throws exception throw new testexception functions emptyconsumer test assertfailure testexception class 
list throwable errors testhelper trackpluginerrors try observable generate new supplier object override public object get throws exception return 1 new biconsumer object emitter object override public void accept object s emitter object e throws exception e oncomplete new consumer object override public void accept object d throws exception throw new testexception test assertresult testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
testhelper checkdisposed observable generate new supplier object override public object get throws exception return 1 new biconsumer object emitter object override public void accept object s emitter object e throws exception e oncomplete functions emptyconsumer 
final int call 0 observable generate functions justsupplier 1 new biconsumer integer emitter object override public void accept integer s emitter object e throws exception try e onerror null catch nullpointerexception ex call 0 functions emptyconsumer test assertfailure nullpointerexception class assertequals 0 call 0 
observable generate new consumer emitter object override public void accept emitter object e throws exception e onnext 1 e onnext 2 test assertfailure class 1 
list throwable errors testhelper trackpluginerrors try observable generate new consumer emitter object override public void accept emitter object e throws exception e onerror new testexception first e onerror new testexception second test assertfailure testexception class testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
observable generate new consumer emitter object override public void accept emitter object e throws exception e oncomplete e oncomplete test assertresult 
observable generate new consumer emitter object override public void accept emitter object e throws exception e oncomplete e onnext 1 test assertresult 
testhelper checkutilityclass class 
assertnotnull maptoint values 0 assertnotnull maptoint valueof instance 
assertequals 0 maptoint instance apply null 
observable integer o observable just 1 assertsame o integer o map functions integer identity source 
final o1 new one two null three testlocalobserver observer new testlocalobserver observable notification string m observable unsafecreate o1 materialize m subscribe observer try o1 t join catch interruptedexception e throw new runtimeexception e assertfalse observer onerror asserttrue observer oncomplete assertequals 3 observer notifications size asserttrue observer notifications get 0 isonnext assertequals one observer notifications get 0 getvalue asserttrue observer notifications get 1 isonnext assertequals two observer notifications get 1 getvalue asserttrue observer notifications get 2 isonerror assertequals nullpointerexception class observer notifications get 2 geterror getclass 
final o1 new one two three testlocalobserver observer new testlocalobserver observable notification string m observable unsafecreate o1 materialize m subscribe observer try o1 t join catch interruptedexception e throw new runtimeexception e assertfalse observer onerror asserttrue observer oncomplete assertequals 4 observer notifications size asserttrue observer notifications get 0 isonnext assertequals one observer notifications get 0 getvalue asserttrue observer notifications get 1 isonnext assertequals two observer notifications get 1 getvalue asserttrue observer notifications get 2 isonnext assertequals three observer notifications get 2 getvalue asserttrue observer notifications get 3 isoncomplete 
final o new one two null three observable notification string m observable unsafecreate o materialize assertequals 3 m tolist tofuture get size assertequals 3 m tolist tofuture get size 
testobserverex notification integer to new testobserverex final runtimeexception ex new runtimeexception boo observable integer empty materialize doonnext new consumer object override public void accept object t throw ex subscribe to to asserterror ex to assertnovalues to assertterminated 
this oncomplete true 
this onerror true 
this notifications add value 
observer onsubscribe disposable empty t new thread new runnable override public void run for string s valuestoreturn if s null system out println throwing exception try thread sleep 100 catch throwable e observer onerror new nullpointerexception return else observer onnext s system out println subscription complete observer oncomplete t start 
testhelper checkdisposed observable just 1 materialize 
testhelper new function observable object observablesource notification object override public observablesource notification object apply observable object o throws exception return o materialize 
final atomicinteger atomicinteger new atomicinteger observable fromrunnable new runnable override public void run atomicinteger incrementandget test assertresult assertequals 1 atomicinteger get 
final atomicinteger atomicinteger new atomicinteger runnable run new runnable override public void run atomicinteger incrementandget observable fromrunnable run test assertresult assertequals 1 atomicinteger get observable fromrunnable run test assertresult assertequals 2 atomicinteger get 
final atomicinteger atomicinteger new atomicinteger observable object source observable fromrunnable new runnable override public void run atomicinteger incrementandget assertequals 0 atomicinteger get source test assertresult assertequals 1 atomicinteger get 
observable fromrunnable new runnable override public void run throw new test assertfailure class 
final int counter 0 observable void m observable fromrunnable new runnable override public void run counter 0 asserttrue m getclass tostring m instanceof supplier assertnull supplier void m get assertequals 1 counter 0 
list throwable errors testhelper trackpluginerrors try final countdownlatch cdl1 new countdownlatch 1 final countdownlatch cdl2 new countdownlatch 1 testobserver object to observable fromrunnable new runnable override public void run cdl1 countdown try cdl2 await 5 timeunit seconds catch interruptedexception e e printstacktrace throw new testexception e subscribeon schedulers single test asserttrue cdl1 await 5 timeunit seconds to dispose int timeout 10 while timeout 0 errors isempty thread sleep 100 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
runnable run mock runnable class observable fromrunnable run test true assertempty verify run never run 
final testobserver object to new testobserver observable fromrunnable new runnable override public void run to dispose subscribewith to assertempty asserttrue to isdisposed 
testobserverex object to new testobserverex to setinitialfusionmode queuefuseable async runnable action mock runnable class observable fromrunnable action subscribe to to assertfusionmode queuefuseable async assertresult verify action run 
testobserverex object to new testobserverex to setinitialfusionmode queuefuseable sync runnable action mock runnable class observable fromrunnable action subscribe to to assertfusionmode queuefuseable none assertresult verify action run 
stringobserver testhelper mockobserver 
final observable string o1 observable unsafecreate new testerrorobservable four null six final observable string o2 observable unsafecreate new testerrorobservable one two three observable string m observable mergedelayerror o1 o2 m subscribe stringobserver verify stringobserver times 1 onerror any nullpointerexception class verify stringobserver never oncomplete verify stringobserver times 1 onnext one verify stringobserver times 1 onnext two verify stringobserver times 1 onnext three verify stringobserver times 1 onnext four verify stringobserver times 0 onnext five 
final observable string o1 observable unsafecreate new testerrorobservable one two three final observable string o2 observable unsafecreate new testerrorobservable four null six final observable string o3 observable unsafecreate new testerrorobservable seven eight null final observable string o4 observable unsafecreate new testerrorobservable nine observable string m observable mergedelayerror o1 o2 o3 o4 m subscribe stringobserver verify stringobserver times 1 onerror any compositeexception class verify stringobserver never oncomplete verify stringobserver times 1 onnext one verify stringobserver times 1 onnext two verify stringobserver times 1 onnext three verify stringobserver times 1 onnext four verify stringobserver times 0 onnext five verify stringobserver times 1 onnext seven verify stringobserver times 1 onnext eight verify stringobserver times 1 onnext nine 
final observable string o1 observable unsafecreate new testerrorobservable one two three final observable string o2 observable unsafecreate new testerrorobservable four five six final observable string o3 observable unsafecreate new testerrorobservable seven eight null final observable string o4 observable unsafecreate new testerrorobservable nine observable string m observable mergedelayerror o1 o2 o3 o4 m subscribe stringobserver verify stringobserver times 1 onerror any nullpointerexception class verify stringobserver never oncomplete verify stringobserver times 1 onnext one verify stringobserver times 1 onnext two verify stringobserver times 1 onnext three verify stringobserver times 1 onnext four verify stringobserver times 1 onnext five verify stringobserver times 1 onnext six verify stringobserver times 1 onnext seven verify stringobserver times 1 onnext eight verify stringobserver times 1 onnext nine 
final observable string o1 observable unsafecreate new testerrorobservable one two three final observable string o2 observable unsafecreate new testerrorobservable four five six final observable string o3 observable unsafecreate new testerrorobservable seven eight final observable string o4 observable unsafecreate new testerrorobservable nine null observable string m observable mergedelayerror o1 o2 o3 o4 m subscribe stringobserver verify stringobserver times 1 onerror any nullpointerexception class verify stringobserver never oncomplete verify stringobserver times 1 onnext one verify stringobserver times 1 onnext two verify stringobserver times 1 onnext three verify stringobserver times 1 onnext four verify stringobserver times 1 onnext five verify stringobserver times 1 onnext six verify stringobserver times 1 onnext seven verify stringobserver times 1 onnext eight verify stringobserver times 1 onnext nine 
final o1 new one two three final o2 new four five six final o3 new seven eight final o4 new nine null observable string m observable mergedelayerror observable unsafecreate o1 observable unsafecreate o2 observable unsafecreate o3 observable unsafecreate o4 m subscribe stringobserver try o1 t join o2 t join o3 t join o4 t join catch interruptedexception e throw new runtimeexception e verify stringobserver times 1 onnext one verify stringobserver times 1 onnext two verify stringobserver times 1 onnext three verify stringobserver times 1 onnext four verify stringobserver times 1 onnext five verify stringobserver times 1 onnext six verify stringobserver times 1 onnext seven verify stringobserver times 1 onnext eight verify stringobserver times 1 onnext nine verify stringobserver times 1 onerror any nullpointerexception class verify stringobserver never oncomplete 
final observable string o1 observable unsafecreate new testerrorobservable four null six final observable string o2 observable unsafecreate new testerrorobservable one two null observable string m observable mergedelayerror o1 o2 m subscribe stringobserver verify stringobserver times 1 onerror any throwable class verify stringobserver never oncomplete verify stringobserver times 1 onnext one verify stringobserver times 1 onnext two verify stringobserver times 0 onnext three verify stringobserver times 1 onnext four verify stringobserver times 0 onnext five 
final observable string o1 observable unsafecreate new testerrorobservable four null six final observable string o2 observable unsafecreate new testerrorobservable one two null observable string m observable mergedelayerror o1 o2 captureobserver w new captureobserver m subscribe w assertnotnull w e assertequals 2 compositeexception w e size 
final observable string o1 observable unsafecreate new final observable string o2 observable unsafecreate new observable observable string observable unsafecreate new observablesource observable string override public void subscribe observer super observable string observer observer onsubscribe disposable empty observer onnext o1 observer onnext o2 observer oncomplete observable string m observable mergedelayerror m subscribe stringobserver verify stringobserver never onerror any throwable class verify stringobserver times 1 oncomplete verify stringobserver times 2 onnext hello 
observer onsubscribe disposable empty observer onnext o1 observer onnext o2 observer oncomplete 
final observable string o1 observable unsafecreate new final observable string o2 observable unsafecreate new observable string m observable mergedelayerror o1 o2 m subscribe stringobserver verify stringobserver never onerror any throwable class verify stringobserver times 2 onnext hello verify stringobserver times 1 oncomplete 
final observable string o1 observable unsafecreate new final observable string o2 observable unsafecreate new list observable string listofobservables new arraylist listofobservables add o1 listofobservables add o2 observable string m observable mergedelayerror observable fromiterable listofobservables m subscribe stringobserver verify stringobserver never onerror any throwable class verify stringobserver times 1 oncomplete verify stringobserver times 2 onnext hello 
final o1 new final o2 new observable string m observable mergedelayerror observable unsafecreate o1 observable unsafecreate o2 m subscribe stringobserver try o1 t join o2 t join catch interruptedexception e throw new runtimeexception e verify stringobserver never onerror any throwable class verify stringobserver times 2 onnext hello verify stringobserver times 1 oncomplete 
final observable observable string o1 observable error new runtimeexception unit test final countdownlatch latch new countdownlatch 1 observable mergedelayerror o1 subscribe new defaultobserver string override public void oncomplete fail expected onerror path override public void onerror throwable e latch countdown override public void onnext string s fail expected onerror path try latch await catch interruptedexception ex fail interrupted 
fail expected onerror path 
latch countdown 
fail expected onerror path 
observer onsubscribe disposable empty observer onnext hello observer oncomplete 
observer onsubscribe disposable empty t new thread new runnable override public void run observer onnext hello observer oncomplete t start 
observer onsubscribe disposable empty boolean errorthrown false for string s valuestoreturn if s null system out println throwing exception observer onerror new nullpointerexception errorthrown true else observer onnext s if errorthrown observer oncomplete 
observer onsubscribe disposable empty t new thread new runnable override public void run for string s valuestoreturn if s null system out println throwing exception try thread sleep 100 catch throwable e observer onerror new nullpointerexception return else observer onnext s system out println subscription complete observer oncomplete t start 
testobserverex integer to new testobserverex observable mergedelayerror observable just observable just 1 observable just 2 startwithitem observable integer error new runtimeexception subscribe to to awaitdone 5 timeunit seconds to assertterminated to assertvalues 1 2 assertequals 1 to errors size 
for int i 0 i 50 i final o1 new final o2 new observable observable string parentobservable observable unsafecreate new observablesource observable string override public void subscribe observer super observable string op op onsubscribe disposable empty op onnext observable unsafecreate o1 op onnext observable unsafecreate o2 op onerror new nullpointerexception throwing exception in parent observer string stringobserver testhelper mockobserver testobserverex string to new testobserverex stringobserver observable string m observable mergedelayerror parentobservable m subscribe to system out println i to awaitdone 2000 timeunit milliseconds to assertterminated verify stringobserver times 2 onnext hello verify stringobserver times 1 onerror any nullpointerexception class verify stringobserver never oncomplete 
observable mergedelayerror arrays aslist observable just 1 observable just 2 test assertresult 1 2 
observable mergearraydelayerror observable just 1 observable just 2 test assertresult 1 2 
observable mergedelayerror arrays aslist observable just 1 concatwith observable integer error new testexception observable just 2 test assertfailure testexception class 1 2 
observable mergedelayerror observable just observable just 1 observable just 2 test assertresult 1 2 
observable mergedelayerror observable just observable just 1 concatwith observable integer error new testexception observable just 2 test assertfailure testexception class 1 2 
observable mergedelayerror observable just observable just 1 observable just 2 1 test assertresult 1 2 
observable mergedelayerror observable just observable just 1 concatwith observable integer error new testexception observable just 2 1 test assertfailure testexception class 1 2 
observable mergedelayerror arrays aslist observable just 1 observable just 2 1 test assertresult 1 2 
observable mergedelayerror arrays aslist observable just 1 concatwith observable integer error new testexception observable just 2 1 test assertfailure testexception class 1 2 
observable mergedelayerror observable just 1 observable just 2 observable just 3 test assertresult 1 2 3 
observable mergedelayerror observable just 1 observable just 2 concatwith observable integer error new testexception observable just 3 test assertfailure testexception class 1 2 3 
final testobserver integer to new testobserver observable range 1 5 concatwith single just 100 subscribe to to assertresult 1 2 3 4 5 100 
final testobserver integer to new testobserver observable integer error new testexception concatwith single just 100 subscribe to to assertfailure testexception class 
final testobserver integer to new testobserver observable range 1 5 concatwith single integer error new testexception subscribe to to assertfailure testexception class 1 2 3 4 5 
final testobserver integer to new testobserver observable range 1 5 concatwith single just 100 take 3 subscribe to to assertresult 1 2 3 
singlesubject object other singlesubject create testobserver object to observable empty concatwith other test asserttrue other hasobservers to dispose assertfalse other hasobservers 
new observable integer override protected void subscribeactual observer super integer observer disposable bs1 disposable empty observer onsubscribe bs1 assertfalse disposable observer isdisposed observer onnext 1 asserttrue disposable observer isdisposed asserttrue bs1 isdisposed concatwith single just 100 take 1 test assertresult 1 
new observable integer override protected void subscribeactual observer super integer observer disposable bs1 disposable empty observer onsubscribe bs1 disposable bs2 disposable empty observer onsubscribe bs2 assertfalse bs1 isdisposed asserttrue bs2 isdisposed observer oncomplete concatwith single integer just 100 test assertresult 100 
flowable empty concatwith new single integer override protected void subscribeactual singleobserver super integer observer disposable bs1 disposable empty observer onsubscribe bs1 disposable bs2 disposable empty observer onsubscribe bs2 assertfalse bs1 isdisposed asserttrue bs2 isdisposed observer onsuccess 100 test assertresult 100 
uieventloopscheduler uieventloop new uieventloopscheduler try final threadsubscription subscription new threadsubscription final atomicreference thread subscribethread new atomicreference observable integer w observable unsafecreate new observablesource integer override public void subscribe observer super integer t1 subscribethread set thread currentthread t1 onsubscribe subscription t1 onnext 1 t1 onnext 2 testobserverex integer observer new testobserverex w subscribeon uieventloop observeon schedulers computation unsubscribeon uieventloop take 2 subscribe observer observer awaitdone 5 timeunit seconds thread unsubscribethread subscription getthread assertnotnull unsubscribethread assertnotsame thread currentthread unsubscribethread assertnotnull subscribethread get assertnotsame thread currentthread subscribethread get system out println unsubscribethread unsubscribethread system out println subscribethread get subscribethread get assertsame unsubscribethread tostring unsubscribethread uieventloop getthread observer assertvalues 1 2 observer assertterminated finally uieventloop shutdown 
uieventloopscheduler uieventloop new uieventloopscheduler try final threadsubscription subscription new threadsubscription final atomicreference thread subscribethread new atomicreference observable integer w observable unsafecreate new observablesource integer override public void subscribe observer super integer t1 subscribethread set thread currentthread t1 onsubscribe subscription t1 onnext 1 t1 onnext 2 testobserverex integer observer new testobserverex w subscribeon schedulers newthread observeon schedulers computation unsubscribeon uieventloop take 2 subscribe observer observer awaitdone 1 timeunit seconds thread unsubscribethread subscription getthread assertnotnull unsubscribethread assertnotsame thread currentthread unsubscribethread assertnotnull subscribethread get assertnotsame thread currentthread subscribethread get system out println ui thread uieventloop getthread system out println unsubscribethread unsubscribethread system out println subscribethread get subscribethread get assertsame unsubscribethread uieventloop getthread observer assertvalues 1 2 observer assertterminated finally uieventloop shutdown 
set true system out println unsubscribe invoked thread currentthread thread thread currentthread latch countdown 
return get 
latch await return thread 
return eventloop createworker 
return t 
testhelper checkdisposed observable just 1 unsubscribeon schedulers single 
final int calls 0 observable just 1 doondispose new action override public void run throws exception calls 0 unsubscribeon schedulers single test assertresult 1 assertequals 0 calls 0 
final int calls 0 observable error new testexception doondispose new action override public void run throws exception calls 0 unsubscribeon schedulers single test assertfailure testexception class assertequals 0 calls 0 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onnext 1 observer onnext 2 observer onerror new testexception observer oncomplete unsubscribeon schedulers single take 1 test assertresult 1 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
testhelper o o unsubscribeon instance 
w testhelper mockobserver wo testhelper mocksingleobserver wm testhelper mockmaybeobserver 
observable string src observable empty src first default toobservable subscribe w verify w times 1 onnext anystring verify w times 1 onnext default verify w never onerror any throwable class verify w times 1 oncomplete 
observable string src observable just a b c src first default toobservable subscribe w verify w times 1 onnext anystring verify w times 1 onnext a verify w never onerror any throwable class verify w times 1 oncomplete 
observable string src observable just a b c src filter is d first default toobservable subscribe w verify w times 1 onnext anystring verify w times 1 onnext default verify w never onerror any throwable class verify w times 1 oncomplete 
observable string src observable just a b c d e f src filter is d first default toobservable subscribe w verify w times 1 onnext anystring verify w times 1 onnext d verify w never onerror any throwable class verify w times 1 oncomplete 
observable integer o observable just 1 2 3 firstelement toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext 1 inorder verify observer times 1 oncomplete inorder 
observable integer o observable just 1 firstelement toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext 1 inorder verify observer times 1 oncomplete inorder 
observable integer o observable integer empty firstelement toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer oncomplete inorder verify observer never onerror any throwable class inorder 
observable integer o observable just 1 2 3 4 5 6 filter new predicate integer override public boolean test integer t1 return t1 2 0 firstelement toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext 2 inorder verify observer times 1 oncomplete inorder 
observable integer o observable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 firstelement toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext 2 inorder verify observer times 1 oncomplete inorder 
observable integer o observable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 firstelement toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer oncomplete inorder verify observer never onerror any throwable class inorder 
observable integer o observable just 1 2 3 first 4 toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext 1 inorder verify observer times 1 oncomplete inorder 
observable integer o observable just 1 first 2 toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext 1 inorder verify observer times 1 oncomplete inorder 
observable integer o observable integer empty first 1 toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext 1 inorder verify observer times 1 oncomplete inorder 
observable integer o observable just 1 2 3 4 5 6 filter new predicate integer override public boolean test integer t1 return t1 2 0 first 8 toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext 2 inorder verify observer times 1 oncomplete inorder 
observable integer o observable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 first 4 toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext 2 inorder verify observer times 1 oncomplete inorder 
observable integer o observable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 first 2 toobservable observer integer observer testhelper mockobserver o subscribe observer inorder inorder inorder observer inorder verify observer times 1 onnext 2 inorder verify observer times 1 oncomplete inorder 
observable string src observable empty src first default subscribe wo verify wo times 1 onsuccess anystring verify wo times 1 onsuccess default verify wo never onerror any throwable class 
observable string src observable just a b c src first default subscribe wo verify wo times 1 onsuccess anystring verify wo times 1 onsuccess a verify wo never onerror any throwable class 
observable string src observable just a b c src filter is d first default subscribe wo verify wo times 1 onsuccess anystring verify wo times 1 onsuccess default verify wo never onerror any throwable class 
observable string src observable just a b c d e f src filter is d first default subscribe wo verify wo times 1 onsuccess anystring verify wo times 1 onsuccess d verify wo never onerror any throwable class 
maybe integer o observable just 1 2 3 firstelement o subscribe wm inorder inorder inorder wm inorder verify wm times 1 onsuccess 1 inorder 
maybe integer o observable just 1 firstelement o subscribe wm inorder inorder inorder wm inorder verify wm times 1 onsuccess 1 inorder 
maybe integer o observable integer empty firstelement o subscribe wm inorder inorder inorder wm inorder verify wm times 1 oncomplete inorder verify wm never onerror any throwable class inorder 
maybe integer o observable just 1 2 3 4 5 6 filter new predicate integer override public boolean test integer t1 return t1 2 0 firstelement o subscribe wm inorder inorder inorder wm inorder verify wm times 1 onsuccess 2 inorder 
maybe integer o observable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 firstelement o subscribe wm inorder inorder inorder wm inorder verify wm times 1 onsuccess 2 inorder 
maybe integer o observable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 firstelement o subscribe wm inorder inorder inorder wm inorder verify wm times 1 oncomplete inorder verify wm never onerror any throwable class inorder 
single integer o observable just 1 2 3 first 4 o subscribe wo inorder inorder inorder wo inorder verify wo times 1 onsuccess 1 inorder 
single integer o observable just 1 first 2 o subscribe wo inorder inorder inorder wo inorder verify wo times 1 onsuccess 1 inorder 
single integer o observable integer empty first 1 o subscribe wo inorder inorder inorder wo inorder verify wo times 1 onsuccess 1 inorder 
single integer o observable just 1 2 3 4 5 6 filter new predicate integer override public boolean test integer t1 return t1 2 0 first 8 o subscribe wo inorder inorder inorder wo inorder verify wo times 1 onsuccess 2 inorder 
single integer o observable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 first 4 o subscribe wo inorder inorder inorder wo inorder verify wo times 1 onsuccess 2 inorder 
single integer o observable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 first 2 o subscribe wo inorder inorder inorder wo inorder verify wo times 1 onsuccess 2 inorder 
observable empty firstorerror test assertnovalues asserterror class 
observable just 1 firstorerror test assertnoerrors assertvalue 1 
observable just 1 2 3 firstorerror test assertnoerrors assertvalue 1 
observable error new runtimeexception error firstorerror to testhelper testconsumer assertnovalues asserterrormessage error asserterror runtimeexception class 
observable empty firstorerror toobservable test assertnovalues asserterror class 
observable just 1 firstorerror toobservable test assertnoerrors assertvalue 1 
observable just 1 2 3 firstorerror toobservable test assertnoerrors assertvalue 1 
observable error new runtimeexception error firstorerror toobservable to testhelper testconsumer assertnovalues asserterrormessage error asserterror runtimeexception class 
supplier object func mock supplier class when func get thenreturn new object observable object observable fromsupplier func verifynointeractions func subscribe verify func get 
supplier string func mock supplier class when func get thenreturn test value observable string observable fromsupplier func observer object observer testhelper mockobserver subscribe observer verify observer onnext test value verify observer oncomplete verify observer never onerror any throwable class 
supplier object func mock supplier class throwable throwable new test exception when func get thenthrow throwable observable object observable fromsupplier func observer object observer testhelper mockobserver subscribe observer verify observer never onnext any verify observer never oncomplete verify observer onerror throwable 
supplier string func mock supplier class final countdownlatch funclatch new countdownlatch 1 final countdownlatch observerlatch new countdownlatch 1 when func get thenanswer new answer string override public string answer invocationonmock invocation throws throwable observerlatch countdown try funclatch await catch interruptedexception e thread currentthread interrupt return should not be delivered observable string observable fromsupplier func observer object observer testhelper mockobserver testobserver string outer new testobserver observer subscribeon schedulers computation subscribe outer observerlatch await outer dispose funclatch countdown verify func get verify observer onsubscribe any disposable class observer 
final exception checkedexception new exception test exception observable object observable fromsupplier new supplier object override public object get throws exception throw checkedexception observer object observer testhelper mockobserver subscribe observer verify observer onsubscribe any disposable class verify observer onerror checkedexception observer 
final int calls 0 observable just 1 flatmap new function integer observablesource extends object override public observablesource extends object apply integer v throws exception return observable fromsupplier new supplier object override public object get throws exception return calls 0 test assertresult 1 assertequals 1 calls 0 
final int calls 0 observable just 1 hide flatmap new function integer observablesource extends object override public observablesource extends object apply integer v throws exception return observable fromsupplier new supplier object override public object get throws exception return calls 0 test assertresult 1 assertequals 1 calls 0 
observable just 1 flatmap new function integer observablesource extends object override public observablesource extends object apply integer v throws exception return observable fromsupplier new supplier object override public object get throws exception return null test assertfailure nullpointerexception class 
observable just 1 hide flatmap new function integer observablesource extends object override public observablesource extends object apply integer v throws exception return observable fromsupplier new supplier object override public object get throws exception return null test assertfailure nullpointerexception class 
final int count 0 observable fromsupplier new supplier object override public object get throws exception count 0 return 1 test true assertempty assertequals 0 count 0 
final testobserver integer to new testobserver observable fromsupplier new supplier integer override public integer get throws exception to dispose return 1 subscribe to to assertempty 
list throwable errors testhelper trackpluginerrors try final testobserver integer to new testobserver observable fromsupplier new supplier integer override public integer get throws exception to dispose throw new testexception subscribe to to assertempty testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
observable fromsupplier new supplier object override public object get throws exception return 1 take 1 test assertresult 1 
observablecache integer source new observablecache observable range 0 1000 16 assertfalse source is connected source isconnected testobserverex integer to new testobserverex source subscribe to asserttrue source is not connected source isconnected assertfalse subscribers retained source hasobservers to assertnoerrors to assertterminated list integer onnextevents to values assertequals 1000 onnextevents size for int i 0 i 1000 i assertequals integer i onnextevents get i 
final atomicinteger counter new atomicinteger observable string o observable unsafecreate new observablesource string override public void subscribe final observer super string observer observer onsubscribe disposable empty new thread new runnable override public void run counter incrementandget system out println published observable being executed observer onnext one observer oncomplete start cache final countdownlatch latch new countdownlatch 2 o subscribe new consumer string override public void accept string v assertequals one v system out println v v latch countdown o subscribe new consumer string override public void accept string v assertequals one v system out println v v latch countdown if latch await 1000 timeunit milliseconds fail subscriptions did not receive values assertequals 1 counter get 
action unsubscribe mock action class observable integer o observable just 1 doondispose unsubscribe cache o subscribe o subscribe o subscribe verify unsubscribe never run 
testobserver integer to new testobserver observablecache integer cached new observablecache observable range 1 1000 16 cached take 10 subscribe to to assertnoerrors to assertcomplete to assertvalues 1 2 3 4 5 6 7 8 9 10 assertfalse cached hasobservers 
observable integer source observable range 1 for int i 0 i 100 i testobserver integer to1 new testobserver observablecache integer cached new observablecache source 16 cached observeon schedulers computation subscribe to1 to1 awaitdone 2 timeunit seconds to1 assertnoerrors to1 assertcomplete assertequals to1 values size testobserver integer to2 new testobserver cached observeon schedulers computation subscribe to2 to2 awaitdone 2 timeunit seconds to2 assertnoerrors to2 assertcomplete assertequals to2 values size 
observable long source observable interval 1 1 timeunit milliseconds take 1000 subscribeon schedulers io observablecache long cached new observablecache source 16 observable long output cached observeon schedulers computation list testobserver long list new arraylist 100 for int i 0 i 100 i testobserver long to new testobserver list add to output skip i 10 take 10 subscribe to list long expected new arraylist for int i 0 i 10 i expected add long i 10 int j 0 for testobserver long to list to awaitdone 3 timeunit seconds to assertnoerrors to assertcomplete for int i j 10 i j 10 10 i expected set i j 10 long i to assertvaluesequence expected j 
final int m 4 1000 1000 observable integer firehose observable unsafecreate new observablesource integer override public void subscribe observer super integer t t onsubscribe disposable empty for int i 0 i m i t onnext i t oncomplete testobserver integer to new testobserver firehose cache observeon schedulers computation takelast 100 subscribe to to awaitdone 3 timeunit seconds to assertnoerrors to assertcomplete assertequals 100 to values size 
observable integer source observable range 1 10 concatwith observable integer error new testexception cache testobserver integer to new testobserver source subscribe to to assertvalues 1 2 3 4 5 6 7 8 9 10 to assertnotcomplete to asserterror testexception class testobserver integer to2 new testobserver source subscribe to2 to2 assertvalues 1 2 3 4 5 6 7 8 9 10 to2 assertnotcomplete to2 asserterror testexception class 
publishsubject integer ps publishsubject create observablecache integer cache observablecache integer observable range 1 5 concatwith ps cache assertfalse cache hasobservers assertequals 0 cache cachedeventcount testobserver integer to cache test asserttrue cache hasobservers assertequals 5 cache cachedeventcount ps oncomplete to assertresult 1 2 3 4 5 
observable range 1 5 cache test true assertempty 
observable integer o publishsubject integer create cache o test o test true assertempty 
testhelper checkdisposed observable range 1 5 cache 
observable integer cache observable range 1 5 cache cache take 2 test assertresult 1 2 cache take 3 test assertresult 1 2 3 
for int i 0 i testhelper race default loops i final publishsubject integer ps publishsubject integer create final observable integer cache ps cache cache test final testobserverex integer to new testobserverex runnable r1 new runnable override public void run cache subscribe to runnable r2 new runnable override public void run for int j 0 j 500 j ps onnext j ps oncomplete testhelper race r1 r2 to awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 500 assertcomplete assertnoerrors 
final atomicinteger call new atomicinteger observable object f observable fromcallable new callable object override public object call throws exception return call incrementandget concatwith observable never cache f test assertvaluesonly 1 f test true assertempty assertequals 1 call get 
for int i 0 i testhelper race default loops i observable object o observable never cache testobserver object to o test testhelper race to dispose o test 
publishsubject integer source publishsubject create integer co source replay 3 true co connect observer object observer1 testhelper mockobserver inorder inorder inorder observer1 co subscribe observer1 source onnext 1 source onnext 2 source onnext 3 inorder verify observer1 times 1 onnext 1 inorder verify observer1 times 1 onnext 2 inorder verify observer1 times 1 onnext 3 source onnext 4 source oncomplete inorder verify observer1 times 1 onnext 4 inorder verify observer1 times 1 oncomplete inorder verify observer1 never onerror any throwable class observer object observer1 testhelper mockobserver inorder inorder inorder observer1 co subscribe observer1 inorder verify observer1 times 1 onnext 2 inorder verify observer1 times 1 onnext 3 inorder verify observer1 times 1 onnext 4 inorder verify observer1 times 1 oncomplete inorder verify observer1 never onerror any throwable class 
publishsubject integer source publishsubject create testscheduler scheduler new testscheduler integer co source replay 3 100 timeunit milliseconds scheduler true co connect observer object observer1 testhelper mockobserver inorder inorder inorder observer1 co subscribe observer1 source onnext 1 scheduler advancetimeby 10 timeunit milliseconds source onnext 2 scheduler advancetimeby 10 timeunit milliseconds source onnext 3 scheduler advancetimeby 10 timeunit milliseconds inorder verify observer1 times 1 onnext 1 inorder verify observer1 times 1 onnext 2 inorder verify observer1 times 1 onnext 3 source onnext 4 source onnext 5 scheduler advancetimeby 90 timeunit milliseconds inorder verify observer1 times 1 onnext 4 inorder verify observer1 times 1 onnext 5 inorder verify observer1 never onerror any throwable class observer object observer1 testhelper mockobserver inorder inorder inorder observer1 co subscribe observer1 inorder verify observer1 times 1 onnext 4 inorder verify observer1 times 1 onnext 5 inorder verify observer1 never onerror any throwable class 
testscheduler scheduler new testscheduler publishsubject integer source publishsubject create integer co source replay 100 timeunit milliseconds scheduler true co connect observer object observer1 testhelper mockobserver inorder inorder inorder observer1 co subscribe observer1 source onnext 1 scheduler advancetimeby 60 timeunit milliseconds source onnext 2 scheduler advancetimeby 60 timeunit milliseconds source onnext 3 scheduler advancetimeby 60 timeunit milliseconds source oncomplete scheduler advancetimeby 60 timeunit milliseconds inorder verify observer1 times 1 onnext 1 inorder verify observer1 times 1 onnext 2 inorder verify observer1 times 1 onnext 3 inorder verify observer1 times 1 oncomplete inorder verify observer1 never onerror any throwable class observer object observer1 testhelper mockobserver inorder inorder inorder observer1 co subscribe observer1 inorder verify observer1 never onnext 3 inorder verify observer1 times 1 oncomplete inorder verify observer1 never onerror any throwable class 
final function integer integer dbl new function integer integer override public integer apply integer t1 return t1 2 function observable integer observable integer selector new function observable integer observable integer override public observable integer apply observable integer t1 return t1 map dbl publishsubject integer source publishsubject create observable integer co source replay selector observer object observer1 testhelper mockobserver inorder inorder inorder observer1 co subscribe observer1 source onnext 1 source onnext 2 source onnext 3 inorder verify observer1 times 1 onnext 2 inorder verify observer1 times 1 onnext 4 inorder verify observer1 times 1 onnext 6 source onnext 4 source oncomplete inorder verify observer1 times 1 onnext 8 inorder verify observer1 times 1 oncomplete inorder verify observer1 never onerror any throwable class observer object observer1 testhelper mockobserver inorder inorder inorder observer1 co subscribe observer1 inorder verify observer1 times 1 oncomplete inorder verify observer1 never onerror any throwable class 
final function integer integer dbl new function integer integer override public integer apply integer t1 return t1 2 function observable integer observable integer selector new function observable integer observable integer override public observable integer apply observable integer t1 return t1 map dbl publishsubject integer source publishsubject create observable integer co source replay selector 3 observer object observer1 testhelper mockobserver inorder inorder inorder observer1 co subscribe observer1 source onnext 1 source onnext 2 source onnext 3 inorder verify observer1 times 1 onnext 2 inorder verify observer1 times 1 onnext 4 inorder verify observer1 times 1 onnext 6 source onnext 4 source oncomplete inorder verify observer1 times 1 onnext 8 inorder verify observer1 times 1 oncomplete inorder verify observer1 never onerror any throwable class observer object observer1 testhelper mockobserver inorder inorder inorder observer1 co subscribe observer1 inorder verify observer1 times 1 oncomplete inorder verify observer1 never onerror any throwable class 
final function integer integer dbl new function integer integer override public integer apply integer t1 return t1 2 function observable integer observable integer selector new function observable integer observable integer override public observable integer apply observable integer t1 return t1 map dbl testscheduler scheduler new testscheduler publishsubject integer source publishsubject create observable integer co source replay selector 100 timeunit milliseconds scheduler observer object observer1 testhelper mockobserver inorder inorder inorder observer1 co subscribe observer1 source onnext 1 scheduler advancetimeby 60 timeunit milliseconds source onnext 2 scheduler advancetimeby 60 timeunit milliseconds source onnext 3 scheduler advancetimeby 60 timeunit milliseconds source oncomplete scheduler advancetimeby 60 timeunit milliseconds inorder verify observer1 times 1 onnext 2 inorder verify observer1 times 1 onnext 4 inorder verify observer1 times 1 onnext 6 inorder verify observer1 times 1 oncomplete inorder verify observer1 never onerror any throwable class observer object observer1 testhelper mockobserver inorder inorder inorder observer1 co subscribe observer1 inorder verify observer1 times 1 oncomplete inorder verify observer1 never onerror any throwable class 
publishsubject integer source publishsubject create integer co source replay 3 true co connect observer object observer1 testhelper mockobserver inorder inorder inorder observer1 co subscribe observer1 source onnext 1 source onnext 2 source onnext 3 inorder verify observer1 times 1 onnext 1 inorder verify observer1 times 1 onnext 2 inorder verify observer1 times 1 onnext 3 source onnext 4 source onerror new runtimeexception forced failure inorder verify observer1 times 1 onnext 4 inorder verify observer1 times 1 onerror any runtimeexception class inorder verify observer1 never oncomplete observer object observer1 testhelper mockobserver inorder inorder inorder observer1 co subscribe observer1 inorder verify observer1 times 1 onnext 2 inorder verify observer1 times 1 onnext 3 inorder verify observer1 times 1 onnext 4 inorder verify observer1 times 1 onerror any runtimeexception class inorder verify observer1 never oncomplete 
testscheduler scheduler new testscheduler publishsubject integer source publishsubject create integer co source replay 100 timeunit milliseconds scheduler true co connect observer object observer1 testhelper mockobserver inorder inorder inorder observer1 co subscribe observer1 source onnext 1 scheduler advancetimeby 60 timeunit milliseconds source onnext 2 scheduler advancetimeby 60 timeunit milliseconds source onnext 3 scheduler advancetimeby 60 timeunit milliseconds source onerror new runtimeexception forced failure scheduler advancetimeby 60 timeunit milliseconds inorder verify observer1 times 1 onnext 1 inorder verify observer1 times 1 onnext 2 inorder verify observer1 times 1 onnext 3 inorder verify observer1 times 1 onerror any runtimeexception class inorder verify observer1 never oncomplete observer object observer1 testhelper mockobserver inorder inorder inorder observer1 co subscribe observer1 inorder verify observer1 never onnext 3 inorder verify observer1 times 1 onerror any runtimeexception class inorder verify observer1 never oncomplete 
final atomicinteger effectcounter new atomicinteger observable integer source observable just 1 2 3 4 doonnext new consumer integer override public void accept integer v effectcounter incrementandget system out println sideeffect v observable integer result source replay new function observable integer observable integer override public observable integer apply observable integer o return o take 2 for int i 1 i 3 i effectcounter set 0 system out printf d n i result subscribe new consumer integer override public void accept integer t1 system out println t1 new consumer throwable override public void accept throwable t1 t1 printstacktrace new action override public void run system out println done assertequals 2 effectcounter get 
consumer integer sourcenext mock consumer class action sourcecompleted mock action class action sourceunsubscribed mock action class observer integer testhelper mockobserver observer integer testhelper mockobserver observable integer source observable just 1 2 integer replay source doonnext sourcenext doondispose sourceunsubscribed dooncomplete sourcecompleted replay replay subscribe replay subscribe replay connect replay subscribe replay subscribe verify times 2 onsubscribe disposable any verify times 2 onsubscribe disposable any verify sourcenext times 1 accept 1 verify sourcenext times 1 accept 2 verify sourcecompleted times 1 run verifyobservermock 2 4 verifyobservermock 2 4 sourcenext sourcecompleted sourceunsubscribed 
consumer integer sourcenext mock consumer class action sourcecompleted mock action class action sourceunsubscribed mock action class final testscheduler mockscheduler new testscheduler observer integer testhelper mockobserver observer integer testhelper mockobserver integer replay observable just 1 2 3 doonnext sourcenext doondispose sourceunsubscribed dooncomplete sourcecompleted subscribeon mockscheduler replay replay subscribe replay connect replay subscribe verify onsubscribe disposable any verify onsubscribe disposable any mockscheduler advancetimeby 1 timeunit seconds verify sourcenext times 1 accept 1 verify sourcenext times 1 accept 2 verify sourcenext times 1 accept 3 verify sourcecompleted times 1 run verifyobservermock 1 3 verifyobservermock 1 3 sourcenext sourcecompleted sourceunsubscribed 
consumer integer sourcenext mock consumer class action sourcecompleted mock action class consumer throwable sourceerror mock consumer class action sourceunsubscribed mock action class final testscheduler mockscheduler new testscheduler observer integer testhelper mockobserver observer integer testhelper mockobserver function integer integer mockfunc mock function class new when mockfunc apply 1 thenreturn 1 when mockfunc apply 2 thenthrow integer replay observable just 1 2 3 map mockfunc doonnext sourcenext doondispose sourceunsubscribed dooncomplete sourcecompleted doonerror sourceerror subscribeon mockscheduler replay replay subscribe replay connect replay subscribe verify onsubscribe disposable any verify onsubscribe disposable any mockscheduler advancetimeby 1 timeunit seconds verify sourcenext times 1 accept 1 verify sourceerror times 1 accept verifyobserver 1 1 verifyobserver 1 1 sourcenext sourcecompleted sourceerror sourceunsubscribed 
return spy new inprocessworker mockdisposable 
action run return mockdisposable 
unsubscribed true 
return unsubscribed 
boundedreplaybuffer integer buf new boundedreplaybuffer integer false private static final long serialversionuid override void truncate buf addlast new node 1 buf addlast new node 2 buf addlast new node 3 buf addlast new node 4 buf addlast new node 5 list integer values new arraylist buf collect values assert assertequals arrays aslist 1 2 3 4 5 values buf removesome 2 buf removefirst buf removesome 2 values clear buf collect values assert asserttrue values isempty buf addlast new node 5 buf addlast new node 6 buf collect values assert assertequals arrays aslist 5 6 values 
testscheduler test new testscheduler integer buf new 2 2000 timeunit milliseconds test false list integer values new arraylist buf next 1 test advancetimeby 1 timeunit seconds buf next 2 test advancetimeby 1 timeunit seconds buf collect values assert assertequals arrays aslist 2 values buf next 3 buf next 4 values clear buf collect values assert assertequals arrays aslist 3 4 values test advancetimeby 2 timeunit seconds buf next 5 values clear buf collect values assert assertequals arrays aslist 5 values assert assertfalse buf hascompleted test advancetimeby 2 timeunit seconds buf complete values clear buf collect values assert asserttrue values isempty assert assertequals 1 buf size assert asserttrue buf hascompleted assert assertfalse buf haserror 
testscheduler test new testscheduler integer buf new 2 2000 timeunit milliseconds test false assert assertfalse buf hascompleted assert assertfalse buf haserror list integer values new arraylist buf next 1 test advancetimeby 1 timeunit seconds buf next 2 test advancetimeby 1 timeunit seconds buf collect values assert assertequals arrays aslist 2 values buf next 3 buf next 4 values clear buf collect values assert assertequals arrays aslist 3 4 values test advancetimeby 2 timeunit seconds buf next 5 values clear buf collect values assert assertequals arrays aslist 5 values assert assertfalse buf hascompleted assert assertfalse buf haserror test advancetimeby 2 timeunit seconds buf error new testexception values clear buf collect values assert asserttrue values isempty assert assertequals 1 buf size assert assertfalse buf hascompleted assert asserttrue buf haserror 
integer buf new 2 false list integer values new arraylist buf next 1 buf next 2 buf collect values assert assertequals arrays aslist 1 2 values buf next 3 buf next 4 values clear buf collect values assert assertequals arrays aslist 3 4 values buf next 5 values clear buf collect values assert assertequals arrays aslist 4 5 values assert assertfalse buf hascompleted buf complete values clear buf collect values assert assertequals arrays aslist 4 5 values assert assertequals 3 buf size assert asserttrue buf hascompleted assert assertfalse buf haserror 
observable integer source observable range 0 1000 replay autoconnect testobserverex integer to new testobserverex source subscribe to to assertnoerrors to assertterminated list integer onnextevents to values assertequals 1000 onnextevents size for int i 0 i 1000 i assertequals integer i onnextevents get i 
final atomicinteger counter new atomicinteger observable string o observable unsafecreate new observablesource string override public void subscribe final observer super string observer observer onsubscribe disposable empty new thread new runnable override public void run counter incrementandget system out println published observable being executed observer onnext one observer oncomplete start replay autoconnect final countdownlatch latch new countdownlatch 2 o subscribe new consumer string override public void accept string v assertequals one v system out println v v latch countdown o subscribe new consumer string override public void accept string v assertequals one v system out println v v latch countdown if latch await 1000 timeunit milliseconds fail subscriptions did not receive values assertequals 1 counter get 
action unsubscribe mock action class observable integer o observable just 1 doondispose unsubscribe replay autoconnect o subscribe o subscribe o subscribe verify unsubscribe never run 
testobserverex integer to new testobserverex observable integer cached observable range 1 100 replay autoconnect cached take 10 subscribe to to assertnoerrors to assertterminated to assertvalues 1 2 3 4 5 6 7 8 9 10 
observable integer source observable range 1 for int i 0 i 100 i testobserverex integer to1 new testobserverex observable integer cached source replay autoconnect cached observeon schedulers computation subscribe to1 to1 awaitdone 2 timeunit seconds to1 assertnoerrors to1 assertterminated assertequals to1 values size testobserverex integer to2 new testobserverex cached observeon schedulers computation subscribe to2 to2 awaitdone 2 timeunit seconds to2 assertnoerrors to2 assertterminated assertequals to2 values size 
observable long source observable interval 1 1 timeunit milliseconds take 1000 subscribeon schedulers io observable long cached source replay autoconnect observable long output cached observeon schedulers computation list testobserverex long list new arraylist 100 for int i 0 i 100 i testobserverex long to new testobserverex list add to output skip i 10 take 10 subscribe to list long expected new arraylist for int i 0 i 10 i expected add long i 10 int j 0 for testobserverex long to list to awaitdone 3 timeunit seconds to assertnoerrors to assertterminated for int i j 10 i j 10 10 i expected set i j 10 long i to assertvaluesequence expected j 
final int m 4 1000 1000 observable integer firehose observable unsafecreate new observablesource integer override public void subscribe observer super integer t t onsubscribe disposable empty for int i 0 i m i t onnext i t oncomplete testobserverex integer to new testobserverex firehose replay autoconnect observeon schedulers computation takelast 100 subscribe to to awaitdone 3 timeunit seconds to assertnoerrors to assertterminated assertequals 100 to values size 
observable integer source observable range 1 10 concatwith observable integer error new testexception replay autoconnect testobserverex integer to new testobserverex source subscribe to to assertvalues 1 2 3 4 5 6 7 8 9 10 to assertnotcomplete assert assertequals 1 to errors size testobserverex integer to2 new testobserverex source subscribe to2 to2 assertvalues 1 2 3 4 5 6 7 8 9 10 to2 assertnotcomplete assert assertequals 1 to2 errors size 
observable just 1 replay 1 timeunit minutes schedulers computation true autoconnect test awaitdone 5 timeunit seconds assertresult 1 
observable just 1 replay 1 1 timeunit milliseconds schedulers computation true autoconnect test awaitdone 5 timeunit seconds assertresult 1 
observable just 1 replay functions observable integer identity 1 timeunit minutes test awaitdone 5 timeunit seconds assertresult 1 
observable range 1 2 replay integer max value true autoconnect test assertresult 1 2 
observable integer source observable range 1 3 assertsame source source replay source 
for int i 0 i testhelper race default loops i final integer co observable range 1 3 replay runnable r new runnable override public void run co connect testhelper race r r 
for int i 0 i testhelper race default loops i final integer co observable range 1 3 replay final testobserver integer to1 new testobserver final testobserver integer to2 new testobserver runnable r1 new runnable override public void run co subscribe to1 runnable r2 new runnable override public void run co subscribe to2 testhelper race r1 r2 
for int i 0 i testhelper race default loops i final integer co observable range 1 3 replay final testobserver integer to1 new testobserver final testobserver integer to2 new testobserver co subscribe to1 runnable r1 new runnable override public void run to1 dispose runnable r2 new runnable override public void run co subscribe to2 testhelper race r1 r2 
observable range 1 2 replay integer max value true autoconnect test true assertempty 
integer co publishsubject integer create replay integer max value true co test co autoconnect test true assertempty 
integer co observable range 1 2 replay try co connect new consumer disposable override public void accept disposable t throws exception throw new testexception fail should have thrown catch testexception ex co test assertempty dispose co connect co test assertresult 1 2 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onerror new testexception first observer onnext 1 observer onerror new testexception second observer oncomplete replay autoconnect to testhelper integer testconsumer testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
for int i 0 i testhelper race default loops i final publishsubject integer ps publishsubject create final integer co ps replay final testobserver integer to1 new testobserver runnable r1 new runnable override public void run co subscribe to1 runnable r2 new runnable override public void run for int j 0 j 1000 j ps onnext j testhelper race r1 r2 
for int i 0 i testhelper race default loops i final publishsubject integer ps publishsubject create final integer co ps replay final testobserver integer to1 new testobserver co subscribe to1 runnable r1 new runnable override public void run to1 dispose runnable r2 new runnable override public void run for int j 0 j 1000 j ps onnext j testhelper race r1 r2 
for int i 0 i testhelper race default loops i final integer co observable range 1 1000 replay final testobserver integer to1 new testobserver co connect runnable r1 new runnable override public void run co subscribe to1 runnable r2 new runnable override public void run to1 dispose testhelper race r1 r2 
final publishsubject integer ps publishsubject create testobserver integer to new testobserver integer override public void onnext integer t if t 1 ps onnext 2 ps oncomplete super onnext t ps replay autoconnect subscribe to ps onnext 1 to assertresult 1 2 
final publishsubject integer ps publishsubject create testobserver integer to new testobserver integer override public void onnext integer t if t 1 ps onnext 2 ps oncomplete super onnext t ps replay 10 true autoconnect subscribe to ps onnext 1 to assertresult 1 2 
final publishsubject integer ps publishsubject create testobserver integer to new testobserver integer override public void onnext integer t if t 1 ps onnext 2 dispose super onnext t ps replay autoconnect subscribe to ps onnext 1 to assertvalues 1 
final publishsubject integer ps publishsubject create testobserver integer to new testobserver integer override public void onnext integer t if t 1 ps onnext 2 dispose super onnext t ps replay 10 true autoconnect subscribe to ps onnext 1 to assertvalues 1 
final observer sub null new observable integer override protected void subscribeactual observer super integer observer sub 0 observer replay connect dispose disposable bs disposable empty sub 0 onsubscribe bs asserttrue bs isdisposed 
testscheduler scheduler new testscheduler observable integer source observable just 1 replay 2 timeunit seconds scheduler true autoconnect source test assertresult 1 source test assertresult 1 scheduler advancetimeby 3 timeunit seconds source test assertresult 
observable just 1 replay new function observable integer observable object override public observable object apply observable integer v throws exception return null to testhelper object testconsumer nullpointerexception class the selector returned a null observablesource 
observablereplay multicastselector functions justsupplier integer null functions justfunction observable just 1 to testhelper integer testconsumer nullpointerexception class the connectablefactory returned a null 
publishsubject integer source publishsubject create observablereplay integer co observablereplay integer source replay 1 true co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 source onnext 2 source oncomplete assertnull buf get value object o buf get buf trimhead assertsame o buf get 
publishsubject integer source publishsubject create observablereplay integer co observablereplay integer source replay 1 true co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 source onnext 2 source onerror new testexception assertnull buf get value object o buf get buf trimhead assertsame o buf get 
publishsubject integer source publishsubject create observablereplay integer co observablereplay integer source replay 1 true co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 source onnext 2 assertnull buf get value buf trimhead assertnull buf get value object o buf get buf trimhead assertsame o buf get 
publishsubject integer source publishsubject create observablereplay integer co observablereplay integer source replay 1 timeunit minutes schedulers computation true co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 source onnext 2 source oncomplete assertnull buf get value object o buf get buf trimhead assertsame o buf get 
publishsubject integer source publishsubject create observablereplay integer co observablereplay integer source replay 1 timeunit minutes schedulers computation true co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 source onnext 2 source onerror new testexception assertnull buf get value object o buf get buf trimhead assertsame o buf get 
testscheduler sch new testscheduler publishsubject integer source publishsubject create observablereplay integer co observablereplay integer source replay 1 timeunit milliseconds sch true co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 sch advancetimeby 2 timeunit milliseconds source onnext 2 assertnull buf get value buf trimhead assertnull buf get value object o buf get buf trimhead assertsame o buf get 
observable byte source observable range 1 200 map new function integer byte override public byte apply integer v throws exception return new byte 1024 1024 replay new function observable byte observable byte override public observable byte apply final observable byte o throws exception return o take 1 concatmap new function byte observable byte override public observable byte apply byte v throws exception return o 1 takelast 1 system out println bounded replay leak check wait before gc thread sleep 1000 system out println bounded replay leak check gc system gc thread sleep 500 final memorymxbean memorymxbean managementfactory getmemorymxbean memoryusage memheap memorymxbean getheapmemoryusage long initial memheap getused system out printf bounded replay leak check starting 3f mb n initial 1024 0 1024 0 final atomiclong after new atomiclong source subscribe new consumer byte override public void accept byte v throws exception system out println bounded replay leak check wait before gc 2 thread sleep 1000 system out println bounded replay leak check gc 2 system gc thread sleep 500 after set memorymxbean getheapmemoryusage getused system out printf bounded replay leak check after 3f mb n after get 1024 0 1024 0 if initial 100 1024 1024 after get assert fail bounded replay leak check memory leak detected initial 1024 0 1024 0 after get 1024 0 1024 0 
publishsubject int ps publishsubject create int co ps replay 1 true testobserver int to co test co connect thread sleep 200 system gc thread sleep 200 final memorymxbean memorymxbean managementfactory getmemorymxbean long initial memorymxbean getheapmemoryusage getused system out printf bounded replay leak check starting 3f mb n initial 1024 0 1024 0 ps onnext new int 100 1024 1024 to assertvaluecount 1 to values clear ps onnext new int 0 thread sleep 200 system gc thread sleep 200 long after memorymxbean getheapmemoryusage getused to dispose system out printf bounded replay leak check after 3f mb n after 1024 0 1024 0 if initial 100 1024 1024 after assert fail bounded replay leak check memory leak detected initial 1024 0 1024 0 after 1024 0 1024 0 
publishsubject int ps publishsubject create testscheduler scheduler new testscheduler int co ps replay 1 timeunit seconds scheduler true testobserver int to co test co connect thread sleep 200 system gc thread sleep 200 final memorymxbean memorymxbean managementfactory getmemorymxbean long initial memorymxbean getheapmemoryusage getused system out printf bounded replay leak check starting 3f mb n initial 1024 0 1024 0 ps onnext new int 100 1024 1024 to assertvaluecount 1 to values clear scheduler advancetimeby 2 timeunit seconds ps onnext new int 0 thread sleep 200 system gc thread sleep 200 long after memorymxbean getheapmemoryusage getused to dispose system out printf bounded replay leak check after 3f mb n after 1024 0 1024 0 if initial 100 1024 1024 after assert fail bounded replay leak check memory leak detected initial 1024 0 1024 0 after 1024 0 1024 0 
publishsubject int ps publishsubject create testscheduler scheduler new testscheduler int co ps replay 1 5 timeunit seconds scheduler true testobserver int to co test co connect thread sleep 200 system gc thread sleep 200 final memorymxbean memorymxbean managementfactory getmemorymxbean long initial memorymxbean getheapmemoryusage getused system out printf bounded replay leak check starting 3f mb n initial 1024 0 1024 0 ps onnext new int 100 1024 1024 to assertvaluecount 1 to values clear scheduler advancetimeby 2 timeunit seconds ps onnext new int 0 thread sleep 200 system gc thread sleep 200 long after memorymxbean getheapmemoryusage getused to dispose system out printf bounded replay leak check after 3f mb n after 1024 0 1024 0 if initial 100 1024 1024 after assert fail bounded replay leak check memory leak detected initial 1024 0 1024 0 after 1024 0 1024 0 
publishsubject int ps publishsubject create observable int co ps replay functions observable int identity 1 true testobserver int to co test thread sleep 200 system gc thread sleep 200 final memorymxbean memorymxbean managementfactory getmemorymxbean long initial memorymxbean getheapmemoryusage getused system out printf bounded replay leak check starting 3f mb n initial 1024 0 1024 0 ps onnext new int 100 1024 1024 to assertvaluecount 1 to values clear ps onnext new int 0 thread sleep 200 system gc thread sleep 200 long after memorymxbean getheapmemoryusage getused to dispose system out printf bounded replay leak check after 3f mb n after 1024 0 1024 0 if initial 100 1024 1024 after assert fail bounded replay leak check memory leak detected initial 1024 0 1024 0 after 1024 0 1024 0 
publishsubject int ps publishsubject create testscheduler scheduler new testscheduler observable int co ps replay functions observable int identity 1 timeunit seconds scheduler true testobserver int to co test thread sleep 200 system gc thread sleep 200 final memorymxbean memorymxbean managementfactory getmemorymxbean long initial memorymxbean getheapmemoryusage getused system out printf bounded replay leak check starting 3f mb n initial 1024 0 1024 0 ps onnext new int 100 1024 1024 to assertvaluecount 1 to values clear scheduler advancetimeby 2 timeunit seconds ps onnext new int 0 thread sleep 200 system gc thread sleep 200 long after memorymxbean getheapmemoryusage getused to dispose system out printf bounded replay leak check after 3f mb n after 1024 0 1024 0 if initial 100 1024 1024 after assert fail bounded replay leak check memory leak detected initial 1024 0 1024 0 after 1024 0 1024 0 
publishsubject int ps publishsubject create testscheduler scheduler new testscheduler observable int co ps replay functions observable int identity 1 5 timeunit seconds scheduler true testobserver int to co test thread sleep 200 system gc thread sleep 200 final memorymxbean memorymxbean managementfactory getmemorymxbean long initial memorymxbean getheapmemoryusage getused system out printf bounded replay leak check starting 3f mb n initial 1024 0 1024 0 ps onnext new int 100 1024 1024 to assertvaluecount 1 to values clear scheduler advancetimeby 2 timeunit seconds ps onnext new int 0 thread sleep 200 system gc thread sleep 200 long after memorymxbean getheapmemoryusage getused to dispose system out printf bounded replay leak check after 3f mb n after 1024 0 1024 0 if initial 100 1024 1024 after assert fail bounded replay leak check memory leak detected initial 1024 0 1024 0 after 1024 0 1024 0 
observable just 1 replay 1 1 timeunit seconds new true autoconnect test assertcomplete assertnoerrors 
publishsubject integer ps publishsubject create integer co ps replay 10 true testobserver integer to co test disposable d co connect ps onnext 1 d dispose to co test to assertempty co connect to assertempty ps onnext 2 to assertvaluesonly 2 
publishsubject integer ps publishsubject create integer co ps replay 10 timeunit minutes schedulers single true testobserver integer to co test disposable d co connect ps onnext 1 d dispose to co test to assertempty co connect to assertempty ps onnext 2 to assertvaluesonly 2 
publishsubject integer ps publishsubject create integer co ps replay 10 10 timeunit minutes schedulers single true testobserver integer to co test disposable d co connect ps onnext 1 d dispose to co test to assertempty co connect to assertempty ps onnext 2 to assertvaluesonly 2 
calls 
observable just 1 dofinally this test assertresult 1 assertequals 1 calls 
observable empty dofinally this test assertresult assertequals 1 calls 
observable error new testexception dofinally this test assertfailure testexception class assertequals 1 calls 
observable range 1 10 dofinally this take 5 test assertresult 1 2 3 4 5 assertequals 1 calls 
testhelper new function observable object observable object override public observable object apply observable object f throws exception return f dofinally this testhelper new function observable object observable object override public observable object apply observable object f throws exception return f dofinally this filter functions alwaystrue 
testobserverex integer to new testobserverex queuefuseable sync observable range 1 5 dofinally this subscribe to to assertfusionmode queuefuseable sync assertresult 1 2 3 4 5 assertequals 1 calls 
testobserverex integer to new testobserverex queuefuseable sync queuefuseable boundary observable range 1 5 dofinally this subscribe to to assertfusionmode queuefuseable none assertresult 1 2 3 4 5 assertequals 1 calls 
testobserverex integer to new testobserverex queuefuseable async unicastsubject integer us unicastsubject create testhelper emit us 1 2 3 4 5 us dofinally this subscribe to to assertfusionmode queuefuseable async assertresult 1 2 3 4 5 assertequals 1 calls 
testobserverex integer to new testobserverex queuefuseable async queuefuseable boundary unicastsubject integer us unicastsubject create testhelper emit us 1 2 3 4 5 us dofinally this subscribe to to assertfusionmode queuefuseable none assertresult 1 2 3 4 5 assertequals 1 calls 
observable just 1 dofinally this filter functions alwaystrue test assertresult 1 assertequals 1 calls 
observable empty dofinally this filter functions alwaystrue test assertresult assertequals 1 calls 
observable error new testexception dofinally this filter functions alwaystrue test assertfailure testexception class assertequals 1 calls 
observable range 1 10 dofinally this filter functions alwaystrue take 5 test assertresult 1 2 3 4 5 assertequals 1 calls 
testobserverex integer to new testobserverex queuefuseable sync observable range 1 5 dofinally this filter functions alwaystrue subscribe to to assertfusionmode queuefuseable sync assertresult 1 2 3 4 5 assertequals 1 calls 
testobserverex integer to new testobserverex queuefuseable sync observable range 1 5 hide dofinally this subscribe to to assertfusionmode queuefuseable none assertresult 1 2 3 4 5 assertequals 1 calls 
testobserverex integer to new testobserverex queuefuseable sync observable range 1 5 hide dofinally this filter functions alwaystrue subscribe to to assertfusionmode queuefuseable none assertresult 1 2 3 4 5 assertequals 1 calls 
testobserverex integer to new testobserverex queuefuseable sync queuefuseable boundary observable range 1 5 dofinally this filter functions alwaystrue subscribe to to assertfusionmode queuefuseable none assertresult 1 2 3 4 5 assertequals 1 calls 
testobserverex integer to new testobserverex queuefuseable async unicastsubject integer us unicastsubject create testhelper emit us 1 2 3 4 5 us dofinally this filter functions alwaystrue subscribe to to assertfusionmode queuefuseable async assertresult 1 2 3 4 5 assertequals 1 calls 
testobserverex integer to new testobserverex queuefuseable async queuefuseable boundary unicastsubject integer us unicastsubject create testhelper emit us 1 2 3 4 5 us dofinally this filter functions alwaystrue subscribe to to assertfusionmode queuefuseable none assertresult 1 2 3 4 5 assertequals 1 calls 
list throwable errors testhelper trackpluginerrors try observable just 1 dofinally new action override public void run throws exception throw new testexception test assertresult 1 dispose testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try observable just 1 dofinally new action override public void run throws exception throw new testexception filter functions alwaystrue test assertresult 1 dispose testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
observable range 1 5 dofinally this subscribe new observer integer override public void onsubscribe disposable d suppresswarnings unchecked queuedisposable integer qd queuedisposable integer d qd requestfusion queuefuseable any assertfalse qd isempty try assertequals 1 qd poll intvalue catch throwable ex throw new runtimeexception ex assertfalse qd isempty qd clear asserttrue qd isempty qd dispose override public void onnext integer t override public void onerror throwable t override public void oncomplete assertequals 1 calls 
observable range 1 5 dofinally this filter functions alwaystrue subscribe new observer integer override public void onsubscribe disposable d suppresswarnings unchecked queuedisposable integer qd queuedisposable integer d qd requestfusion queuefuseable any assertfalse qd isempty assertfalse qd isdisposed try assertequals 1 qd poll intvalue catch throwable ex throw new runtimeexception ex assertfalse qd isempty qd clear asserttrue qd isempty qd dispose asserttrue qd isdisposed override public void onnext integer t override public void onerror throwable t override public void oncomplete assertequals 1 calls 
final list string list new arraylist observable error new testexception doondispose new action override public void run throws exception list add dispose dofinally new action override public void run throws exception list add finally subscribe new consumer object override public void accept object v throws exception list add onnext new consumer throwable override public void accept throwable e throws exception list add onerror new action override public void run throws exception list add oncomplete assertequals arrays aslist onerror finally list 
final list string list new arraylist observable just 1 doondispose new action override public void run throws exception list add dispose dofinally new action override public void run throws exception list add finally subscribe new consumer object override public void accept object v throws exception list add onnext new consumer throwable override public void accept throwable e throws exception list add onerror new action override public void run throws exception list add oncomplete assertequals arrays aslist onnext oncomplete finally list 
testobserverex object to new testobserverex to setinitialfusionmode queuefuseable any testhelper dofinally subscribewith to to assertfuseable assertfusionmode queuefuseable none 
publishsubject integer src publishsubject create observable integer dst src hide assertfalse dst instanceof publishsubject observer object o testhelper mockobserver dst subscribe o src onnext 1 src oncomplete verify o onnext 1 verify o oncomplete verify o never onerror any throwable class 
publishsubject integer src publishsubject create observable integer dst src hide assertfalse dst instanceof publishsubject observer object o testhelper mockobserver dst subscribe o src onerror new testexception verify o never onnext any verify o never oncomplete verify o onerror any testexception class 
testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return o hide 
testhelper checkdisposed publishsubject create hide 
observer long observer testhelper mockobserver observable rangelong 2 3 subscribe observer verify observer times 1 onnext 2l verify observer times 1 onnext 3l verify observer times 1 onnext 4l verify observer never onnext 5l verify observer never onerror any throwable class verify observer times 1 oncomplete 
observer long observer testhelper mockobserver final atomicinteger count new atomicinteger observable rangelong 1 1000 doonnext new consumer long override public void accept long t1 count incrementandget take 3 subscribe observer verify observer times 1 onnext 1l verify observer times 1 onnext 2l verify observer times 1 onnext 3l verify observer never onnext 4l verify observer never onerror any throwable class verify observer times 1 oncomplete assertequals 3 count get 
observable rangelong 1l 0l 
observable rangelong long max value 0l 
observable rangelong 1l long max value 
observable rangelong 2l long max value 
assertfalse observable rangelong long min value 0 blockingiterable iterator hasnext 
arraylist long list new arraylist flowable buffersize 2 for long i 1 i flowable buffersize 2 1 i list add i observable long o observable rangelong 1 list size testobserverex long to new testobserverex o subscribe to to assertvaluesequence list to assertterminated 
final atomicboolean completed new atomicboolean false observable rangelong 1l 0l subscribe new defaultobserver long override public void onstart override public void oncomplete completed set true override public void onerror throwable e override public void onnext long t asserttrue completed get 
testobserver long to new testobserver observable rangelong long max value 1l 2l subscribe to to assertcomplete to assertnoerrors to assertvalues long max value 1 long max value 
try observable rangelong 1l 1l fail should have thrown catch ex assertequals count 0 required but it was 1 ex getmessage 
observable rangelong 1l test assertresult 
observable rangelong long max value 1 2 observable rangelong long min value 2 observable rangelong long min value long max value 
testobserverex long to new testobserverex queuefuseable any observable rangelong 1 2 subscribe to to assertfusionmode queuefuseable sync assertresult 1l 2l 
testobserverex long to new testobserverex queuefuseable async observable rangelong 1 2 subscribe to to assertfusionmode queuefuseable none assertresult 1l 2l 
testhelper checkdisposed observable rangelong 1 2 
testhelper observable rangelong 1 2 
testhelper checkdisposed publishsubject create flatmapiterable new function object iterable integer override public iterable integer apply object v throws exception return arrays aslist 10 20 
testhelper new function observable integer object override public object apply observable integer o throws exception return o flatmapiterable new function object iterable integer override public iterable integer apply object v throws exception return arrays aslist 10 20 false 1 1 10 20 
final atomicinteger counter new atomicinteger observable range 1 5 doonnext new consumer integer override public void accept integer v throws exception counter getandincrement flatmapiterable new function integer iterable integer override public iterable integer apply integer v throws exception return new iterable integer override public iterator integer iterator return new iterator integer override public boolean hasnext return true override public integer next throw new testexception override public void remove throw new test assertfailure testexception class assertequals 1 counter get 
testhelper o o flatmapiterable v collections singletonlist v 
final atomicboolean subscribed new atomicboolean false final observable integer o observable just 4 switchifempty observable just 2 doonsubscribe new consumer disposable override public void accept disposable d subscribed set true assertequals 4 o blockingsingle intvalue assertfalse subscribed get 
final observable integer o observable integer empty switchifempty observable fromiterable arrays aslist 42 assertequals 42 o blockingsingle intvalue 
final disposable d disposable empty observable long withproducer observable unsafecreate new observablesource long override public void subscribe final observer super long observer observer onsubscribe d observer onnext 42l observable long empty switchifempty withproducer lift new observableoperator long long override public observer super long apply final observer super long child return new defaultobserver long override public void oncomplete override public void onerror throwable e override public void onnext long along cancel subscribe asserttrue d isdisposed 
final disposable d disposable empty observable unsafecreate new observablesource long override public void subscribe final observer super long observer observer onsubscribe d observer oncomplete switchifempty observable long never subscribe asserttrue d isdisposed 
observable range 1 observeon schedulers single map new function integer string override public string apply integer t throws exception string name thread currentthread getname if name contains rxsinglescheduler return rxsinglescheduler return name concatmap new function string observablesource extends object override public observablesource extends object apply string v throws exception return observable just v 2 instance observeon schedulers computation distinct test awaitdone 5 timeunit seconds assertresult rxsinglescheduler 
observable range 1 observeon schedulers single map new function integer string override public string apply integer t throws exception string name thread currentthread getname if name contains rxsinglescheduler return rxsinglescheduler return name concatmapdelayerror new function string observablesource extends object override public observablesource extends object apply string v throws exception return observable just v true 2 instance observeon schedulers computation distinct test awaitdone 5 timeunit seconds assertresult rxsinglescheduler 
observable just 1 map new function integer integer override public integer apply integer v throws exception throw new testexception compose testhelper integer concatmap new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable just v 2 instance test assertfailure testexception class 
observable just 1 map new function integer integer override public integer apply integer v throws exception throw new testexception compose testhelper integer concatmapdelayerror new function integer observablesource integer override public observablesource integer apply integer v throws exception return observable just v true 2 instance test assertfailure testexception class 
final atomicinteger counter new atomicinteger observable range 1 5 concatmap new function integer observable integer override public observable integer apply integer v throws exception return observable just v doondispose new action override public void run throws exception counter getandincrement 2 instance test assertresult 1 2 3 4 5 assertequals 0 counter get 
observable just 1 2 3 101 102 23 890 120 32 concatmapdelayerror new function integer observable integer override public observable integer apply final integer integer throws exception return observable fromcallable new callable integer override public integer call throws exception if integer 100 throw new nullpointerexception test null exp return integer true 2 instance test assertfailure compositeexception class 1 2 3 23 32 
observable just 1 2 3 101 102 23 890 120 32 concatmapdelayerror new function integer observable integer override public observable integer apply final integer integer throws exception return observable fromcallable new callable integer override public integer call throws exception if integer 100 throw new nullpointerexception test null exp return integer false 2 instance test assertfailure nullpointerexception class 1 2 3 
testobserver string to observable just 1 concatmap new function integer observable string override public observable string apply integer t throws throwable return observable just thread currentthread getname 2 schedulers single test awaitdone 5 timeunit seconds assertvaluecount 1 assertnoerrors assertcomplete asserttrue to values tostring to values get 0 startswith rxsinglescheduler 
testobserver string to observable just 1 concatmap new function integer observable string override public observable string apply integer t throws throwable return observable just thread currentthread getname hide 2 schedulers single test awaitdone 5 timeunit seconds assertvaluecount 1 assertnoerrors assertcomplete asserttrue to values tostring to values get 0 startswith rxsinglescheduler 
testobserver string to observable just 1 concatmapdelayerror new function integer observable string override public observable string apply integer t throws throwable return observable just thread currentthread getname false 2 schedulers single test awaitdone 5 timeunit seconds assertvaluecount 1 assertnoerrors assertcomplete asserttrue to values tostring to values get 0 startswith rxsinglescheduler 
testobserver string to observable just 1 concatmapdelayerror new function integer observable string override public observable string apply integer t throws throwable return observable just thread currentthread getname hide false 2 schedulers single test awaitdone 5 timeunit seconds assertvaluecount 1 assertnoerrors assertcomplete asserttrue to values tostring to values get 0 startswith rxsinglescheduler 
testobserver string to observable just 1 concatmapdelayerror new function integer observable string override public observable string apply integer t throws throwable return observable just thread currentthread getname true 2 schedulers single test awaitdone 5 timeunit seconds assertvaluecount 1 assertnoerrors assertcomplete asserttrue to values tostring to values get 0 startswith rxsinglescheduler 
testobserver string to observable just 1 concatmapdelayerror new function integer observable string override public observable string apply integer t throws throwable return observable just thread currentthread getname hide true 2 schedulers single test awaitdone 5 timeunit seconds assertvaluecount 1 assertnoerrors assertcomplete asserttrue to values tostring to values get 0 startswith rxsinglescheduler 
final executorservice executor executors newfixedthreadpool 2 final scheduler sch schedulers from executor function integer observable integer func new function integer observable integer override public observable integer apply integer t observable integer flowable observable just t subscribeon sch subject integer processor unicastsubject create flowable subscribe processor return processor int n 5000 final atomicinteger counter new atomicinteger observable range 1 n concatmap func 2 instance subscribe new defaultobserver integer override public void onnext integer t try thread sleep 1 catch interruptedexception e if counter getandincrement 100 0 system out print system out println counter get override public void oncomplete executor shutdown override public void onerror throwable e executor shutdown long 100 000 if executor awaittermination timeunit milliseconds throw new timeoutexception completed counter get n before timed out after milliseconds assertequals n counter get 
final long durationseconds 2 final long starttime system currenttimemillis for int i 0 i if system currenttimemillis starttime timeunit seconds tomillis durationseconds return if i 1000 0 system out println i testobserverex integer to new testobserverex observable range 0 1000 concatmap new function integer observable integer override public observable integer apply integer t return observable fromiterable arrays aslist t 2 instance observeon schedulers computation subscribe to to awaitdone 2500 timeunit milliseconds to assertterminated to assertnoerrors assertequals 1000 to values size assertequals integer 999 to values get 999 
for int i 2 i 10 i observable integer obs new observable i arrays fill obs observable just 1 integer expected new integer i arrays fill expected 1 method m observable class getmethod concatarray observablesource class testobserver integer to testobserver create observable integer m invoke null new object obs subscribe to to assertvalues expected to assertnoerrors to assertcomplete 
testobserver integer to testobserver create observable just observable just 1 concatmap function functions identity 2 instance subscribe to to assertvalue 1 to assertnoerrors to assertcomplete 
testobserver integer to testobserver create observable just observable range 1 5 concatmap function functions identity 2 instance subscribe to to assertvalues 1 2 3 4 5 to assertnoerrors to assertcomplete 
testobserver integer to testobserver create observable just observable just 1 concatmapdelayerror function functions identity true 2 instance subscribe to to assertvalue 1 to assertnoerrors to assertcomplete 
testobserver integer to testobserver create observable just observable range 1 5 concatmapdelayerror function functions identity true 2 instance subscribe to to assertvalues 1 2 3 4 5 to assertnoerrors to assertcomplete 
for int i 2 i 10 i object obs new object i arrays fill obs 1 integer expected new integer i arrays fill expected 1 method m observable class getmethod startwitharray object class testobserver integer to testobserver create observable integer m invoke observable empty new object obs subscribe to to assertvalues expected to assertnoerrors to assertcomplete 
return true 
return count 
$EMPTY$
return this 
observable just observable just 1 observable just 2 concatmapdelayerror functions observable integer identity true 2 instance test assertresult 1 2 
observable just 0 concatmapdelayerror new function object observable integer override public observable integer apply object v throws exception return observable just 1 true 16 instance test assertresult 1 
observable just 0 hide concatmap new function object observable integer override public observable integer apply object v throws exception return observable just 1 16 instance test assertresult 1 
observable just 0 hide concatmapdelayerror new function object observable integer override public observable integer apply object v throws exception return observable just 1 false 16 instance test assertresult 1 
observable just 1 hide concatmap functions justfunction observable empty 2 instance test assertresult 
observable just 1 hide concatmapdelayerror functions justfunction observable empty true 2 instance test assertresult 
testhelper new function observable object observablesource integer override public observablesource integer apply observable object f throws exception return f concatmap functions justfunction observable just 2 2 instance testhelper new function observable object observablesource integer override public observablesource integer apply observable object f throws exception return f concatmapdelayerror functions justfunction observable just 2 true 2 instance 
final publishsubject integer ps publishsubject create final testobserverex integer to new testobserverex integer override public void onnext integer t super onnext t if t 1 ps onerror new testexception first ps concatmap functions justfunction observable just 1 2 instance subscribe to ps onnext 1 assertfalse ps hasobservers to testexception class first 1 
final publishsubject integer ps publishsubject create final testobserverex integer to new testobserverex integer override public void onnext integer t super onnext t if t 1 ps onerror new testexception first ps concatmap functions justfunction observable just 1 hide 2 instance subscribe to ps onnext 1 assertfalse ps hasobservers to testexception class first 1 
observable just 1 hide concatmap functions justfunction observable error new testexception 2 instance test assertfailure testexception class 
observable just 1 hide concatmapdelayerror functions justfunction observable error new testexception true 2 instance test assertfailure testexception class 
testhelper new function observable integer object override public object apply observable integer f throws exception return f concatmap functions justfunction observable just 1 hide 2 instance true 1 1 1 
suppresswarnings rawtypes final observer ts0 null testobserverex integer to observable just 1 hide concatmap functions justfunction new observable integer override protected void subscribeactual observer super integer o ts0 0 o o onsubscribe disposable empty o onerror new testexception first 2 instance to testhelper integer testconsumer to testexception class first list throwable errors testhelper trackpluginerrors try ts0 0 onerror new testexception second testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
ts0 0 o o onsubscribe disposable empty o onerror new testexception first 
suppresswarnings rawtypes final observer ts0 null testobserverex integer to observable just 1 hide concatmapdelayerror functions justfunction new observable integer override protected void subscribeactual observer super integer o ts0 0 o o onsubscribe disposable empty o onerror new testexception first true 2 instance to testhelper integer testconsumer to testexception class first list throwable errors testhelper trackpluginerrors try ts0 0 onerror new testexception second testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
testhelper new function observable integer object override public object apply observable integer f throws exception return f concatmapdelayerror functions justfunction observable just 1 hide true 2 instance true 1 1 1 
observable range 1 2 map new function integer object override public object apply integer v throws exception throw new testexception concatmap functions justfunction observable just 1 2 instance test assertfailure testexception class 
observable range 1 2 map new function integer object override public object apply integer v throws exception throw new testexception concatmapdelayerror functions justfunction observable just 1 true 2 instance test assertfailure testexception class 
observable just 1 hide concatmap functions justfunction observable fromcallable new callable object override public object call throws exception throw new testexception 2 instance test assertfailure testexception class 
observable just 1 hide concatmapdelayerror functions justfunction observable fromcallable new callable object override public object call throws exception throw new testexception true 2 instance test assertfailure testexception class 
testhelper checkdisposed observable range 1 2 concatmap functions justfunction observable just 1 2 instance testhelper checkdisposed observable range 1 2 concatmapdelayerror functions justfunction observable just 1 true 2 instance 
observable range 1 2 concatmapdelayerror functions justfunction observable error new testexception false 16 instance test assertfailure testexception class 
observable error new testexception concatmapdelayerror functions justfunction observable just 2 false 16 instance test assertfailure testexception class 
observable range 1 2 concatmap new function integer observablesource object override public observablesource object apply integer v throws exception throw new testexception 2 instance test assertfailure testexception class 
publishsubject integer source publishsubject create testobserver integer to testobserver create source concatmapdelayerror new function integer observable integer override public observable integer apply integer v return observable range v 2 true 2 instance subscribe to source onnext 1 source onnext 2 source onerror new testexception to assertvalues 1 2 2 3 to asserterror testexception class to assertnotcomplete 
final observable integer inner observable range 1 2 concatwith observable integer error new testexception testobserver integer to testobserver create observable range 1 3 concatmapdelayerror new function integer observable integer override public observable integer apply integer v return inner true 2 instance subscribe to to assertvalues 1 2 1 2 1 2 to asserterror compositeexception class to assertnotcomplete 
final observable integer inner observable range 1 2 concatwith observable integer error new testexception testobserver integer to testobserver create observable just 1 hide concatmapdelayerror new function integer observable integer override public observable integer apply integer v return inner true 2 instance subscribe to to assertvalues 1 2 to asserterror testexception class to assertnotcomplete 
testobserver integer to testobserver create observable just 1 hide concatmapdelayerror new function integer observable integer override public observable integer apply integer v return null true 2 instance subscribe to to assertnovalues to asserterror nullpointerexception class to assertnotcomplete 
testobserver integer to testobserver create observable just 1 hide concatmapdelayerror new function integer observable integer override public observable integer apply integer v throw new testexception true 2 instance subscribe to to assertnovalues to asserterror testexception class to assertnotcomplete 
testobserver integer to testobserver create observable range 1 3 concatmapdelayerror new function integer observable integer override public observable integer apply integer v return v 2 observable integer empty observable range 1 2 true 2 instance subscribe to to assertvalues 1 2 1 2 to assertnoerrors to assertcomplete 
testobserver integer to testobserver create observable range 1 3 concatmapdelayerror new function integer observable integer override public observable integer apply integer v return v 2 observable just 3 observable range 1 2 true 2 instance subscribe to to assertvalues 1 2 3 1 2 to assertnoerrors to assertcomplete 
testobserver string to observable range 1 1000 hide observeon schedulers computation concatmap new function integer observable string override public observable string apply integer t throws throwable return observable just thread currentthread getname repeat 1000 observeon schedulers io 2 schedulers single distinct test awaitdone 5 timeunit seconds assertvaluecount 1 assertnoerrors assertcomplete asserttrue to values tostring to values get 0 startswith rxsinglescheduler 
testobserver string to observable range 1 1000 hide observeon schedulers computation concatmapdelayerror new function integer observable string override public observable string apply integer t throws throwable return observable just thread currentthread getname repeat 1000 observeon schedulers io false 2 schedulers single distinct test awaitdone 5 timeunit seconds assertvaluecount 1 assertnoerrors assertcomplete asserttrue to values tostring to values get 0 startswith rxsinglescheduler 
testobserver string to observable range 1 1000 hide observeon schedulers computation concatmapdelayerror new function integer observable string override public observable string apply integer t throws throwable return observable just thread currentthread getname repeat 1000 observeon schedulers io true 2 schedulers single distinct test awaitdone 5 timeunit seconds assertvaluecount 1 assertnoerrors assertcomplete asserttrue to values tostring to values get 0 startswith rxsinglescheduler 
testhelper new observableconverter integer observable integer override public observable integer apply observable integer upstream return upstream concatmap new function integer observable integer override public observable integer apply integer v throws throwable return observable just v hide 2 instance 
testhelper new observableconverter integer observable integer override public observable integer apply observable integer upstream return upstream concatmapdelayerror new function integer observable integer override public observable integer apply integer v throws throwable return observable just v hide false 2 instance 
testhelper new observableconverter integer observable integer override public observable integer apply observable integer upstream return upstream concatmapdelayerror new function integer observable integer override public observable integer apply integer v throws throwable return observable just v hide true 2 instance 
testobserverex object to new testobserverex testhelper concatmap v observable never 2 instance subscribe to 
testobserverex object to new testobserverex testhelper concatmapdelayerror v observable never true 2 instance subscribe to 
testobserver integer to new testobserver observable just 1 hide concatmapdelayerror v observable fromcallable to dispose return 1 true 2 instance subscribe to to assertempty 
to dispose return null 
testobserver object to new testobserver observable just 1 hide concatmapdelayerror v new to true 2 instance subscribe to to assertempty 
scheduler new testscheduler innerscheduler scheduler createworker observer testhelper mockobserver observer2 testhelper mockobserver 
observable long source observable unsafecreate new observablesource long override public void subscribe final observer super long observer1 observer1 onsubscribe disposable empty innerscheduler schedule new runnable override public void run observer1 onnext 1l 1 timeunit seconds innerscheduler schedule new runnable override public void run observer1 onnext 2l 2 timeunit seconds innerscheduler schedule new runnable override public void run observer1 oncomplete 3 timeunit seconds observable long sampled source sample 400l timeunit milliseconds scheduler sampled subscribe observer inorder inorder inorder observer scheduler advancetimeto 800l timeunit milliseconds verify observer never onnext any long class verify observer never oncomplete verify observer never onerror any throwable class scheduler advancetimeto 1200l timeunit milliseconds inorder verify observer times 1 onnext 1l verify observer never onnext 2l verify observer never oncomplete verify observer never onerror any throwable class scheduler advancetimeto 1600l timeunit milliseconds inorder verify observer never onnext 1l verify observer never onnext 2l verify observer never oncomplete verify observer never onerror any throwable class scheduler advancetimeto 2000l timeunit milliseconds inorder verify observer never onnext 1l inorder verify observer times 1 onnext 2l verify observer never oncomplete verify observer never onerror any throwable class scheduler advancetimeto 3000l timeunit milliseconds inorder verify observer never onnext 1l inorder verify observer never onnext 2l verify observer times 1 oncomplete verify observer never onerror any throwable class 
publishsubject integer source publishsubject create publishsubject integer sampler publishsubject create observable integer m source sample sampler m subscribe observer2 source onnext 1 source onnext 2 sampler onnext 1 source onnext 3 source onnext 4 sampler onnext 2 source oncomplete sampler onnext 3 inorder inorder inorder observer2 inorder verify observer2 never onnext 1 inorder verify observer2 times 1 onnext 2 inorder verify observer2 never onnext 3 inorder verify observer2 times 1 onnext 4 inorder verify observer2 times 1 oncomplete verify observer never onerror any throwable class 
publishsubject integer source publishsubject create publishsubject integer sampler publishsubject create observable integer m source sample sampler m subscribe observer2 source onnext 1 source onnext 2 sampler onnext 1 sampler onnext 1 source onnext 3 source onnext 4 sampler onnext 2 sampler onnext 2 source oncomplete sampler onnext 3 inorder inorder inorder observer2 inorder verify observer2 never onnext 1 inorder verify observer2 times 1 onnext 2 inorder verify observer2 never onnext 3 inorder verify observer2 times 1 onnext 4 inorder verify observer2 times 1 oncomplete verify observer never onerror any throwable class 
publishsubject integer source publishsubject create publishsubject integer sampler publishsubject create observable integer m source sample sampler m subscribe observer2 source onnext 1 source onnext 2 sampler onnext 1 sampler oncomplete source onnext 3 source onnext 4 inorder inorder inorder observer2 inorder verify observer2 never onnext 1 inorder verify observer2 times 1 onnext 2 inorder verify observer2 times 1 oncomplete inorder verify observer2 never onnext any verify observer never onerror any throwable class 
publishsubject integer source publishsubject create publishsubject integer sampler publishsubject create observable integer m source sample sampler m subscribe observer2 source onnext 1 source onnext 2 sampler onnext 1 source onnext 3 source oncomplete sampler onnext 2 sampler oncomplete inorder inorder inorder observer2 inorder verify observer2 never onnext 1 inorder verify observer2 times 1 onnext 2 inorder verify observer2 never onnext 3 inorder verify observer2 times 1 oncomplete inorder verify observer2 never onnext any verify observer never onerror any throwable class 
publishsubject integer source publishsubject create publishsubject integer sampler publishsubject create observable integer m source sample sampler m subscribe observer2 source oncomplete sampler onnext 1 inorder inorder inorder observer2 inorder verify observer2 times 1 oncomplete verify observer2 never onnext any verify observer never onerror any throwable class 
publishsubject integer source publishsubject create publishsubject integer sampler publishsubject create observable integer m source sample sampler m subscribe observer2 source onnext 1 source onerror new runtimeexception forced failure sampler onnext 1 inorder inorder inorder observer2 inorder verify observer2 times 1 onerror any throwable class verify observer2 never onnext any verify observer never oncomplete 
publishsubject integer source publishsubject create publishsubject integer sampler publishsubject create observable integer m source sample sampler m subscribe observer2 source onnext 1 sampler onnext 1 sampler onerror new runtimeexception forced failure inorder inorder inorder observer2 inorder verify observer2 times 1 onnext 1 inorder verify observer2 times 1 onerror any runtimeexception class verify observer never oncomplete 
final disposable upstream mock disposable class observable integer o observable unsafecreate new observablesource integer override public void subscribe observer super integer observer observer onsubscribe upstream o throttlelast 1 timeunit milliseconds subscribe dispose verify upstream dispose 
testhelper checkdisposed publishsubject create sample 1 timeunit seconds new testscheduler testhelper checkdisposed publishsubject create sample observable never 
observable error new testexception sample 1 timeunit seconds test assertfailure testexception class 
observable just 1 sample 1 timeunit days true test assertresult 1 
observable empty sample 1 timeunit days true test assertresult 
observable just 1 sample 1 timeunit days schedulers single true test assertresult 1 
for int i 0 i testhelper race default loops i final testscheduler scheduler new testscheduler final publishsubject integer ps publishsubject create testobserver integer to ps sample 1 timeunit seconds scheduler true test ps onnext 1 runnable r1 new runnable override public void run ps oncomplete runnable r2 new runnable override public void run scheduler advancetimeby 1 timeunit seconds testhelper race r1 r2 to assertresult 1 
observable just 1 sample observable timer 1 timeunit days true test assertresult 1 
observable empty sample observable timer 1 timeunit days true test assertresult 
for int i 0 i testhelper race default loops i final publishsubject integer ps publishsubject create final publishsubject integer sampler publishsubject create testobserver integer to ps sample sampler true test ps onnext 1 runnable r1 new runnable override public void run ps oncomplete runnable r2 new runnable override public void run sampler onnext 1 testhelper race r1 r2 to assertresult 1 
for int i 0 i testhelper race default loops i final publishsubject integer ps publishsubject create final publishsubject integer sampler publishsubject create testobserver integer to ps sample sampler true test ps onnext 1 runnable r1 new runnable override public void run ps oncomplete runnable r2 new runnable override public void run sampler oncomplete testhelper race r1 r2 to assertresult 1 
testhelper new function observable object observable object override public observable object apply observable object o throws exception return o sample 1 timeunit seconds 
testhelper o o sample observable never 
observable string obs observable just one two six observer boolean observer testhelper mockobserver obs all new predicate string override public boolean test string s return s length 3 toobservable subscribe observer verify observer onsubscribe disposable any verify observer onnext true verify observer oncomplete observer 
observable string obs observable just one two three six observer boolean observer testhelper mockobserver obs all new predicate string override public boolean test string s return s length 3 toobservable subscribe observer verify observer onsubscribe disposable any verify observer onnext false verify observer oncomplete observer 
observable string obs observable empty observer boolean observer testhelper mockobserver obs all new predicate string override public boolean test string s return s length 3 toobservable subscribe observer verify observer onsubscribe disposable any verify observer onnext true verify observer oncomplete observer 
throwable error new throwable observable string obs observable error error observer boolean observer testhelper mockobserver obs all new predicate string override public boolean test string s return s length 3 toobservable subscribe observer verify observer onsubscribe disposable any verify observer onerror error observer 
observable integer o observable fromarray 1 3 5 6 observable boolean allodd o all new predicate integer override public boolean test integer i return i 2 1 toobservable assertfalse allodd blockingfirst 
observable integer source observable just 1 all new predicate integer override public boolean test integer t1 return false toobservable flatmap new function boolean observable integer override public observable integer apply boolean t1 return observable just 2 delay 500 timeunit milliseconds assertequals object 2 source blockingfirst 
testobserverex boolean to new testobserverex final ex new observable just boo all new predicate string override public boolean test string v throw ex subscribe to to assertterminated to assertnovalues to assertnotcomplete to asserterror ex 
observable string obs observable just one two six singleobserver boolean observer testhelper mocksingleobserver obs all new predicate string override public boolean test string s return s length 3 subscribe observer verify observer onsubscribe disposable any verify observer onsuccess true observer 
observable string obs observable just one two three six singleobserver boolean observer testhelper mocksingleobserver obs all new predicate string override public boolean test string s return s length 3 subscribe observer verify observer onsubscribe disposable any verify observer onsuccess false observer 
observable string obs observable empty singleobserver boolean observer testhelper mocksingleobserver obs all new predicate string override public boolean test string s return s length 3 subscribe observer verify observer onsubscribe disposable any verify observer onsuccess true observer 
throwable error new throwable observable string obs observable error error singleobserver boolean observer testhelper mocksingleobserver obs all new predicate string override public boolean test string s return s length 3 subscribe observer verify observer onsubscribe disposable any verify observer onerror error observer 
observable integer o observable fromarray 1 3 5 6 single boolean allodd o all new predicate integer override public boolean test integer i return i 2 1 assertfalse allodd blockingget 
observable integer source observable just 1 all new predicate integer override public boolean test integer t1 return false flatmapobservable new function boolean observable integer override public observable integer apply boolean t1 return observable just 2 delay 500 timeunit milliseconds assertequals object 2 source blockingfirst 
testobserverex boolean to new testobserverex final ex new observable just boo all new predicate string override public boolean test string v throw ex subscribe to to assertterminated to assertnovalues to assertnotcomplete to asserterror ex 
testhelper checkdisposed observable just 1 all functions alwaystrue toobservable testhelper checkdisposed observable just 1 all functions alwaystrue 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onnext 1 observer onnext 2 observer onerror new testexception observer oncomplete all new predicate integer override public boolean test integer v throws exception throw new testexception toobservable test assertfailure testexception class testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onnext 1 observer onnext 2 observer onerror new testexception observer oncomplete all new predicate integer override public boolean test integer v throws exception throw new testexception test assertfailure testexception class testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
testhelper o o all v true 
testhelper o o all v true toobservable 
concat2strings new bifunction string string string override public string apply string t1 string t2 return t1 t2 s1 publishsubject create s2 publishsubject create zipped observable zip s1 s2 concat2strings observer testhelper mockobserver inorder inorder observer zipped subscribe observer 
publishsubject string r1 publishsubject create observer string o testhelper mockobserver inorder io inorder o iterable string r2 arrays aslist 1 2 3 r1 zipwith r2 zipr2 subscribe o r1 onnext one r1 onnext two r1 onnext three r1 oncomplete io verify o onnext one 1 io verify o onnext two 2 io verify o onnext three 3 io verify o oncomplete verify o never onerror any throwable class 
publishsubject string r1 publishsubject create observer string o testhelper mockobserver inorder io inorder o iterable string r2 arrays aslist 1 2 3 r1 zipwith r2 zipr2 subscribe o r1 oncomplete io verify o oncomplete verify o never onnext any string class verify o never onerror any throwable class 
publishsubject string r1 publishsubject create observer string o testhelper mockobserver inorder io inorder o iterable string r2 arrays aslist r1 zipwith r2 zipr2 subscribe o r1 onnext one r1 onnext two r1 onnext three r1 oncomplete io verify o oncomplete verify o never onnext any string class verify o never onerror any throwable class 
publishsubject string r1 publishsubject create observer string o testhelper mockobserver inorder io inorder o iterable string r2 arrays aslist 1 2 3 r1 zipwith r2 zipr2 subscribe o r1 onnext one r1 onnext two r1 oncomplete io verify o onnext one 1 io verify o onnext two 2 io verify o oncomplete verify o never onerror any throwable class 
publishsubject string r1 publishsubject create observer string o testhelper mockobserver inorder io inorder o iterable string r2 arrays aslist 1 2 r1 zipwith r2 zipr2 subscribe o r1 onnext one r1 onnext two r1 onnext three r1 oncomplete io verify o onnext one 1 io verify o onnext two 2 io verify o oncomplete verify o never onerror any throwable class 
publishsubject string r1 publishsubject create observer string o testhelper mockobserver inorder io inorder o iterable string r2 arrays aslist 1 2 3 r1 zipwith r2 zipr2 subscribe o r1 onnext one r1 onnext two r1 onerror new testexception io verify o onnext one 1 io verify o onnext two 2 io verify o onerror any testexception class verify o never oncomplete 
publishsubject string r1 publishsubject create observer string o testhelper mockobserver inorder io inorder o iterable string r2 new iterable string override public iterator string iterator throw new testexception r1 zipwith r2 zipr2 subscribe o r1 onnext one r1 onnext two r1 onerror new testexception io verify o onerror any testexception class verify o never oncomplete verify o never onnext any string class 
publishsubject string r1 publishsubject create observer string o testhelper mockobserver inorder io inorder o iterable string r2 new iterable string override public iterator string iterator return new iterator string int count override public boolean hasnext if count 0 return true throw new testexception override public string next count return 1 override public void remove throw new not supported yet r1 zipwith r2 zipr2 subscribe o r1 onnext one r1 onerror new testexception io verify o onnext one 1 io verify o onerror any testexception class verify o never oncomplete 
publishsubject string r1 publishsubject create observer string o testhelper mockobserver inorder io inorder o iterable string r2 new iterable string override public iterator string iterator return new iterator string override public boolean hasnext return true override public string next throw new testexception override public void remove throw new not supported yet r1 zipwith r2 zipr2 subscribe o r1 onerror new testexception io verify o onerror any testexception class verify o never onnext any string class verify o never oncomplete 
counter incrementandget system out println omg i m calculating so hard t1 t1 t1 t1 return t1 t1 
observable integer o observable just 1 2 3 4 5 iterable string it arrays aslist a b c d e squarestr squarestr new squarestr o map squarestr zipwith it concat2strings take 2 subscribe printer assertequals 2 squarestr counter get 
testhelper checkdisposed observable just 1 zipwith arrays aslist 1 new bifunction integer integer object override public object apply integer a integer b throws exception return a b 
testhelper new function observable integer observablesource object override public observablesource object apply observable integer o throws exception return o zipwith arrays aslist 1 new bifunction integer integer object override public object apply integer a integer b throws exception return a b 
observable just 1 zipwith new crashingiterable 100 1 100 new bifunction integer integer object override public object apply integer a integer b throws exception return a b to testhelper object testconsumer testexception class hasnext 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onnext 1 observer oncomplete observer onnext 2 observer onerror new testexception observer oncomplete zipwith arrays aslist 1 new bifunction integer integer object override public object apply integer a integer b throws exception return a b test assertresult 2 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
final testobserver integer to new testobserver observable range 1 5 concatwith completable fromaction new action override public void run throws exception to onnext 100 subscribe to to assertresult 1 2 3 4 5 100 
final testobserver integer to new testobserver observable integer error new testexception concatwith completable fromaction new action override public void run throws exception to onnext 100 subscribe to to assertfailure testexception class 
final testobserver integer to new testobserver observable range 1 5 concatwith completable error new testexception subscribe to to assertfailure testexception class 1 2 3 4 5 
final testobserver integer to new testobserver observable range 1 5 concatwith completable fromaction new action override public void run throws exception to onnext 100 take 3 subscribe to to assertresult 1 2 3 
completablesubject other completablesubject create testobserver object to observable empty concatwith other test asserttrue other hasobservers to dispose assertfalse other hasobservers 
new observable integer override protected void subscribeactual observer super integer observer disposable bs1 disposable empty observer onsubscribe bs1 disposable bs2 disposable empty observer onsubscribe bs2 assertfalse bs1 isdisposed asserttrue bs2 isdisposed observer oncomplete concatwith completable complete test assertresult 
new observable integer override protected void subscribeactual observer super integer observer disposable bs1 disposable empty observer onsubscribe bs1 assertfalse disposable observer isdisposed observer onnext 1 asserttrue disposable observer isdisposed asserttrue bs1 isdisposed concatwith completable complete take 1 test assertresult 1 
disposable upstream mock disposable class testobservable f new testobservable upstream one fail two three observable string w observable unsafecreate f observable string resume observable just tworesume threeresume observable string observable w onerrorresumewith resume observer string observer testhelper mockobserver observable subscribe observer try f t join catch interruptedexception e fail e getmessage verify observer mockito never onerror any throwable class verify observer times 1 oncomplete verify observer times 1 onnext one verify observer mockito never onnext two verify observer mockito never onnext three verify observer times 1 onnext tworesume verify observer times 1 onnext threeresume 
disposable sr mock disposable class observable string w observable just one fail two three fail testobservable f new testobservable sr tworesume threeresume observable string resume observable unsafecreate f w w map new function string string override public string apply string s if fail equals s throw new runtimeexception forced failure system out println badmapper s return s observable string observable w onerrorresumewith resume observer string observer testhelper mockobserver observable subscribe observer try f t join catch interruptedexception e fail e getmessage verify observer mockito never onerror any throwable class verify observer times 1 oncomplete verify observer times 1 onnext one verify observer mockito never onnext two verify observer mockito never onnext three verify observer times 1 onnext tworesume verify observer times 1 onnext threeresume 
system out println testobservable subscribed to observer onsubscribe upstream t new thread new runnable override public void run try system out println running testobservable thread for string s values if fail equals s throw new runtimeexception forced failure system out println testobservable onnext s observer onnext s system out println testobservable oncomplete observer oncomplete catch throwable e system out println testobservable onerror e observer onerror e system out println starting testobservable thread t start system out println done starting testobservable thread 
testobserver integer to new testobserver observable range 0 onerrorresumewith observable just 1 observeon schedulers computation map new function integer integer int c override public integer apply integer t1 if c 1 try thread sleep 500 catch interruptedexception e e printstacktrace return t1 subscribe to to awaitdone 5 timeunit seconds to assertnoerrors 
observer integer observer testhelper mockobserver observable range 2 3 subscribe observer verify observer times 1 onnext 2 verify observer times 1 onnext 3 verify observer times 1 onnext 4 verify observer never onnext 5 verify observer never onerror any throwable class verify observer times 1 oncomplete 
observer integer observer testhelper mockobserver final atomicinteger count new atomicinteger observable range 1 1000 doonnext new consumer integer override public void accept integer t1 count incrementandget take 3 subscribe observer verify observer times 1 onnext 1 verify observer times 1 onnext 2 verify observer times 1 onnext 3 verify observer never onnext 4 verify observer never onerror any throwable class verify observer times 1 oncomplete assertequals 3 count get 
observable range 1 0 
observable range integer max value 0 
observable range 1 integer max value 
observable range 2 integer max value 
assertfalse observable range integer min value 0 blockingiterable iterator hasnext 
arraylist integer list new arraylist flowable buffersize 2 for int i 1 i flowable buffersize 2 1 i list add i observable integer o observable range 1 list size testobserverex integer to new testobserverex o subscribe to to assertvaluesequence list to assertterminated 
final atomicboolean completed new atomicboolean false observable range 1 0 subscribe new defaultobserver integer override public void onstart override public void oncomplete completed set true override public void onerror throwable e override public void onnext integer t asserttrue completed get 
testobserver integer to new testobserver observable range integer max value 1 2 subscribe to to assertcomplete to assertnoerrors to assertvalues integer max value 1 integer max value 
try observable range 1 1 fail should have thrown catch ex assertequals count 0 required but it was 1 ex getmessage 
testobserverex integer to new testobserverex queuefuseable async observable range 1 5 subscribe to to assertfusionmode queuefuseable none assertresult 1 2 3 4 5 
stringobserver testhelper mockobserver stringobserver2 testhelper mockobserver 
map string string m1 getmap one map string string m2 getmap two observable map string string o observable just m1 m2 observable string m o map new function map string string string override public string apply map string string map return map get firstname m subscribe stringobserver verify stringobserver never onerror any throwable class verify stringobserver times 1 onnext onefirst verify stringobserver times 1 onnext twofirst verify stringobserver times 1 oncomplete 
observable integer ids observable just 1 2 observable string m ids flatmap new function integer observable string override public observable string apply integer id observable map string string subobservable null if id 1 map string string m1 getmap one map string string m2 getmap two subobservable observable just m1 m2 else map string string m3 getmap three map string string m4 getmap four subobservable observable just m3 m4 return subobservable map new function map string string string override public string apply map string string map return map get firstname m subscribe stringobserver verify stringobserver never onerror any throwable class verify stringobserver times 1 onnext onefirst verify stringobserver times 1 onnext twofirst verify stringobserver times 1 onnext threefirst verify stringobserver times 1 onnext fourfirst verify stringobserver times 1 oncomplete 
map string string m1 getmap one map string string m2 getmap two observable map string string observable1 observable just m1 m2 map string string m3 getmap three map string string m4 getmap four observable map string string observable2 observable just m3 m4 observable observable map string string o observable just observable1 observable2 observable string m o flatmap new function observable map string string observable string override public observable string apply observable map string string o return o map new function map string string string override public string apply map string string map return map get firstname m subscribe stringobserver verify stringobserver never onerror any throwable class verify stringobserver times 1 onnext onefirst verify stringobserver times 1 onnext twofirst verify stringobserver times 1 onnext threefirst verify stringobserver times 1 onnext fourfirst verify stringobserver times 1 oncomplete 
observable string w observable just one fail two three fail observable string m w map new function string string override public string apply string s if fail equals s throw new runtimeexception forced failure return s doonerror new consumer throwable override public void accept throwable t1 t1 printstacktrace m subscribe stringobserver verify stringobserver times 1 onnext one verify stringobserver never onnext two verify stringobserver never onnext three verify stringobserver never oncomplete verify stringobserver times 1 onerror any throwable class 
observable just 1 observeon schedulers computation map new function integer integer override public integer apply integer arg0 throw new any error blockingsingle 
observable string m observable just one observeon schedulers computation map new function string string override public string apply string arg0 throw new any error m blockinglast 
assertnull observable range 1 0 lastelement map new function integer integer override public integer apply integer i return i blockingget 
observable error new map new function object object override public object apply object i return i blockingsingle 
observable range 1 1 lastelement map new function integer integer override public integer apply integer i return i 0 blockingget 
map string string m new hashmap m put firstname prefix first m put lastname prefix last return m 
testhelper checkdisposed observable range 1 5 map functions identity 
testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return o map functions identity 
testobserverex integer to new testobserverex queuefuseable any observable range 1 5 map functions integer identity subscribe to to assertfusionmode queuefuseable sync assertresult 1 2 3 4 5 
testobserverex integer to new testobserverex queuefuseable any unicastsubject integer us unicastsubject create us map functions integer identity subscribe to testhelper emit us 1 2 3 4 5 to assertfusionmode queuefuseable async assertresult 1 2 3 4 5 
testobserverex integer to new testobserverex queuefuseable any queuefuseable boundary observable range 1 5 map functions integer identity subscribe to to assertfusionmode queuefuseable none assertresult 1 2 3 4 5 
testhelper new function observable object object override public object apply observable object o throws exception return o map functions identity false 1 1 1 
testscheduler scheduler new testscheduler publishsubject integer source publishsubject create observable integer result source skiplast 1000 timeunit milliseconds scheduler observer object o testhelper mockobserver result subscribe o source onnext 1 source onnext 2 source onnext 3 scheduler advancetimeby 500 timeunit milliseconds source onnext 4 source onnext 5 source onnext 6 scheduler advancetimeby 950 timeunit milliseconds source oncomplete inorder inorder inorder o inorder verify o onnext 1 inorder verify o onnext 2 inorder verify o onnext 3 inorder verify o never onnext 4 inorder verify o never onnext 5 inorder verify o never onnext 6 inorder verify o oncomplete inorder verify o never onerror any throwable class 
testscheduler scheduler new testscheduler publishsubject integer source publishsubject create observable integer result source skiplast 1 timeunit seconds scheduler observer object o testhelper mockobserver result subscribe o source onnext 1 source onnext 2 source onnext 3 source onerror new testexception scheduler advancetimeby 1050 timeunit milliseconds verify o onerror any testexception class verify o never oncomplete verify o never onnext any 
testscheduler scheduler new testscheduler publishsubject integer source publishsubject create observable integer result source skiplast 1 timeunit seconds scheduler observer object o testhelper mockobserver result subscribe o source onnext 1 source onnext 2 source onnext 3 scheduler advancetimeby 500 timeunit milliseconds source oncomplete inorder inorder inorder o inorder verify o oncomplete inorder verify o never onnext any verify o never onerror any throwable class 
testscheduler scheduler new testscheduler publishsubject integer source publishsubject create observable integer result source skiplast 1 timeunit milliseconds scheduler observer object o testhelper mockobserver result subscribe o source onnext 1 source onnext 2 source onnext 3 scheduler advancetimeby 500 timeunit milliseconds source oncomplete inorder inorder inorder o inorder verify o onnext 1 inorder verify o onnext 2 inorder verify o onnext 3 inorder verify o oncomplete inorder 
observable just 1 concatwith observable just 2 delay 500 timeunit milliseconds skiplast 300 timeunit milliseconds test awaitdone 5 timeunit seconds assertresult 1 
observable just 1 concatwith observable just 2 delay 500 timeunit milliseconds skiplast 300 timeunit milliseconds true test awaitdone 5 timeunit seconds assertresult 1 
observable just 1 concatwith observable just 2 delay 500 timeunit milliseconds skiplast 300 timeunit milliseconds schedulers io true test awaitdone 5 timeunit seconds assertresult 1 
testhelper checkdisposed publishsubject create skiplast 1 timeunit days 
testhelper new function observable object observablesource object override public observablesource object apply observable object o throws exception return o skiplast 1 timeunit days 
testscheduler scheduler new testscheduler for int i 0 i testhelper race default loops i final publishsubject integer ps publishsubject create final testobserver integer to ps skiplast 1 timeunit days scheduler test runnable r1 new runnable override public void run ps oncomplete runnable r2 new runnable override public void run to dispose testhelper race r1 r2 
testscheduler scheduler new testscheduler for int i 0 i testhelper race default loops i final publishsubject integer ps publishsubject create final testobserver integer to ps skiplast 1 timeunit days scheduler true test runnable r1 new runnable override public void run ps oncomplete runnable r2 new runnable override public void run to dispose testhelper race r1 r2 
observable error new testexception skiplast 1 timeunit days new testscheduler true test assertfailure testexception class 
observable just 1 skiplast 0 timeunit seconds take 1 test awaitdone 5 timeunit seconds assertresult 1 
testscheduler scheduler new testscheduler for int i 0 i testhelper race default loops i final publishsubject integer ps publishsubject create final testobserver integer to ps skiplast 1 timeunit days scheduler test runnable r1 new runnable override public void run ps onnext 1 runnable r2 new runnable override public void run to dispose testhelper race r1 r2 
testscheduler scheduler new testscheduler for int i 0 i testhelper race default loops i final publishsubject integer ps publishsubject create final testobserver integer to ps skiplast 1 timeunit days scheduler true test runnable r1 new runnable override public void run ps onnext 1 ps oncomplete runnable r2 new runnable override public void run to dispose testhelper race r1 r2 
testscheduler scheduler new testscheduler publishsubject integer source publishsubject create observable integer result source skiplast 1000 timeunit milliseconds scheduler true observer object o testhelper mockobserver result subscribe o source onnext 1 source onnext 2 source onnext 3 scheduler advancetimeby 500 timeunit milliseconds source onnext 4 source onnext 5 source onnext 6 scheduler advancetimeby 950 timeunit milliseconds source oncomplete inorder inorder inorder o inorder verify o onnext 1 inorder verify o onnext 2 inorder verify o onnext 3 inorder verify o never onnext 4 inorder verify o never onnext 5 inorder verify o never onnext 6 inorder verify o oncomplete inorder verify o never onerror any throwable class 
testscheduler scheduler new testscheduler publishsubject integer source publishsubject create observable integer result source skiplast 1 timeunit seconds scheduler true observer object o testhelper mockobserver result subscribe o source onnext 1 source onnext 2 source onnext 3 source onerror new testexception scheduler advancetimeby 1050 timeunit milliseconds verify o onerror any testexception class verify o never oncomplete verify o never onnext any 
testscheduler scheduler new testscheduler publishsubject integer source publishsubject create observable integer result source skiplast 1 timeunit seconds scheduler true observer object o testhelper mockobserver result subscribe o source onnext 1 source onnext 2 source onnext 3 scheduler advancetimeby 500 timeunit milliseconds source oncomplete inorder inorder inorder o inorder verify o oncomplete inorder verify o never onnext any verify o never onerror any throwable class 
testscheduler scheduler new testscheduler publishsubject integer source publishsubject create observable integer result source skiplast 1 timeunit milliseconds scheduler true observer object o testhelper mockobserver result subscribe o source onnext 1 source onnext 2 source onnext 3 scheduler advancetimeby 500 timeunit milliseconds source oncomplete inorder inorder inorder o inorder verify o onnext 1 inorder verify o onnext 2 inorder verify o onnext 3 inorder verify o oncomplete inorder 
observable integer w observable just 1 3 2 5 4 observable list integer observable w tosortedlist toobservable observer list integer observer testhelper mockobserver observable subscribe observer verify observer times 1 onnext arrays aslist 1 2 3 4 5 verify observer mockito never onerror any throwable class verify observer times 1 oncomplete 
observable integer w observable just 1 3 2 5 4 observable list integer observable w tosortedlist new comparator integer override public int compare integer t1 integer t2 return t2 t1 toobservable observer list integer observer testhelper mockobserver observable subscribe observer verify observer times 1 onnext arrays aslist 5 4 3 2 1 verify observer mockito never onerror any throwable class verify observer times 1 oncomplete 
observable integer o observable just 1 3 2 5 4 assertequals arrays aslist 1 2 3 4 5 o tosortedlist toobservable blockingfirst 
try cb await catch interruptedexception ex ex printstacktrace catch ex ex printstacktrace 
observable just 5 1 2 4 3 sorted test assertresult 1 2 3 4 5 
observable just 5 1 2 4 3 sorted new comparator integer override public int compare integer a integer b return b a test assertresult 5 4 3 2 1 
observable just 5 1 2 4 3 tosortedlist 4 toobservable test assertresult arrays aslist 1 2 3 4 5 
observable just 5 1 2 4 3 tosortedlist new comparator integer override public int compare integer a integer b return b a 4 toobservable test assertresult arrays aslist 5 4 3 2 1 
observable integer w observable just 1 3 2 5 4 single list integer single w tosortedlist singleobserver list integer observer testhelper mocksingleobserver single subscribe observer verify observer times 1 onsuccess arrays aslist 1 2 3 4 5 verify observer mockito never onerror any throwable class 
observable integer w observable just 1 3 2 5 4 single list integer single w tosortedlist new comparator integer override public int compare integer t1 integer t2 return t2 t1 singleobserver list integer observer testhelper mocksingleobserver single subscribe observer verify observer times 1 onsuccess arrays aslist 5 4 3 2 1 verify observer mockito never onerror any throwable class 
observable integer o observable just 1 3 2 5 4 assertequals arrays aslist 1 2 3 4 5 o tosortedlist blockingget 
observable just 5 1 2 4 3 tosortedlist 4 test assertresult arrays aslist 1 2 3 4 5 
observable just 5 1 2 4 3 tosortedlist new comparator integer override public int compare integer a integer b return b a 4 test assertresult arrays aslist 5 4 3 2 1 
observable integer w observable just 1 2 observable boolean observable w any new predicate integer override public boolean test integer v return true toobservable observer boolean observer testhelper mockobserver observable subscribe observer verify observer never onnext false verify observer times 1 onnext true verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable integer w observable just 1 2 observable boolean observable w isempty toobservable observer boolean observer testhelper mockobserver observable subscribe observer verify observer never onnext true verify observer times 1 onnext false verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable integer w observable just 1 observable boolean observable w any new predicate integer override public boolean test integer v return true toobservable observer boolean observer testhelper mockobserver observable subscribe observer verify observer never onnext false verify observer times 1 onnext true verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable integer w observable just 1 observable boolean observable w isempty toobservable observer boolean observer testhelper mockobserver observable subscribe observer verify observer never onnext true verify observer times 1 onnext false verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable integer w observable empty observable boolean observable w any new predicate integer override public boolean test integer v return true toobservable observer boolean observer testhelper mockobserver observable subscribe observer verify observer times 1 onnext false verify observer never onnext true verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable integer w observable empty observable boolean observable w isempty toobservable observer boolean observer testhelper mockobserver observable subscribe observer verify observer times 1 onnext true verify observer never onnext false verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable integer w observable just 1 2 3 observable boolean observable w any new predicate integer override public boolean test integer t1 return t1 2 toobservable observer boolean observer testhelper mockobserver observable subscribe observer verify observer never onnext false verify observer times 1 onnext true verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable integer w observable just 1 2 3 observable boolean observable w any new predicate integer override public boolean test integer t1 return t1 2 toobservable observer boolean observer testhelper mockobserver observable subscribe observer verify observer never onnext false verify observer times 1 onnext true verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable integer w observable just 1 2 3 observable boolean observable w any new predicate integer override public boolean test integer t1 return t1 1 toobservable observer boolean observer testhelper mockobserver observable subscribe observer verify observer times 1 onnext false verify observer never onnext true verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable integer w observable empty observable boolean observable w any new predicate integer override public boolean test integer t return true toobservable observer boolean observer testhelper mockobserver observable subscribe observer verify observer times 1 onnext false verify observer never onnext true verify observer never onerror any throwable class verify observer times 1 oncomplete 
observable integer o observable fromarray 1 3 5 6 observable boolean anyeven o any new predicate integer override public boolean test integer i return i 2 0 toobservable asserttrue anyeven blockingfirst 
observable integer source observable just 1 isempty toobservable flatmap new function boolean observable integer override public observable integer apply boolean t1 return observable just 2 delay 500 timeunit milliseconds assertequals object 2 source blockingfirst 
testobserverex boolean to new testobserverex final ex new observable just boo any new predicate string override public boolean test string v throw ex subscribe to to assertterminated to assertnovalues to assertnotcomplete to asserterror ex 
observable integer w observable just 1 2 single boolean single w any new predicate integer override public boolean test integer v return true singleobserver boolean observer testhelper mocksingleobserver single subscribe observer verify observer never onsuccess false verify observer times 1 onsuccess true verify observer never onerror any throwable class 
observable integer w observable just 1 2 single boolean single w isempty singleobserver boolean observer testhelper mocksingleobserver single subscribe observer verify observer never onsuccess true verify observer times 1 onsuccess false verify observer never onerror any throwable class 
observable integer w observable just 1 single boolean single w any new predicate integer override public boolean test integer v return true singleobserver boolean observer testhelper mocksingleobserver single subscribe observer verify observer never onsuccess false verify observer times 1 onsuccess true verify observer never onerror any throwable class 
observable integer w observable just 1 single boolean single w isempty singleobserver boolean observer testhelper mocksingleobserver single subscribe observer verify observer never onsuccess true verify observer times 1 onsuccess false verify observer never onerror any throwable class 
observable integer w observable empty single boolean single w any new predicate integer override public boolean test integer v return true singleobserver boolean observer testhelper mocksingleobserver single subscribe observer verify observer times 1 onsuccess false verify observer never onsuccess true verify observer never onerror any throwable class 
observable integer w observable empty single boolean single w isempty singleobserver boolean observer testhelper mocksingleobserver single subscribe observer verify observer times 1 onsuccess true verify observer never onsuccess false verify observer never onerror any throwable class 
observable integer w observable just 1 2 3 single boolean single w any new predicate integer override public boolean test integer t1 return t1 2 singleobserver boolean observer testhelper mocksingleobserver single subscribe observer verify observer never onsuccess false verify observer times 1 onsuccess true verify observer never onerror any throwable class 
observable integer w observable just 1 2 3 single boolean single w any new predicate integer override public boolean test integer t1 return t1 2 singleobserver boolean observer testhelper mocksingleobserver single subscribe observer verify observer never onsuccess false verify observer times 1 onsuccess true verify observer never onerror any throwable class 
observable integer w observable just 1 2 3 single boolean single w any new predicate integer override public boolean test integer t1 return t1 1 singleobserver boolean observer testhelper mocksingleobserver single subscribe observer verify observer times 1 onsuccess false verify observer never onsuccess true verify observer never onerror any throwable class 
observable integer w observable empty single boolean single w any new predicate integer override public boolean test integer t return true singleobserver boolean observer testhelper mocksingleobserver single subscribe observer verify observer times 1 onsuccess false verify observer never onsuccess true verify observer never onerror any throwable class 
observable integer o observable fromarray 1 3 5 6 single boolean anyeven o any new predicate integer override public boolean test integer i return i 2 0 asserttrue anyeven blockingget 
observable integer source observable just 1 isempty flatmapobservable new function boolean observable integer override public observable integer apply boolean t1 return observable just 2 delay 500 timeunit milliseconds assertequals object 2 source blockingfirst 
testobserverex boolean to new testobserverex final ex new observable just boo any new predicate string override public boolean test string v throw ex subscribe to to assertterminated to assertnovalues to assertnotcomplete to asserterror ex 
testhelper checkdisposed observable just 1 any functions alwaystrue toobservable testhelper checkdisposed observable just 1 any functions alwaystrue 
testhelper new function observable object observablesource boolean override public observablesource boolean apply observable object o throws exception return o any functions alwaystrue toobservable testhelper new function observable object singlesource boolean override public singlesource boolean apply observable object o throws exception return o any functions alwaystrue 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onnext 1 observer onnext 2 observer onerror new ioexception observer oncomplete any new predicate integer override public boolean test integer v throws exception throw new testexception toobservable test assertfailure testexception class testhelper assertundeliverable errors 0 ioexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onerror new testexception first observer onnext 1 observer onerror new testexception second observer oncomplete any functions alwaystrue to testhelper boolean testconsumer testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
testsubscriber object ts new testsubscriber flowable just 1 flatmap new function integer flowable object override public flowable object apply integer item return flowable just object item 1 new function throwable flowable object override public flowable object apply throwable e return flowable error e new supplier flowable object override public flowable object get return flowable never subscribe ts ts assertnoerrors ts assertnotcomplete ts assertvalue 2 
testsubscriber object ts testsubscriber create 0l new flowable range 1 3 new function integer integer override public integer apply integer item return item 1 new function throwable integer override public integer apply throwable e return 0 new supplier integer override public integer get return 5 subscribe ts ts assertnovalues ts assertnoerrors ts assertnotcomplete ts request 3 ts assertvalues 2 3 4 ts assertnoerrors ts assertnotcomplete ts request 1 ts assertvalues 2 3 4 5 ts assertnoerrors ts assertcomplete 
testsubscriber object ts testsubscriber create 0l publishprocessor integer pp publishprocessor create new pp new function integer integer override public integer apply integer item return item 1 new function throwable integer override public integer apply throwable e return 0 new supplier integer override public integer get return 5 subscribe ts ts assertnovalues ts assertnoerrors ts assertnotcomplete pp onnext 1 pp onnext 2 pp onnext 3 pp oncomplete ts assertnovalues ts assertnoerrors ts assertnotcomplete ts request 1 ts assertvalue 0 ts assertnoerrors ts assertcomplete 
testhelper checkdisposed new flowable integer suppresswarnings rawtypes unchecked override protected void subscribeactual subscriber super integer subscriber mn new subscriber functions justfunction flowable just 1 functions justfunction flowable just 2 functions justsupplier flowable just 3 mn onsubscribe new booleansubscription 
testhelper new function flowable object flowable integer override public flowable integer apply flowable object f throws exception return f flatmap functions justfunction flowable just 1 functions justfunction flowable just 2 functions justsupplier flowable just 3 
testsubscriberex integer ts flowable integer error new testexception outer flatmap functions justfunction flowable just 1 new function throwable publisher integer override public publisher integer apply throwable t throws exception throw new testexception inner functions justsupplier flowable just 3 to testhelper integer testconsumer assertfailure compositeexception class testhelper asserterror ts 0 testexception class outer testhelper asserterror ts 1 testexception class inner 
objectsubscriber testhelper mocksubscriber singleobserver testhelper mocksingleobserver 
flowable string source flowable just a b cc dd flowable map integer collection string mapped source tomultimap lengthfunc toflowable map integer collection string expected new hashmap expected put 1 arrays aslist a b expected put 2 arrays aslist cc dd mapped subscribe objectsubscriber verify objectsubscriber never onerror any throwable class verify objectsubscriber times 1 onnext expected verify objectsubscriber times 1 oncomplete 
flowable string source flowable just a b cc dd flowable map integer collection string mapped source tomultimap lengthfunc duplicate toflowable map integer collection string expected new hashmap expected put 1 arrays aslist aa bb expected put 2 arrays aslist mapped subscribe objectsubscriber verify objectsubscriber never onerror any throwable class verify objectsubscriber times 1 onnext expected verify objectsubscriber times 1 oncomplete 
flowable string source flowable just a b cc dd eee fff supplier map integer collection string mapfactory new supplier map integer collection string override public map integer collection string get return new linkedhashmap integer collection string private static final long serialversionuid override protected boolean removeeldestentry map entry integer collection string eldest return size 2 function string string identity new function string string override public string apply string v return v flowable map integer collection string mapped source tomultimap lengthfunc identity mapfactory new function integer collection string override public collection string apply integer e return new arraylist toflowable map integer collection string expected new hashmap expected put 2 arrays aslist cc dd expected put 3 arrays aslist eee fff mapped subscribe objectsubscriber verify objectsubscriber never onerror any throwable class verify objectsubscriber times 1 onnext expected verify objectsubscriber times 1 oncomplete 
flowable string source flowable just cc dd eee eee function integer collection string collectionfactory new function integer collection string override public collection string apply integer t1 if t1 2 return new arraylist else return new hashset function string string identity new function string string override public string apply string v return v supplier map integer collection string mapsupplier new supplier map integer collection string override public map integer collection string get return new hashmap flowable map integer collection string mapped source tomultimap lengthfunc identity mapsupplier collectionfactory toflowable map integer collection string expected new hashmap expected put 2 arrays aslist cc dd expected put 3 new hashset arrays aslist eee mapped subscribe objectsubscriber verify objectsubscriber never onerror any throwable class verify objectsubscriber times 1 onnext expected verify objectsubscriber times 1 oncomplete 
flowable string source flowable just a b cc dd function string integer lengthfuncerr new function string integer override public integer apply string t1 if b equals t1 throw new runtimeexception forced failure return t1 length flowable map integer collection string mapped source tomultimap lengthfuncerr toflowable map integer collection string expected new hashmap expected put 1 arrays aslist a b expected put 2 arrays aslist cc dd mapped subscribe objectsubscriber verify objectsubscriber times 1 onerror any throwable class verify objectsubscriber never onnext expected verify objectsubscriber never oncomplete 
flowable string source flowable just a b cc dd function string string duplicateerr new function string string override public string apply string t1 if b equals t1 throw new runtimeexception forced failure return t1 t1 flowable map integer collection string mapped source tomultimap lengthfunc duplicateerr toflowable map integer collection string expected new hashmap expected put 1 arrays aslist aa bb expected put 2 arrays aslist mapped subscribe objectsubscriber verify objectsubscriber times 1 onerror any throwable class verify objectsubscriber never onnext expected verify objectsubscriber never oncomplete 
flowable string source flowable just a b cc dd eee fff supplier map integer collection string mapfactory new supplier map integer collection string override public map integer collection string get throw new runtimeexception forced failure flowable map integer collection string mapped source tomultimap lengthfunc new function string string override public string apply string v return v mapfactory toflowable map integer collection string expected new hashmap expected put 2 arrays aslist cc dd expected put 3 arrays aslist eee fff mapped subscribe objectsubscriber verify objectsubscriber times 1 onerror any throwable class verify objectsubscriber never onnext expected verify objectsubscriber never oncomplete 
flowable string source flowable just cc cc eee eee function integer collection string collectionfactory new function integer collection string override public collection string apply integer t1 if t1 2 throw new runtimeexception forced failure else return new hashset function string string identity new function string string override public string apply string v return v supplier map integer collection string mapsupplier new supplier map integer collection string override public map integer collection string get return new hashmap flowable map integer collection string mapped source tomultimap lengthfunc identity mapsupplier collectionfactory toflowable map integer collection string expected new hashmap expected put 2 arrays aslist cc dd expected put 3 collections singleton eee mapped subscribe objectsubscriber verify objectsubscriber times 1 onerror any throwable class verify objectsubscriber never onnext expected verify objectsubscriber never oncomplete 
flowable string source flowable just a b cc dd single map integer collection string mapped source tomultimap lengthfunc map integer collection string expected new hashmap expected put 1 arrays aslist a b expected put 2 arrays aslist cc dd mapped subscribe singleobserver verify singleobserver never onerror any throwable class verify singleobserver times 1 onsuccess expected 
flowable string source flowable just a b cc dd single map integer collection string mapped source tomultimap lengthfunc duplicate map integer collection string expected new hashmap expected put 1 arrays aslist aa bb expected put 2 arrays aslist mapped subscribe singleobserver verify singleobserver never onerror any throwable class verify singleobserver times 1 onsuccess expected 
flowable string source flowable just a b cc dd eee fff supplier map integer collection string mapfactory new supplier map integer collection string override public map integer collection string get return new linkedhashmap integer collection string private static final long serialversionuid override protected boolean removeeldestentry map entry integer collection string eldest return size 2 function string string identity new function string string override public string apply string v return v single map integer collection string mapped source tomultimap lengthfunc identity mapfactory new function integer collection string override public collection string apply integer e return new arraylist map integer collection string expected new hashmap expected put 2 arrays aslist cc dd expected put 3 arrays aslist eee fff mapped subscribe singleobserver verify singleobserver never onerror any throwable class verify singleobserver times 1 onsuccess expected 
flowable string source flowable just cc dd eee eee function integer collection string collectionfactory new function integer collection string override public collection string apply integer t1 if t1 2 return new arraylist else return new hashset function string string identity new function string string override public string apply string v return v supplier map integer collection string mapsupplier new supplier map integer collection string override public map integer collection string get return new hashmap single map integer collection string mapped source tomultimap lengthfunc identity mapsupplier collectionfactory map integer collection string expected new hashmap expected put 2 arrays aslist cc dd expected put 3 new hashset arrays aslist eee mapped subscribe singleobserver verify singleobserver never onerror any throwable class verify singleobserver times 1 onsuccess expected 
flowable string source flowable just a b cc dd function string integer lengthfuncerr new function string integer override public integer apply string t1 if b equals t1 throw new runtimeexception forced failure return t1 length single map integer collection string mapped source tomultimap lengthfuncerr map integer collection string expected new hashmap expected put 1 arrays aslist a b expected put 2 arrays aslist cc dd mapped subscribe singleobserver verify singleobserver times 1 onerror any throwable class verify singleobserver never onsuccess expected 
flowable string source flowable just a b cc dd function string string duplicateerr new function string string override public string apply string t1 if b equals t1 throw new runtimeexception forced failure return t1 t1 single map integer collection string mapped source tomultimap lengthfunc duplicateerr map integer collection string expected new hashmap expected put 1 arrays aslist aa bb expected put 2 arrays aslist mapped subscribe singleobserver verify singleobserver times 1 onerror any throwable class verify singleobserver never onsuccess expected 
flowable string source flowable just a b cc dd eee fff supplier map integer collection string mapfactory new supplier map integer collection string override public map integer collection string get throw new runtimeexception forced failure single map integer collection string mapped source tomultimap lengthfunc new function string string override public string apply string v return v mapfactory map integer collection string expected new hashmap expected put 2 arrays aslist cc dd expected put 3 arrays aslist eee fff mapped subscribe singleobserver verify singleobserver times 1 onerror any throwable class verify singleobserver never onsuccess expected 
flowable string source flowable just cc cc eee eee function integer collection string collectionfactory new function integer collection string override public collection string apply integer t1 if t1 2 throw new runtimeexception forced failure else return new hashset function string string identity new function string string override public string apply string v return v supplier map integer collection string mapsupplier new supplier map integer collection string override public map integer collection string get return new hashmap single map integer collection string mapped source tomultimap lengthfunc identity mapsupplier collectionfactory map integer collection string expected new hashmap expected put 2 arrays aslist cc dd expected put 3 collections singleton eee mapped subscribe singleobserver verify singleobserver times 1 onerror any throwable class verify singleobserver never onsuccess expected 
testscheduler scheduler new testscheduler flowable long source flowable interval 1 timeunit seconds scheduler take 10 iterable long iter source blockinglatest iterator long it iter iterator for int i 0 i 9 i scheduler advancetimeby 1 timeunit seconds assert asserttrue it hasnext assert assertequals long valueof i it next scheduler advancetimeby 1 timeunit seconds assert assertfalse it hasnext 
testscheduler scheduler new testscheduler flowable long source flowable interval 1 timeunit seconds scheduler take 10 iterable long iter source blockinglatest for int j 0 j 3 j iterator long it iter iterator for int i 0 i 9 i scheduler advancetimeby 1 timeunit seconds assert asserttrue it hasnext assert assertequals long valueof i it next scheduler advancetimeby 1 timeunit seconds assert assertfalse it hasnext 
flowable long source flowable long empty iterable long iter source blockinglatest iterator long it iter iterator assert assertfalse it hasnext it next 
testscheduler scheduler new testscheduler flowable long source flowable interval 1 timeunit seconds scheduler take 10 iterable long iter source blockinglatest iterator long it iter iterator for int i 0 i 10 i scheduler advancetimeby 1 timeunit seconds assert assertequals long valueof i it next 
testscheduler scheduler new testscheduler flowable long source flowable long error new runtimeexception forced failure subscribeon scheduler iterable long iter source blockinglatest iterator long it iter iterator scheduler advancetimeby 1 timeunit seconds it hasnext 
testscheduler scheduler new testscheduler flowable long source flowable long error new runtimeexception forced failure subscribeon scheduler iterable long iter source blockinglatest iterator long it iter iterator scheduler advancetimeby 1 timeunit seconds it next 
publishprocessor integer source publishprocessor create flowable integer blocker source iterable integer iter blocker blockinglatest iterator integer it iter iterator source onnext 1 assert assertequals integer valueof 1 it next source onnext 2 source onnext 3 assert assertequals integer valueof 3 it next source onnext 4 source onnext 5 source onnext 6 assert assertequals integer valueof 6 it next source onnext 7 source oncomplete assert assertfalse it hasnext 
flowable never blockinglatest iterator remove 
iterator object it flowable never blockinglatest iterator thread currentthread interrupt try it hasnext catch runtimeexception ex asserttrue ex tostring ex getcause instanceof interruptedexception thread interrupted 
flowable empty blockinglatest iterator next 
flowable error new testexception blockinglatest iterator next 
iterator object it flowable error new testexception blockinglatest iterator for int i 0 i 3 i try it hasnext fail should have thrown catch testexception ex 
iterator object it flowable never blockinglatest iterator list throwable errors testhelper trackpluginerrors try subscriber object it onerror new testexception testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
flowable string skip flowable just one two three skip 99 subscriber string subscriber testhelper mocksubscriber skip subscribe subscriber verify subscriber times 1 onnext one verify subscriber times 1 onnext two verify subscriber times 1 onnext three verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
flowable string skip flowable just one two three skip 0 subscriber string subscriber testhelper mocksubscriber skip subscribe subscriber verify subscriber times 1 onnext one verify subscriber times 1 onnext two verify subscriber times 1 onnext three verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
flowable string skip flowable just one two three skip 1 subscriber string subscriber testhelper mocksubscriber skip subscribe subscriber verify subscriber never onnext one verify subscriber times 1 onnext two verify subscriber times 1 onnext three verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
flowable string skip flowable just one two three skip 2 subscriber string subscriber testhelper mocksubscriber skip subscribe subscriber verify subscriber never onnext one verify subscriber never onnext two verify subscriber times 1 onnext three verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
flowable string w flowable empty flowable string skip w skip 1 subscriber string subscriber testhelper mocksubscriber skip subscribe subscriber verify subscriber never onnext any string class verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
flowable string skip flowable just one two three skip 2 subscriber string subscriber1 testhelper mocksubscriber skip subscribe subscriber1 subscriber string subscriber2 testhelper mocksubscriber skip subscribe subscriber2 verify subscriber1 times 1 onnext any string class verify subscriber1 never onerror any throwable class verify subscriber1 times 1 oncomplete verify subscriber2 times 1 onnext any string class verify subscriber2 never onerror any throwable class verify subscriber2 times 1 oncomplete 
exception e new exception flowable string ok flowable just one flowable string error flowable error e flowable string skip flowable concat ok error skip 100 subscriber string subscriber testhelper mocksubscriber skip subscribe subscriber verify subscriber never onnext any string class verify subscriber times 1 onerror e verify subscriber never oncomplete 
final atomiclong requests new atomiclong 0 testsubscriber long ts new testsubscriber 0l flowable interval 100 timeunit milliseconds doonrequest new longconsumer override public void accept long n requests addandget n skip 4 subscribe ts thread sleep 100 ts request 1 ts request 1 thread sleep 100 ts cancel ts assertnoerrors assertequals 6 requests get 
testsubscriberex integer ts new testsubscriberex long max value 1 flowable range 1 10 skip 5 subscribe ts ts assertterminated ts assertcomplete ts assertnoerrors assertequals arrays aslist 6 7 8 9 10 ts values 
testhelper checkdisposed flowable just 1 skip 2 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f skip 1 
flowable range 1 5 concatmapeager new function integer publisher integer override public publisher integer apply integer t return flowable range t 2 test assertresult 1 2 2 3 3 4 4 5 5 6 
testsubscriber integer ts flowable range 1 5 concatmapeager new function integer publisher integer override public publisher integer apply integer t return flowable range t 2 test 3 ts assertvalues 1 2 2 ts request 1 ts assertvalues 1 2 2 3 ts request 1 ts assertvalues 1 2 2 3 3 ts request 5 ts assertresult 1 2 2 3 3 4 4 5 5 6 
flowable range 1 5 new function integer publisher integer override public publisher integer apply integer t return flowable range t 2 false test assertresult 1 2 2 3 3 4 4 5 5 6 
testsubscriber integer ts flowable range 1 5 new function integer publisher integer override public publisher integer apply integer t return flowable range t 2 false test 3 ts assertvalues 1 2 2 ts request 1 ts assertvalues 1 2 2 3 ts request 1 ts assertvalues 1 2 2 3 3 ts request 5 ts assertresult 1 2 2 3 3 4 4 5 5 6 
flowable range 1 5 new function integer publisher integer override public publisher integer apply integer t return flowable range t 2 true test assertresult 1 2 2 3 3 4 4 5 5 6 
testsubscriber integer ts flowable range 1 5 new function integer publisher integer override public publisher integer apply integer t return flowable range t 2 true test 3 ts assertvalues 1 2 2 ts request 1 ts assertvalues 1 2 2 3 ts request 1 ts assertvalues 1 2 2 3 3 ts request 5 ts assertresult 1 2 2 3 3 4 4 5 5 6 
publishprocessor integer main publishprocessor create final publishprocessor integer inner publishprocessor create testsubscriberex integer ts main new function integer publisher integer override public publisher integer apply integer t return inner false to testhelper integer testconsumer main onnext 1 inner onnext 2 ts assertvalue 2 main onerror new testexception forced failure ts assertnoerrors inner onnext 3 inner oncomplete ts testexception class forced failure 2 3 
publishprocessor integer main publishprocessor create final publishprocessor integer inner publishprocessor create testsubscriberex integer ts main new function integer publisher integer override public publisher integer apply integer t return inner true to testhelper integer testconsumer main onnext 1 main onnext 2 inner onnext 2 ts assertvalue 2 main onerror new testexception forced failure ts assertnoerrors inner onnext 3 inner oncomplete ts testexception class forced failure 2 3 2 3 
publishprocessor integer main publishprocessor create final publishprocessor integer inner publishprocessor create testsubscriberex integer ts main concatmapeager new function integer publisher integer override public publisher integer apply integer t return inner to testhelper integer testconsumer main onnext 1 main onnext 2 inner onnext 2 ts assertvalue 2 main onerror new testexception forced failure assertfalse inner has subscribers inner hassubscribers inner onnext 3 inner oncomplete ts testexception class forced failure 2 
flowable range 1 2 flowable buffersize concatmapeager new function integer publisher integer override public publisher integer apply integer v return flowable just 1 test assertvaluecount 2 flowable buffersize assertnoerrors assertcomplete 
ts new testsubscriber tsbp new testsubscriber 0l 
flowable range 1 100 concatmapeager tojust subscribe ts ts assertnoerrors ts assertvaluecount 100 ts assertcomplete 
flowable range 1 100 concatmapeager torange subscribe ts ts assertnoerrors ts assertvaluecount 200 ts assertcomplete 
final atomicinteger count new atomicinteger flowable integer source flowable just 1 doonnext new consumer integer override public void accept integer t count getandincrement hide flowable concatarrayeager source source subscribe tsbp assert assertequals 2 count get tsbp assertnoerrors tsbp assertnotcomplete tsbp assertnovalues tsbp request long max value tsbp assertvaluecount count get tsbp assertnoerrors tsbp assertcomplete 
final atomicinteger count new atomicinteger flowable integer source flowable just 1 doonnext new consumer integer override public void accept integer t count getandincrement hide flowable concatarrayeager source source source subscribe tsbp assert assertequals 3 count get tsbp assertnoerrors tsbp assertnotcomplete tsbp assertnovalues tsbp request long max value tsbp assertvaluecount count get tsbp assertnoerrors tsbp assertcomplete 
final atomicinteger count new atomicinteger flowable integer source flowable just 1 doonnext new consumer integer override public void accept integer t count getandincrement hide flowable concatarrayeager source source source source subscribe tsbp assert assertequals 4 count get tsbp assertnoerrors tsbp assertnotcomplete tsbp assertnovalues tsbp request long max value tsbp assertvaluecount count get tsbp assertnoerrors tsbp assertcomplete 
final atomicinteger count new atomicinteger flowable integer source flowable just 1 doonnext new consumer integer override public void accept integer t count getandincrement hide flowable concatarrayeager source source source source source subscribe tsbp assert assertequals 5 count get tsbp assertnoerrors tsbp assertnotcomplete tsbp assertnovalues tsbp request long max value tsbp assertvaluecount count get tsbp assertnoerrors tsbp assertcomplete 
final atomicinteger count new atomicinteger flowable integer source flowable just 1 doonnext new consumer integer override public void accept integer t count getandincrement hide flowable concatarrayeager source source source source source source subscribe tsbp assert assertequals 6 count get tsbp assertnoerrors tsbp assertnotcomplete tsbp assertnovalues tsbp request long max value tsbp assertvaluecount count get tsbp assertnoerrors tsbp assertcomplete 
final atomicinteger count new atomicinteger flowable integer source flowable just 1 doonnext new consumer integer override public void accept integer t count getandincrement hide flowable concatarrayeager source source source source source source source subscribe tsbp assert assertequals 7 count get tsbp assertnoerrors tsbp assertnotcomplete tsbp assertnovalues tsbp request long max value tsbp assertvaluecount count get tsbp assertnoerrors tsbp assertcomplete 
final atomicinteger count new atomicinteger flowable integer source flowable just 1 doonnext new consumer integer override public void accept integer t count getandincrement hide flowable concatarrayeager source source source source source source source source subscribe tsbp assert assertequals 8 count get tsbp assertnoerrors tsbp assertnotcomplete tsbp assertnovalues tsbp request long max value tsbp assertvaluecount count get tsbp assertnoerrors tsbp assertcomplete 
final atomicinteger count new atomicinteger flowable integer source flowable just 1 doonnext new consumer integer override public void accept integer t count getandincrement hide flowable concatarrayeager source source source source source source source source source subscribe tsbp assert assertequals 9 count get tsbp assertnoerrors tsbp assertnotcomplete tsbp assertnovalues tsbp request long max value tsbp assertvaluecount count get tsbp assertnoerrors tsbp assertcomplete 
flowable integer error new testexception concatmapeager tojust subscribe ts ts assertnovalues ts asserterror testexception class ts assertnotcomplete 
flowable concatarrayeager flowable just 1 flowable error new testexception subscribe ts ts assertvalue 1 ts asserterror testexception class ts assertnotcomplete 
flowable concatarrayeager flowable empty flowable empty subscribe ts ts assertnovalues ts assertnoerrors ts assertcomplete 
flowable just 1 concatmapeager new function integer flowable integer override public flowable integer apply integer t throw new testexception subscribe ts ts assertnovalues ts assertnotcomplete ts asserterror testexception class 
flowable just 1 concatmapeager tojust 0 flowable buffersize 
flowable just 1 concatmapeager tojust flowable buffersize 0 
flowable concatarrayeager flowable just 1 flowable just 1 subscribe tsbp tsbp assertnoerrors tsbp assertnovalues tsbp assertnotcomplete tsbp request 1 tsbp assertvalue 1 tsbp assertnoerrors tsbp assertnotcomplete tsbp request 1 tsbp assertvalues 1 1 tsbp assertnoerrors tsbp assertcomplete 
flowable range 1 2 concatmapeager new function integer flowable integer override public flowable integer apply integer t return flowable range 1 1000 subscribeon schedulers computation observeon schedulers single test awaitdone 5 timeunit seconds assertnoerrors assertvaluecount 2000 assertcomplete 
final publishprocessor integer processor publishprocessor create final atomicboolean once new atomicboolean processor concatmapeager new function integer flowable integer override public flowable integer apply integer t return flowable just t doonnext new consumer integer override public void accept integer t if once compareandset false true processor onnext 2 subscribe ts processor onnext 1 ts assertnoerrors ts assertnotcomplete ts assertvalues 1 2 
final atomicinteger count new atomicinteger testsubscriber object ts testsubscriber create 0 flowable just 1 concatmapeager new function integer flowable integer override public flowable integer apply integer t return flowable range 1 flowable buffersize 2 doonnext new consumer integer override public void accept integer t count getandincrement hide subscribe ts ts assertnoerrors ts assertnovalues ts assertnotcomplete assert assertequals flowable buffersize count get 
final list long requests new arraylist flowable range 1 100 doonrequest new longconsumer override public void accept long reqcount requests add reqcount concatmapeager tojust 5 flowable buffersize subscribe ts ts assertnoerrors ts assertvaluecount 100 ts assertcomplete assert assertequals 5 long requests get 0 assert assertequals 1 long requests get 1 assert assertequals 1 long requests get 2 assert assertequals 1 long requests get 3 assert assertequals 1 long requests get 4 assert assertequals 1 long requests get 5 
flowable integer source flowable just 1 testsubscriber integer ts testsubscriber create flowable concateager arrays aslist source source source 1 1 subscribe ts ts assertvalues 1 1 1 ts assertnoerrors ts assertcomplete 
flowable integer source flowable just 1 testsubscriber integer ts testsubscriber create flowable concateager flowable just source source source subscribe ts ts assertvalues 1 1 1 ts assertnoerrors ts assertcomplete 
flowable integer source flowable just 1 testsubscriber integer ts testsubscriber create flowable concateager flowable just source source source 1 1 subscribe ts ts assertvalues 1 1 1 ts assertnoerrors ts assertcomplete 
flowable integer source flowable just 1 try flowable concateager arrays aslist source source source 1 99 catch ex assertequals prefetch 0 required but it was 99 ex getmessage 
flowable integer source flowable just 1 try flowable just source source source concatmapeager function functions identity 10 99 catch ex assertequals prefetch 0 required but it was 99 ex getmessage 
flowable concateager collections flowable integer emptylist test assertresult 
flowable concateager arrays aslist flowable just 1 test assertresult 1 
flowable concateager arrays aslist flowable just 1 flowable just 2 test assertresult 1 2 
flowable integer source flowable just 1 testsubscriber integer ts testsubscriber create flowable concateager flowable just source source source subscribe ts ts assertvalues 1 1 1 ts assertnoerrors ts assertcomplete 
flowable integer source flowable just 1 testsubscriber integer ts testsubscriber create flowable concateager flowable just source source source 1 1 subscribe ts ts assertvalues 1 1 1 ts assertnoerrors ts assertcomplete 
flowable concateager arrays aslist flowable just 1 flowable just 2 test assertresult 1 2 
flowable integer empty hide concatmapeager new function integer flowable integer override public flowable integer apply integer v throws exception return flowable range 1 2 test assertresult 
testhelper checkdisposed flowable just 1 hide concatmapeager new function integer flowable integer override public flowable integer apply integer v throws exception return flowable range 1 2 
flowable integer just 1 hide concatmapeager new function integer flowable integer override public flowable integer apply integer v throws exception return flowable error new testexception test assertfailure testexception class 
for int i 0 i testhelper race default loops i list throwable errors testhelper trackpluginerrors try final publishprocessor integer pp1 publishprocessor create final publishprocessor integer pp2 publishprocessor create testsubscriberex integer ts pp1 concatmapeager new function integer flowable integer override public flowable integer apply integer v throws exception return pp2 to testhelper integer testconsumer final testexception ex1 new testexception final testexception ex2 new testexception pp1 onnext 1 runnable r1 new runnable override public void run pp1 onerror ex1 runnable r2 new runnable override public void run pp2 onerror ex2 testhelper race r1 r2 ts assertsubscribed assertnovalues assertnotcomplete throwable ex ts errors get 0 if ex instanceof compositeexception list throwable es testhelper errorlist ts testhelper asserterror es 0 testexception class testhelper asserterror es 1 testexception class else ts asserterror testexception class if errors isempty testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
flowable integer just 1 hide concatmapeager new function integer flowable integer override public flowable integer apply integer v throws exception return flowable error new testexception 1 128 test assertfailure testexception class 
flowable integer just 1 hide concatmapeager new function integer flowable integer override public flowable integer apply integer v throws exception return flowable fromcallable new callable integer override public integer call throws exception throw new testexception test assertfailure testexception class 
final unicastprocessor integer up unicastprocessor create up onnext 1 testsubscriber integer ts new testsubscriber integer override public void onnext integer t super onnext t up onerror new testexception flowable integer just 1 hide concatmapeager new function integer flowable integer override public flowable integer apply integer v throws exception return up 1 128 subscribe ts ts assertfailure testexception class 1 
for int i 0 i testhelper race default loops i final publishprocessor integer pp1 publishprocessor create final testsubscriber integer ts pp1 concatmapeager new function integer flowable integer override public flowable integer apply integer v throws exception return flowable never test runnable r1 new runnable override public void run pp1 onnext 1 runnable r2 new runnable override public void run ts cancel testhelper race r1 r2 ts assertempty 
final testsubscriber integer ts new testsubscriber flowable just 1 hide concatmapeager new function integer flowable integer override public flowable integer apply integer v throws exception ts cancel return flowable never 1 128 subscribe ts ts assertempty 
flowable integer just 1 hide concatmapeager new function integer flowable integer override public flowable integer apply integer v throws exception return flowable range 1 2 map new function integer integer override public integer apply integer v throws exception throw new testexception test assertfailure testexception class 
unicastprocessor integer up unicastprocessor create up onnext 1 up oncomplete up concatmapeager new function integer flowable integer override public flowable integer apply integer v throws exception return flowable just 1 take 1 test assertresult 1 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f concatmapeager new function object flowable object override public flowable object apply object v throws exception return flowable just v 
list throwable errors testhelper trackpluginerrors try suppresswarnings rawtypes final subscriber sub null new flowable integer override protected void subscribeactual subscriber super integer s sub 0 s s onsubscribe new booleansubscription s onnext 1 s onerror new testexception first concatmapeager functions justfunction flowable just 1 to testhelper integer testconsumer testexception class first 1 sub 0 onerror new testexception second testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try flowable just 1 concatmapeager new function integer publisher integer override public publisher integer apply integer v throws exception return new flowable integer override protected void subscribeactual subscriber super integer s s onsubscribe new booleansubscription s onnext 1 s onnext 2 s onerror new testexception 1 1 test 0l assertfailure class testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
int n flowable buffersize 2 flowable range 1 n concatmapeager new function integer publisher integer override public publisher integer apply integer v throws exception return flowable just 1 integer max value 16 test assertvaluecount n assertcomplete assertnoerrors 
for int i 0 i testhelper race default loops i final publishprocessor integer pp publishprocessor create final testsubscriber integer ts new testsubscriber 0l flowable just 1 concatmapeager functions justfunction pp subscribe ts runnable r1 new runnable override public void run pp oncomplete runnable r2 new runnable override public void run ts cancel testhelper race r1 r2 
int n flowable buffersize 2 flowable just 1 hide concatmapeager functions justfunction flowable range 1 n hide rebatchrequests 1 test assertvaluecount n assertcomplete assertnoerrors 
flowable just 1 2 3 4 5 concatmapeager new function integer flowable integer override public flowable integer apply integer i throws exception return i 3 flowable just i flowable just i delay 1 timeunit milliseconds schedulers io observeon schedulers io test awaitdone 5 timeunit seconds assertresult 1 2 3 4 5 
list integer list new arraylist 100 for int i 0 i 100 i list integer lst new arraylist list i lst for int k 1 k 10 k lst add i 10 k flowable range 1 1000 buffer 10 concatmapeager new function list integer flowable list integer override public flowable list integer apply list integer v throws exception return flowable just v subscribeon schedulers io doonnext new consumer list integer override public void accept list integer v throws exception thread sleep new random nextint 20 2 3 test awaitdone 5 timeunit seconds assertresult list 
publishprocessor integer pp1 publishprocessor create publishprocessor integer pp2 publishprocessor create publishprocessor integer pp3 publishprocessor create testsubscriber integer ts flowable pp1 pp2 pp3 test ts assertempty asserttrue pp1 hassubscribers asserttrue pp2 hassubscribers asserttrue pp3 hassubscribers pp2 onnext 2 pp2 oncomplete ts assertempty pp1 onnext 1 ts assertvaluesonly 1 pp1 oncomplete ts assertvaluesonly 1 2 pp3 oncomplete ts assertresult 1 2 
publishprocessor integer pp1 publishprocessor create publishprocessor integer pp2 publishprocessor create publishprocessor integer pp3 publishprocessor create testsubscriber integer ts flowable 2 2 pp1 pp2 pp3 test ts assertempty asserttrue pp1 hassubscribers asserttrue pp2 hassubscribers assertfalse pp3 hassubscribers pp2 onnext 2 pp2 oncomplete ts assertempty pp1 onnext 1 ts assertvaluesonly 1 pp1 oncomplete asserttrue pp3 hassubscribers ts assertvaluesonly 1 2 pp3 oncomplete ts assertresult 1 2 
publishprocessor integer pp1 publishprocessor create publishprocessor integer pp2 publishprocessor create publishprocessor integer pp3 publishprocessor create testsubscriber integer ts flowable 2 2 pp1 pp2 pp3 test ts assertempty asserttrue pp1 hassubscribers asserttrue pp2 hassubscribers assertfalse pp3 hassubscribers pp2 onnext 2 pp2 onerror new testexception ts assertempty pp1 onnext 1 ts assertvaluesonly 1 pp1 oncomplete asserttrue pp3 hassubscribers ts assertvaluesonly 1 2 pp3 oncomplete ts assertfailure testexception class 1 2 
publishprocessor integer pp1 publishprocessor create publishprocessor integer pp2 publishprocessor create testsubscriber integer ts flowable concateager flowable just pp1 pp2 test asserttrue pp1 hassubscribers asserttrue pp2 hassubscribers ts cancel assertfalse pp1 hassubscribers assertfalse pp2 hassubscribers 
publishprocessor flowable integer pp1 publishprocessor create testsubscriber integer ts flowable concateager pp1 test asserttrue pp1 hassubscribers ts cancel assertfalse pp1 hassubscribers 
testhelper new flowableconverter integer flowable integer override public flowable integer apply flowable integer upstream return upstream concatmapeager new function integer flowable integer override public flowable integer apply integer v throws throwable return flowable just v hide 
testhelper new flowableconverter integer flowable integer override public flowable integer apply flowable integer upstream return upstream new function integer flowable integer override public flowable integer apply integer v throws throwable return flowable just v hide false 
testhelper new flowableconverter integer flowable integer override public flowable integer apply flowable integer upstream return upstream new function integer flowable integer override public flowable integer apply integer v throws throwable return flowable just v hide true 
flowable arrays aslist flowable range 1 2 flowable error new testexception flowable range 3 3 test assertfailure testexception class 1 2 3 4 5 
flowable arrays aslist flowable range 1 2 flowable error new testexception flowable range 3 3 1 1 test assertfailure testexception class 1 2 3 4 5 
flowable flowable fromarray flowable range 1 2 flowable error new testexception flowable range 3 3 test assertfailure testexception class 1 2 3 4 5 
flowable flowable fromarray flowable range 1 2 flowable error new testexception flowable range 3 3 1 1 test assertfailure testexception class 1 2 3 4 5 
flowable just 1 hide v flowable range 1 10 true 1 1 test assertresult 1 2 3 4 5 6 7 8 9 10 
testhelper flowable never v flowable never false 
flowable just 1 hide v flowable range 1 5 hide true takeuntil v true test assertresult 1 
flowable just 1 hide v flowable frompublisher s true test 0l assertempty requestmore 1l assertempty 
subscriber integer subscriber testhelper mocksubscriber flowable range 2 3 subscribe subscriber verify subscriber times 1 onnext 2 verify subscriber times 1 onnext 3 verify subscriber times 1 onnext 4 verify subscriber never onnext 5 verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
subscriber integer subscriber testhelper mocksubscriber final atomicinteger count new atomicinteger flowable range 1 1000 doonnext new consumer integer override public void accept integer t1 count incrementandget take 3 subscribe subscriber verify subscriber times 1 onnext 1 verify subscriber times 1 onnext 2 verify subscriber times 1 onnext 3 verify subscriber never onnext 4 verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete assertequals 3 count get 
flowable range 1 0 
flowable range integer max value 0 
flowable range 1 integer max value 
flowable range 2 integer max value 
assertfalse flowable range integer min value 0 blockingiterable iterator hasnext 
flowable integer f flowable range 1 flowable buffersize testsubscriberex integer ts new testsubscriberex 0l ts assertnovalues ts request 1 f subscribe ts ts assertvalue 1 ts request 2 ts assertvalues 1 2 3 ts request 3 ts assertvalues 1 2 3 4 5 6 ts request flowable buffersize ts assertterminated 
arraylist integer list new arraylist flowable buffersize 2 for int i 1 i flowable buffersize 2 1 i list add i flowable integer f flowable range 1 list size testsubscriberex integer ts new testsubscriberex 0l ts assertnovalues ts request long max value f subscribe ts ts assertvaluesequence list ts assertterminated 
for int i 0 i 100 i i 
for int i 0 i 100 i i 
flowable integer source flowable range 50 100 testsubscriberex integer ts new testsubscriberex 0l ts request 150 source subscribe ts list integer list new arraylist 100 for int i 0 i 100 i list add i 50 ts request 50 ts assertvaluesequence list ts assertterminated 
final atomicinteger count new atomicinteger int n 10 flowable range 1 n subscribe new defaultsubscriber integer override public void onstart request 2 override public void oncomplete override public void onerror throwable e throw new runtimeexception e override public void onnext integer t count incrementandget request long max value 1 assertequals n count get 
final atomicboolean completed new atomicboolean false flowable range 1 0 subscribe new defaultsubscriber integer override public void onstart override public void oncomplete completed set true override public void onerror throwable e override public void onnext integer t asserttrue completed get 
testsubscriber integer ts new testsubscriber flowable range integer max value 1 2 subscribe ts ts assertcomplete ts assertnoerrors ts assertvalues integer max value 1 integer max value 
testsubscriber integer ts new testsubscriber 3l flowable range integer max value 1 2 subscribe ts ts assertcomplete ts assertnoerrors ts assertvalues integer max value 1 integer max value 
try flowable range 1 1 fail should have thrown catch ex assertequals count 0 required but it was 1 ex getmessage 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable async flowable range 1 5 subscribe ts ts assertfusionmode queuefuseable none assertresult 1 2 3 4 5 
flowable range 1 test assertresult 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable range 1 2 subscribe ts ts assertfusionmode queuefuseable sync assertresult 1 2 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable async flowable range 1 2 subscribe ts ts assertfusionmode queuefuseable none assertresult 1 2 
testhelper checkdisposed flowable range 1 2 
testhelper flowable range 1 2 
flowable range integer max value 1 2 flowable range integer min value 2 flowable range integer min value integer max value 
flowable range 1 5 filter functions alwaystrue test assertresult 1 2 3 4 5 
testhelper flowable range 1 5 testhelper flowable range 1 5 filter functions alwaystrue 
flowable range 1 5 filter functions alwaystrue test 5 assertresult 1 2 3 4 5 
flowable range 1 5 filter functions alwaystrue take 5 test assertresult 1 2 3 4 5 
flowable range 1 5 filter functions alwaystrue take 5 test assertresult 1 2 3 4 5 
flowable range 1 5 filter functions alwaystrue rebatchrequests 1 test assertresult 1 2 3 4 5 
flowable range 1 5 rebatchrequests 1 test assertresult 1 2 3 4 5 
testsubscriber integer ts new testsubscriber integer 2l override public void onnext integer t super onnext t cancel oncomplete flowable range 1 5 subscribe ts ts assertresult 1 
testsubscriber integer ts new testsubscriber integer override public void onnext integer t super onnext t cancel oncomplete flowable range 1 5 subscribe ts ts assertresult 1 
testsubscriber integer ts new testsubscriber integer 1l override public void onnext integer t super onnext t cancel oncomplete flowable range 1 5 filter functions alwaystrue subscribe ts ts assertresult 1 
testsubscriber integer ts new testsubscriber integer override public void onnext integer t super onnext t cancel oncomplete flowable range 1 5 filter functions alwaystrue subscribe ts ts assertresult 1 
testsubscriber integer ts new testsubscriber integer 1l override public void onnext integer t super onnext t request 1 flowable range 1 5 filter new predicate integer override public boolean test integer v throws exception return v 2 0 subscribe ts ts assertresult 2 4 
testsubscriber integer ts new testsubscriber integer 1l override public void onnext integer t super onnext t request 1 flowable range 1 5 filter functions alwaystrue subscribe ts ts assertresult 1 2 3 4 5 
testsubscriber integer ts new testsubscriber integer override public void onnext integer t super onnext t if t 5l cancel oncomplete flowable range 1 5 subscribe ts ts assertresult 1 2 3 4 5 
testsubscriber integer ts new testsubscriber integer override public void onnext integer t super onnext t if t 5l cancel oncomplete flowable range 1 5 filter new predicate integer override public boolean test integer v throws exception return v 2 0 subscribe ts ts assertresult 2 4 
testsubscriber integer ts new testsubscriber integer 2l override public void onnext integer t super onnext t if t 1 cancel oncomplete flowable range 1 2 filter functions alwaystrue subscribe ts ts assertresult 1 
testsubscriber integer ts new testsubscriber integer 2l override public void onnext integer t super onnext t if t 2 cancel oncomplete flowable range 1 2 filter functions alwaystrue subscribe ts ts assertresult 1 2 
flowable range 1 2 take 2 test assertresult 1 2 
testsubscriber integer ts new testsubscriber flowable range 1 2 compose testhelper conditional doonnext v if v 2 ts cancel subscribe ts ts assertvaluesonly 1 2 
scheduler new testscheduler subscriber testhelper mocksubscriber innerscheduler scheduler createworker 
flowable string source flowable unsafecreate new publisher string override public void subscribe subscriber super string subscriber subscriber onsubscribe new booleansubscription publishnext subscriber 100 one publishnext subscriber 400 two publishnext subscriber 900 three publishcompleted subscriber 1000 flowable string sampled source debounce 400 timeunit milliseconds scheduler sampled subscribe subscriber scheduler advancetimeto 0 timeunit milliseconds inorder inorder inorder subscriber scheduler advancetimeto 800 timeunit milliseconds inorder verify subscriber times 1 onnext two scheduler advancetimeto 1000 timeunit milliseconds inorder verify subscriber times 1 oncomplete inorder 
flowable string source flowable unsafecreate new publisher string override public void subscribe subscriber super string subscriber subscriber onsubscribe new booleansubscription publishnext subscriber 100 a publishnext subscriber 200 b publishnext subscriber 300 c publishnext subscriber 400 d publishnext subscriber 500 e publishnext subscriber 600 f publishnext subscriber 700 g publishnext subscriber 800 h publishcompleted subscriber 900 flowable string sampled source debounce 200 timeunit milliseconds scheduler sampled subscribe subscriber scheduler advancetimeto 0 timeunit milliseconds inorder inorder inorder subscriber inorder verify subscriber times 0 onnext anystring scheduler advancetimeto 1000 timeunit milliseconds inorder verify subscriber times 1 oncomplete inorder 
flowable string source flowable unsafecreate new publisher string override public void subscribe subscriber super string subscriber subscriber onsubscribe new booleansubscription exception error new testexception publishnext subscriber 100 one publishnext subscriber 600 two publisherror subscriber 700 error flowable string sampled source debounce 400 timeunit milliseconds scheduler sampled subscribe subscriber scheduler advancetimeto 0 timeunit milliseconds inorder inorder inorder subscriber scheduler advancetimeto 500 timeunit milliseconds inorder verify subscriber onnext one scheduler advancetimeto 701 timeunit milliseconds inorder verify subscriber onerror any testexception class inorder 
publishprocessor integer source publishprocessor create final publishprocessor integer debouncer publishprocessor create function integer flowable integer debouncesel new function integer flowable integer override public flowable integer apply integer t1 return debouncer subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber source debounce debouncesel subscribe subscriber source onnext 1 debouncer onnext 1 source onnext 2 source onnext 3 source onnext 4 debouncer onnext 2 source onnext 5 source oncomplete inorder verify subscriber onnext 1 inorder verify subscriber onnext 4 inorder verify subscriber onnext 5 inorder verify subscriber oncomplete verify subscriber never onerror any throwable class 
