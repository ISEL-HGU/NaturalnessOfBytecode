publishprocessor integer source publishprocessor create function integer flowable integer debouncesel new function integer flowable integer override public flowable integer apply integer t1 throw new testexception subscriber object subscriber testhelper mocksubscriber source debounce debouncesel subscribe subscriber source onnext 1 verify subscriber never onnext any verify subscriber never oncomplete verify subscriber onerror any testexception class 
publishprocessor integer source publishprocessor create function integer flowable integer debouncesel new function integer flowable integer override public flowable integer apply integer t1 return flowable error new testexception subscriber object subscriber testhelper mocksubscriber source debounce debouncesel subscribe subscriber source onnext 1 verify subscriber never onnext any verify subscriber never oncomplete verify subscriber onerror any testexception class 
publishprocessor integer source publishprocessor create subscriber object subscriber testhelper mocksubscriber source debounce 100 timeunit milliseconds scheduler subscribe subscriber source onnext 1 source oncomplete scheduler advancetimeby 1 timeunit seconds verify subscriber onnext 1 verify subscriber oncomplete verify subscriber never onerror any throwable class 
publishprocessor integer source publishprocessor create final publishprocessor integer debouncer publishprocessor create function integer flowable integer debouncesel new function integer flowable integer override public flowable integer apply integer t1 return debouncer subscriber object subscriber testhelper mocksubscriber source debounce debouncesel subscribe subscriber source onnext 1 source oncomplete debouncer oncomplete verify subscriber onnext 1 verify subscriber oncomplete verify subscriber never onerror any throwable class 
testscheduler scheduler new testscheduler testsubscriberex integer subscriber new testsubscriberex flowable merge flowable just 1 flowable just 2 delay 10 timeunit milliseconds scheduler debounce 20 timeunit milliseconds scheduler take 1 subscribe subscriber scheduler advancetimeby 30 timeunit milliseconds subscriber assertvalue 2 subscriber assertterminated subscriber assertnoerrors 
testsubscriber integer ts new testsubscriber flowable range 1 1000 debounce 1 timeunit seconds subscribe ts ts awaitdone 5 timeunit seconds ts assertvalue 1000 ts assertnoerrors ts assertcomplete 
flowable just 1 debounce 1 timeunit seconds test awaitdone 5 timeunit seconds assertresult 1 
testhelper checkdisposed publishprocessor create debounce 1 timeunit seconds new testscheduler testhelper checkdisposed publishprocessor create debounce functions justfunction flowable never disposable d new debounceemitter 1 1 null assertfalse d isdisposed d dispose asserttrue d isdisposed 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber oncomplete subscriber onnext 1 subscriber onerror new testexception subscriber oncomplete debounce 1 timeunit seconds new testscheduler test assertresult testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
testhelper new function flowable integer object override public object apply flowable integer f throws exception return f debounce new function integer flowable long override public flowable long apply integer v throws exception return flowable timer 1 timeunit seconds false 1 1 1 testhelper new function flowable integer object override public object apply final flowable integer f throws exception return flowable just 1 debounce new function integer flowable integer override public flowable integer apply integer v throws exception return f false 1 1 1 
flowable just 1 debounce functions justfunction flowable empty test assertresult 1 
flowable just 1 debounce functions justfunction flowable timer 1 timeunit milliseconds test 0l awaitdone 5 timeunit seconds assertfailure class 
flowable just 1 debounce 1 timeunit milliseconds test 0l awaitdone 5 timeunit seconds assertfailure class 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f debounce functions justfunction flowable never 
final testsubscriber integer ts new testsubscriber behaviorprocessor createdefault 1 debounce new function integer flowable object override public flowable object apply integer o throws exception ts cancel return flowable never subscribewith ts assertempty asserttrue ts iscancelled 
final testsubscriber integer ts new testsubscriber new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription ts cancel subscriber oncomplete debounce functions justfunction flowable never subscribewith ts assertempty 
final atomicreference subscriber super integer ref new atomicreference testsubscriber integer ts flowable range 1 2 debounce new function integer flowable integer override public flowable integer apply integer o throws exception if o 1 return flowable never return new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription ref set subscriber test ref get onnext 1 ts assertresult 2 
testhelper flowable never debounce functions justfunction flowable never 
testhelper new function flowable object publisher object override public publisher object apply flowable object f throws exception return f debounce 1 timeunit seconds 
final testsubscriber integer ts new testsubscriber new flowable integer override protected void subscribeactual org reactivestreams subscriber super integer s s onsubscribe new booleansubscription ts cancel s onnext 1 s oncomplete debounce 1 timeunit seconds subscribe ts 
testhelper flowable never debounce 1 timeunit seconds 
testsubscriber integer ts new testsubscriber integer sub new ts 1 timeunit seconds new testscheduler createworker sub onsubscribe new booleansubscription debounceemitter integer de new debounceemitter 1 50 sub de emit de emit ts assertempty 
flowable error new testexception debounce 1 timeunit seconds test assertfailure testexception class 
flowable empty debounce new function object publisher object override public publisher object apply object o return flowable just new object subscribe 
flowable integer src flowable just 1 2 3 4 5 src skipwhile index less than three subscribe w inorder inorder inorder w inorder verify w times 1 onnext 4 inorder verify w times 1 onnext 5 inorder verify w times 1 oncomplete inorder verify w never onerror any throwable class 
flowable integer src flowable empty src skipwhile less than five subscribe w verify w never onnext anyint verify w never onerror any throwable class verify w times 1 oncomplete 
flowable integer src flowable just 1 2 3 4 3 2 1 src skipwhile less than five subscribe w verify w never onnext anyint verify w never onerror any throwable class verify w times 1 oncomplete 
flowable integer src flowable just 5 3 1 src skipwhile less than five subscribe w inorder inorder inorder w inorder verify w times 1 onnext 5 inorder verify w times 1 onnext 3 inorder verify w times 1 onnext 1 inorder verify w times 1 oncomplete inorder verify w never onerror any throwable class 
flowable integer src flowable just 1 2 3 4 5 3 1 5 src skipwhile less than five subscribe w inorder inorder inorder w inorder verify w times 1 onnext 5 inorder verify w times 1 onnext 3 inorder verify w times 1 onnext 1 inorder verify w times 1 onnext 5 inorder verify w times 1 oncomplete inorder verify w never onerror any throwable class 
flowable integer src flowable just 1 2 42 5 3 1 src skipwhile less than five subscribe w inorder inorder inorder w inorder verify w never onnext anyint inorder verify w never oncomplete inorder verify w times 1 onerror any runtimeexception class 
flowable integer src flowable range 1 10 skipwhile less than five int n 5 for int i 0 i n i subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber src subscribe subscriber for int j 5 j 10 j inorder verify subscriber onnext j inorder verify subscriber oncomplete verify subscriber never onerror any throwable class 
testhelper checkdisposed publishprocessor create skipwhile functions alwaysfalse 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f skipwhile functions alwaysfalse 
flowable error new testexception skipwhile functions alwaysfalse test assertfailure testexception class 
flowable range 1 5 mergewith single just 100 test assertresult 1 2 3 4 5 100 
flowable range 1 512 mergewith single just 100 test assertvaluecount 513 assertcomplete 
flowable range 1 512 mergewith single just 100 test 513 assertvaluecount 513 assertcomplete 
flowable range 1 5 mergewith single just 100 take 3 test assertresult 1 2 3 
final publishprocessor integer pp publishprocessor create final singlesubject integer cs singlesubject create testsubscriber integer ts pp mergewith cs test asserttrue pp hassubscribers asserttrue cs hasobservers ts cancel assertfalse pp hassubscribers assertfalse cs hasobservers 
final testsubscriber integer ts new testsubscriber 0l flowable range 1 5 mergewith single just 100 subscribe ts ts assertempty requestmore 2 assertvalues 100 1 requestmore 2 assertvalues 100 1 2 3 requestmore 2 assertresult 100 1 2 3 4 5 
flowable error new testexception mergewith single just 100 test assertfailure testexception class 
flowable never mergewith single error new testexception test assertfailure testexception class 
for int i 0 i i final publishprocessor integer pp publishprocessor create final singlesubject integer cs singlesubject create testsubscriber integer ts pp mergewith cs test runnable r1 new runnable override public void run pp onnext 1 pp oncomplete runnable r2 new runnable override public void run cs onsuccess 1 testhelper race r1 r2 ts assertresult 1 1 
final publishprocessor integer pp publishprocessor create final singlesubject integer cs singlesubject create testsubscriber integer ts pp mergewith cs subscribewith new testsubscriber integer override public void onnext integer t super onnext t if t 1 pp onnext 2 pp onnext 1 cs onsuccess 3 pp onnext 4 pp oncomplete ts assertresult 1 2 3 4 
final publishprocessor integer pp publishprocessor create final singlesubject integer cs singlesubject create testsubscriber integer ts pp mergewith cs subscribewith new testsubscriber integer override public void onnext integer t super onnext t if t 1 cs onsuccess 2 pp onnext 1 pp onnext 3 pp oncomplete ts assertresult 1 2 3 
final publishprocessor integer pp publishprocessor create final singlesubject integer cs singlesubject create testsubscriber integer ts pp mergewith cs subscribewith new testsubscriber integer 1 override public void onnext integer t super onnext t if t 1 cs onsuccess 2 pp onnext 1 pp onnext 3 pp oncomplete ts request 2 ts assertresult 1 2 3 
for int i 0 i i final publishprocessor integer pp publishprocessor create final singlesubject integer cs singlesubject create final testsubscriber integer ts pp mergewith cs subscribewith new testsubscriber 0 runnable r1 new runnable override public void run cs onsuccess 1 runnable r2 new runnable override public void run ts request 2 testhelper race r1 r2 pp onnext 2 pp oncomplete ts assertresult 1 2 
list throwable errors testhelper trackpluginerrors try final atomicreference subscriber subscriber new atomicreference testsubscriber integer ts new flowable integer override protected void subscribeactual subscriber super integer s s onsubscribe new booleansubscription subscriber set s mergewith single integer error new ioexception test subscriber get onerror new testexception ts assertfailure ioexception class testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try flowable error new ioexception mergewith single error new testexception test assertfailure ioexception class testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
for int i 0 i i final publishprocessor integer pp publishprocessor create final singlesubject integer cs singlesubject create final testsubscriber integer ts pp mergewith cs test 0 pp onnext 0 runnable r1 new runnable override public void run pp onnext 1 runnable r2 new runnable override public void run ts request 3 testhelper race r1 r2 cs onsuccess 1 pp oncomplete ts assertresult 0 1 1 
testhelper new function flowable object publisher object override public publisher object apply flowable object f throws exception return f mergewith single just 1 
flowable empty mergewith single error new testexception test 0 assertfailure testexception class 
final publishprocessor integer pp publishprocessor create final singlesubject integer cs singlesubject create testsubscriber integer ts pp mergewith cs take 2 subscribewith new testsubscriber integer 2 override public void onnext integer t super onnext t if t 1 cs onsuccess 2 pp onnext 1 pp oncomplete ts request 2 ts assertresult 1 2 
final publishprocessor integer pp publishprocessor create final singlesubject integer cs singlesubject create testsubscriber integer ts pp mergewith cs subscribewith new testsubscriber integer override public void onnext integer t super onnext t if t 1 for int i 0 i flowable buffersize 1 i pp onnext i 2 cs onsuccess 1 pp oncomplete ts request 2 ts assertvaluecount flowable buffersize ts assertcomplete 
publishprocessor integer pp publishprocessor create singlesubject integer ss singlesubject create testsubscriber integer ts pp mergewith ss test asserttrue pp hassubscribers asserttrue ss hasobservers pp onerror new testexception ts assertfailure testexception class assertfalse main has observers pp hassubscribers assertfalse other has observers ss hasobservers 
publishprocessor integer pp publishprocessor create singlesubject integer ss singlesubject create testsubscriber integer ts pp mergewith ss test asserttrue pp hassubscribers asserttrue ss hasobservers ss onerror new testexception ts assertfailure testexception class assertfalse main has observers pp hassubscribers assertfalse other has observers ss hasobservers 
testhelper new flowableconverter integer flowable integer override public flowable integer apply flowable integer upstream return upstream mergewith single just 1 hide 
singlesubject integer ss singlesubject create testsubscriber integer ts new testsubscriber flowable range 1 5 mergewith ss doonnext v if v 1 ss onsuccess 6 ts cancel subscribe ts ts assertvaluesonly 1 
testflowable f new testflowable one flowable string w flowable unsafecreate f final atomicreference throwable capturedexception new atomicreference flowable string flowable w onerrorreturn new function throwable string override public string apply throwable e capturedexception set e return failure subscriber string subscriber testhelper mocksubscriber flowable subscribe subscriber try f t join catch interruptedexception e fail e getmessage verify subscriber mockito never onerror any throwable class verify subscriber times 1 onnext one verify subscriber times 1 onnext failure verify subscriber times 1 oncomplete assertnotnull capturedexception get 
testflowable f new testflowable one flowable string w flowable unsafecreate f final atomicreference throwable capturedexception new atomicreference flowable string flowable w onerrorreturn new function throwable string override public string apply throwable e capturedexception set e throw new runtimeexception exception from function subscriber string subscriber testhelper mocksubscriber flowable subscribe subscriber try f t join catch interruptedexception e fail e getmessage verify subscriber times 1 onnext one verify subscriber times 1 onerror any throwable class verify subscriber times 0 oncomplete assertnotnull capturedexception get 
flowable string w flowable just one fail two three fail w w map new function string string override public string apply string s if fail equals s throw new runtimeexception forced failure system out println badmapper s return s flowable string flowable w onerrorreturn new function throwable string override public string apply throwable t1 return resume subscriber string subscriber testhelper mocksubscriber testsubscriber string ts new testsubscriber subscriber long max value flowable subscribe ts ts awaitdone 5 timeunit seconds verify subscriber mockito never onerror any throwable class verify subscriber times 1 oncomplete verify subscriber times 1 onnext one verify subscriber mockito never onnext two verify subscriber mockito never onnext three verify subscriber times 1 onnext resume 
testsubscriber integer ts new testsubscriber flowable range 0 onerrorreturn new function throwable integer override public integer apply throwable t1 return 1 observeon schedulers computation map new function integer integer int c override public integer apply integer t1 if c 1 try thread sleep 500 catch interruptedexception e e printstacktrace return t1 subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors 
subscriber onsubscribe new booleansubscription system out println testflowable subscribed to t new thread new runnable override public void run try system out println running testflowable thread for string s values system out println testflowable onnext s subscriber onnext s throw new runtimeexception forced failure catch throwable e subscriber onerror e system out println starting testflowable thread t start system out println done starting testflowable thread 
testsubscriber integer ts testsubscriber create 0 publishprocessor integer pp publishprocessor create pp onerrorreturn new function throwable integer override public integer apply throwable e return 3 subscribe ts ts request 2 pp onnext 1 pp onnext 2 pp onerror new testexception forced failure ts assertvalues 1 2 ts assertnoerrors ts assertnotcomplete ts request 2 ts assertvalues 1 2 3 ts assertnoerrors ts assertcomplete 
flowable error new testexception onerrorreturnitem 1 test assertresult 1 
testhelper checkdisposed flowable just 1 onerrorreturnitem 1 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f onerrorreturnitem 1 
new flowable integer override protected void subscribeactual subscriber super integer s s onsubscribe new booleansubscription s onerror new testexception s onerror new testexception onerrorreturnitem 1 test assertresult 1 
flowable string flowable flowable string empty skiplast 2 subscriber string subscriber testhelper mocksubscriber flowable subscribe subscriber verify subscriber never onnext any string class verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
flowable string flowable flowable fromiterable arrays aslist one two three skiplast 2 subscriber string subscriber testhelper mocksubscriber inorder inorder inorder subscriber flowable subscribe subscriber inorder verify subscriber never onnext two inorder verify subscriber never onnext three verify subscriber times 1 onnext one verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
flowable string flowable flowable fromiterable arrays aslist one two skiplast 2 subscriber string subscriber testhelper mocksubscriber flowable subscribe subscriber verify subscriber never onnext any string class verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
flowable string w flowable just one two flowable string flowable w skiplast 0 subscriber string subscriber testhelper mocksubscriber flowable subscribe subscriber verify subscriber times 1 onnext one verify subscriber times 1 onnext two verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
flowable integer f flowable range 0 flowable buffersize 2 skiplast flowable buffersize 10 testsubscriber integer ts new testsubscriber f observeon schedulers computation subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors assertequals flowable buffersize 10 ts values size 
flowable just one skiplast 1 
testhelper checkdisposed flowable just 1 skiplast 1 
flowable error new testexception skiplast 1 test assertfailure testexception class 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f skiplast 1 
subscriber string w testhelper mocksubscriber publishprocessor string w1 publishprocessor create publishprocessor string w2 publishprocessor create flowable string combined flowable combinelatest w1 w2 new bifunction string string string override public string apply string v1 string v2 throw new runtimeexception i don t work combined subscribe w w1 onnext first value of w1 w2 onnext first value of w2 verify w never onnext anystring verify w never oncomplete verify w times 1 onerror mockito runtimeexception any 
subscriber string w testhelper mocksubscriber publishprocessor string w1 publishprocessor create publishprocessor string w2 publishprocessor create publishprocessor string w3 publishprocessor create flowable string combinelatestw flowable combinelatest w1 w2 w3 combinelatestw subscribe w w1 onnext 1a w2 onnext 2a w3 onnext 3a w1 oncomplete w2 onnext 2b w2 oncomplete w3 onnext 3b w3 onnext 3c w3 onnext 3d w3 oncomplete inorder inorder inorder w inorder verify w onnext 1a2a3a inorder verify w onnext 1a2b3a inorder verify w onnext 1a2b3b inorder verify w onnext 1a2b3c inorder verify w onnext 1a2b3d inorder verify w never onnext anystring inorder verify w times 1 oncomplete 
subscriber string w testhelper mocksubscriber publishprocessor string w1 publishprocessor create publishprocessor string w2 publishprocessor create publishprocessor string w3 publishprocessor create flowable string combinelatestw flowable combinelatest w1 w2 w3 combinelatestw subscribe w w1 onnext 1a w1 onnext 1b w1 onnext 1c w1 onnext 1d w1 oncomplete w2 onnext 2a w2 onnext 2b w2 oncomplete w3 onnext 3a w3 oncomplete inorder inorder inorder w inorder verify w times 1 onnext 1d2b3a inorder verify w never onnext anystring inorder verify w times 1 oncomplete 
subscriber string w testhelper mocksubscriber publishprocessor string w1 publishprocessor create publishprocessor string w2 publishprocessor create publishprocessor string w3 publishprocessor create flowable string combinelatestw flowable combinelatest w1 w2 w3 combinelatestw subscribe w w1 onnext 1a w2 onnext 2a w2 onnext 2b w3 onnext 3a w1 onnext 1b w2 onnext 2c w2 onnext 2d w3 onnext 3b w1 oncomplete w2 oncomplete w3 oncomplete inorder inorder inorder w inorder verify w onnext 1a2b3a inorder verify w onnext 1b2b3a inorder verify w onnext 1b2c3a inorder verify w onnext 1b2d3a inorder verify w onnext 1b2d3b inorder verify w never onnext anystring inorder verify w times 1 oncomplete 
bifunction string integer string subscriber string subscriber testhelper mocksubscriber flowable string w flowable combinelatest flowable just one two flowable just 2 3 4 w subscribe subscriber verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete verify subscriber times 1 onnext two2 verify subscriber times 1 onnext two3 verify subscriber times 1 onnext two4 
function3 string integer int string subscriber string subscriber testhelper mocksubscriber flowable string w flowable combinelatest flowable just one two flowable just 2 flowable just new int 4 5 6 w subscribe subscriber verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete verify subscriber times 1 onnext two2 4 5 6 
function3 string integer int string subscriber string subscriber testhelper mocksubscriber flowable string w flowable combinelatest flowable just one flowable just 2 flowable just new int 4 5 6 new int 7 8 w subscribe subscriber verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete verify subscriber times 1 onnext one2 4 5 6 verify subscriber times 1 onnext one2 7 8 
function3 string string string string new function3 string string string string override public string apply string a1 string a2 string a3 if a1 null a1 if a2 null a2 if a3 null a3 return a1 a2 a3 return 
bifunction string integer string new bifunction string integer string override public string apply string s integer i return getstringvalue s getstringvalue i return 
return new function3 string integer int string override public string apply string s integer i int iarray return getstringvalue s getstringvalue i getstringvalue iarray 
if o null return else if o instanceof int return arrays tostring int o else return string valueof o 
publishprocessor integer a publishprocessor create publishprocessor integer b publishprocessor create flowable integer source flowable combinelatest a b or subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber source subscribe subscriber a onnext 1 inorder verify subscriber never onnext any a onnext 2 inorder verify subscriber never onnext any b onnext 0x10 inorder verify subscriber times 1 onnext 0x12 b onnext 0x20 inorder verify subscriber times 1 onnext 0x22 b oncomplete inorder verify subscriber never oncomplete a oncomplete inorder verify subscriber times 1 oncomplete a onnext 3 b onnext 0x30 a oncomplete b oncomplete inorder verify subscriber never onerror any throwable class 
publishprocessor integer a publishprocessor create publishprocessor integer b publishprocessor create flowable integer source flowable combinelatest a b or subscriber object subscriber1 testhelper mocksubscriber subscriber object subscriber2 testhelper mocksubscriber inorder inorder1 inorder subscriber1 inorder inorder2 inorder subscriber2 source subscribe subscriber1 source subscribe subscriber2 a onnext 1 inorder1 verify subscriber1 never onnext any inorder2 verify subscriber2 never onnext any a onnext 2 inorder1 verify subscriber1 never onnext any inorder2 verify subscriber2 never onnext any b onnext 0x10 inorder1 verify subscriber1 times 1 onnext 0x12 inorder2 verify subscriber2 times 1 onnext 0x12 b onnext 0x20 inorder1 verify subscriber1 times 1 onnext 0x22 inorder2 verify subscriber2 times 1 onnext 0x22 b oncomplete inorder1 verify subscriber1 never oncomplete inorder2 verify subscriber2 never oncomplete a oncomplete inorder1 verify subscriber1 times 1 oncomplete inorder2 verify subscriber2 times 1 oncomplete a onnext 3 b onnext 0x30 a oncomplete b oncomplete inorder1 inorder2 verify subscriber1 never onerror any throwable class verify subscriber2 never onerror any throwable class 
publishprocessor integer a publishprocessor create publishprocessor integer b publishprocessor create flowable integer source flowable combinelatest a b or subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber source subscribe subscriber b onnext 0x10 b onnext 0x20 a oncomplete inorder verify subscriber times 1 oncomplete verify subscriber never onnext any verify subscriber never onerror any throwable class 
publishprocessor integer a publishprocessor create publishprocessor integer b publishprocessor create flowable integer source flowable combinelatest a b or subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber source subscribe subscriber a onnext 0x1 a onnext 0x2 b oncomplete a oncomplete inorder verify subscriber times 1 oncomplete verify subscriber never onnext any verify subscriber never onerror any throwable class 
int n 30 function object list object func new function object list object override public list object apply object args return arrays aslist args for int i 1 i n i system out println test1tonsources i sources list flowable integer sources new arraylist list object values new arraylist for int j 0 j i j sources add flowable just j values add j flowable list object result flowable combinelatest sources func subscriber list object subscriber testhelper mocksubscriber result subscribe subscriber verify subscriber onnext values verify subscriber oncomplete verify subscriber never onerror any throwable class 
int n 10 function object list object func new function object list object override public list object apply object args return arrays aslist args for int i 1 i n i system out println i sources list flowable integer sources new arraylist list object values new arraylist for int j 0 j i j sources add flowable just j subscribeon schedulers io values add j flowable list object result flowable combinelatest sources func final subscriber list object subscriber testhelper mocksubscriber final countdownlatch cdl new countdownlatch 1 subscriber list object s new defaultsubscriber list object override public void onnext list object t subscriber onnext t override public void onerror throwable e subscriber onerror e cdl countdown override public void oncomplete subscriber oncomplete cdl countdown result subscribe s cdl await verify subscriber onnext values verify subscriber oncomplete verify subscriber never onerror any throwable class 
flowable integer s1 flowable just 1 flowable integer s2 flowable just 2 flowable list integer result flowable combinelatest s1 s2 new bifunction integer integer list integer override public list integer apply integer t1 integer t2 return arrays aslist t1 t2 subscriber object subscriber testhelper mocksubscriber result subscribe subscriber verify subscriber onnext arrays aslist 1 2 verify subscriber oncomplete verify subscriber never onerror any throwable class 
flowable integer s1 flowable just 1 flowable integer s2 flowable just 2 flowable integer s3 flowable just 3 flowable list integer result flowable combinelatest s1 s2 s3 new function3 integer integer integer list integer override public list integer apply integer t1 integer t2 integer t3 return arrays aslist t1 t2 t3 subscriber object subscriber testhelper mocksubscriber result subscribe subscriber verify subscriber onnext arrays aslist 1 2 3 verify subscriber oncomplete verify subscriber never onerror any throwable class 
flowable integer s1 flowable just 1 flowable integer s2 flowable just 2 flowable integer s3 flowable just 3 flowable integer s4 flowable just 4 flowable list integer result flowable combinelatest s1 s2 s3 s4 new function4 integer integer integer integer list integer override public list integer apply integer t1 integer t2 integer t3 integer t4 return arrays aslist t1 t2 t3 t4 subscriber object subscriber testhelper mocksubscriber result subscribe subscriber verify subscriber onnext arrays aslist 1 2 3 4 verify subscriber oncomplete verify subscriber never onerror any throwable class 
flowable integer s1 flowable just 1 flowable integer s2 flowable just 2 flowable integer s3 flowable just 3 flowable integer s4 flowable just 4 flowable integer s5 flowable just 5 flowable list integer result flowable combinelatest s1 s2 s3 s4 s5 new function5 integer integer integer integer integer list integer override public list integer apply integer t1 integer t2 integer t3 integer t4 integer t5 return arrays aslist t1 t2 t3 t4 t5 subscriber object subscriber testhelper mocksubscriber result subscribe subscriber verify subscriber onnext arrays aslist 1 2 3 4 5 verify subscriber oncomplete verify subscriber never onerror any throwable class 
flowable integer s1 flowable just 1 flowable integer s2 flowable just 2 flowable integer s3 flowable just 3 flowable integer s4 flowable just 4 flowable integer s5 flowable just 5 flowable integer s6 flowable just 6 flowable list integer result flowable combinelatest s1 s2 s3 s4 s5 s6 new function6 integer integer integer integer integer integer list integer override public list integer apply integer t1 integer t2 integer t3 integer t4 integer t5 integer t6 return arrays aslist t1 t2 t3 t4 t5 t6 subscriber object subscriber testhelper mocksubscriber result subscribe subscriber verify subscriber onnext arrays aslist 1 2 3 4 5 6 verify subscriber oncomplete verify subscriber never onerror any throwable class 
flowable integer s1 flowable just 1 flowable integer s2 flowable just 2 flowable integer s3 flowable just 3 flowable integer s4 flowable just 4 flowable integer s5 flowable just 5 flowable integer s6 flowable just 6 flowable integer s7 flowable just 7 flowable list integer result flowable combinelatest s1 s2 s3 s4 s5 s6 s7 new function7 integer integer integer integer integer integer integer list integer override public list integer apply integer t1 integer t2 integer t3 integer t4 integer t5 integer t6 integer t7 return arrays aslist t1 t2 t3 t4 t5 t6 t7 subscriber object subscriber testhelper mocksubscriber result subscribe subscriber verify subscriber onnext arrays aslist 1 2 3 4 5 6 7 verify subscriber oncomplete verify subscriber never onerror any throwable class 
flowable integer s1 flowable just 1 flowable integer s2 flowable just 2 flowable integer s3 flowable just 3 flowable integer s4 flowable just 4 flowable integer s5 flowable just 5 flowable integer s6 flowable just 6 flowable integer s7 flowable just 7 flowable integer s8 flowable just 8 flowable list integer result flowable combinelatest s1 s2 s3 s4 s5 s6 s7 s8 new function8 integer integer integer integer integer integer integer integer list integer override public list integer apply integer t1 integer t2 integer t3 integer t4 integer t5 integer t6 integer t7 integer t8 return arrays aslist t1 t2 t3 t4 t5 t6 t7 t8 subscriber object subscriber testhelper mocksubscriber result subscribe subscriber verify subscriber onnext arrays aslist 1 2 3 4 5 6 7 8 verify subscriber oncomplete verify subscriber never onerror any throwable class 
flowable integer s1 flowable just 1 flowable integer s2 flowable just 2 flowable integer s3 flowable just 3 flowable integer s4 flowable just 4 flowable integer s5 flowable just 5 flowable integer s6 flowable just 6 flowable integer s7 flowable just 7 flowable integer s8 flowable just 8 flowable integer s9 flowable just 9 flowable list integer result flowable combinelatest s1 s2 s3 s4 s5 s6 s7 s8 s9 new function9 integer integer integer integer integer integer integer integer integer list integer override public list integer apply integer t1 integer t2 integer t3 integer t4 integer t5 integer t6 integer t7 integer t8 integer t9 return arrays aslist t1 t2 t3 t4 t5 t6 t7 t8 t9 subscriber object subscriber testhelper mocksubscriber result subscribe subscriber verify subscriber onnext arrays aslist 1 2 3 4 5 6 7 8 9 verify subscriber oncomplete verify subscriber never onerror any throwable class 
flowable object result flowable combinelatest collections flowable object emptylist new function object object override public object apply object args return args subscriber object subscriber testhelper mocksubscriber result subscribe subscriber verify subscriber oncomplete verify subscriber never onnext any verify subscriber never onerror any throwable class 
for int i 0 i 5000 i backpressure 
bifunction string integer string int num flowable buffersize 4 testsubscriber string ts new testsubscriber flowable combinelatest flowable just one two flowable range 2 num observeon schedulers computation subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors list string events ts values assertequals two2 events get 0 assertequals two3 events get 1 assertequals two4 events get 2 assertequals num events size 
final countdownlatch latch new countdownlatch 1 final atomicinteger count new atomicinteger final int size 2000 flowable long timer flowable interval 0 1 timeunit milliseconds observeon schedulers newthread dooneach new consumer notification long override public void accept notification long n if count incrementandget size latch countdown take size testsubscriber long ts new testsubscriber flowable combinelatest timer flowable integer never new bifunction long integer long override public long apply long t1 integer t2 return t1 subscribe ts if latch await size 2000 timeunit milliseconds fail timed out assertequals size count get 
list flowable integer sources arrays aslist flowable fromarray 1 2 3 4 flowable fromarray 5 6 7 8 flowable integer f flowable combinelatest sources new function object integer override public integer apply object args return integer args 0 final countdownlatch latch new countdownlatch 4 f subscribeon schedulers computation subscribe new defaultsubscriber integer override public void onstart request 2 override public void oncomplete override public void onerror throwable e throw new runtimeexception e override public void onnext integer t latch countdown request long max value 1 asserttrue latch await 10 timeunit seconds 
final atomicboolean erroroccurred new atomicboolean false testsubscriber integer ts testsubscriber create 1 flowable integer source flowable just 1 doonerror new consumer throwable override public void accept throwable t erroroccurred set true flowable combinelatest collections singletonlist source throw non fatal subscribe ts assertfalse erroroccurred get 
flowable integer source flowable just 1 testsubscriber integer ts testsubscriber create flowable combinelatest arrays aslist source source new function object integer override public integer apply object args return integer args 0 integer args 1 subscribe ts ts assertvalue 2 ts assertnoerrors ts assertcomplete 
int n flowable buffersize 3 list flowable integer sources new arraylist stringbuilder expected new stringbuilder n 2 for int i 0 i n i sources add flowable just i expected append i testsubscriber string ts testsubscriber create flowable combinelatest sources new function object string override public string apply object args stringbuilder b new stringbuilder for object o args b append o return b tostring subscribe ts ts assertnoerrors ts assertvalue expected tostring ts assertcomplete 
testsubscriber integer ts testsubscriber create flowable arrays aslist flowable just 1 flowable integer error new testexception new function object integer override public integer apply object args return integer args 0 integer args 1 subscribe ts ts assertnovalues ts asserterror testexception class ts assertnotcomplete 
testsubscriber integer ts testsubscriber create flowable arrays aslist flowable integer error new testexception flowable just 1 new function object integer override public integer apply object args return integer args 0 integer args 1 subscribe ts ts assertnovalues ts asserterror testexception class ts assertnotcomplete 
testsubscriber integer ts testsubscriber create flowable arrays aslist flowable just 10 concatwith flowable integer error new testexception flowable just 1 new function object integer override public integer apply object args return integer args 0 integer args 1 subscribe ts ts assertvalues 11 ts asserterror testexception class ts assertnotcomplete 
testsubscriber integer ts testsubscriber create flowable arrays aslist flowable just 1 flowable just 10 concatwith flowable integer error new testexception new function object integer override public integer apply object args return integer args 0 integer args 1 subscribe ts ts assertvalues 11 ts asserterror testexception class ts assertnotcomplete 
testsubscriber integer ts testsubscriber create flowable arrays aslist flowable just 1 concatwith flowable integer error new testexception flowable just 10 concatwith flowable integer error new testexception new function object integer override public integer apply object args return integer args 0 integer args 1 subscribe ts ts assertvalues 11 ts asserterror compositeexception class ts assertnotcomplete 
flowable source flowable just 1 for int i 2 i 10 i class types new class i 1 arrays fill types publisher class types i i 2 bifunction class class forname io reactivex rxjava3 functions function i method m flowable class getmethod combinelatest types object params new object i 1 arrays fill params source params i argstostring instance stringbuilder b new stringbuilder for int j 0 j i j b append 1 flowable m invoke null params test assertresult b tostring for int j 0 j params length j object params0 params clone params0 j null try m invoke null params0 fail should have thrown m catch ex asserttrue ex tostring ex getcause instanceof nullpointerexception if j i assertequals source j 1 is null ex getcause getmessage else assertequals combiner is null ex getcause getmessage 
for int i 1 i 100 i flowable integer sources new flowable i arrays fill sources flowable just 1 list object expected new arraylist i for int j 1 j i j expected add 1 flowable combinelatestarray sources new function object list object override public list object apply object t throws exception return arrays aslist t test assertresult expected flowable sources new function object list object override public list object apply object t throws exception return arrays aslist t test assertresult expected 
flowable combinelatestarray new flowable flowable just 1 flowable just 2 new function object object override public object apply object a throws exception return arrays tostring a test assertresult 1 2 
flowable new flowable flowable just 1 flowable just 2 new function object object override public object apply object a throws exception return arrays tostring a test assertresult 1 2 
flowable new flowable flowable just 1 flowable just 2 concatwith flowable integer error new testexception new function object object override public object apply object a throws exception return arrays tostring a test assertfailure testexception class 1 2 
flowable arrays aslist flowable just 1 flowable just 2 new function object object override public object apply object a throws exception return arrays tostring a test assertresult 1 2 
flowable arrays aslist flowable just 1 flowable just 2 concatwith flowable integer error new testexception new function object object override public object apply object a throws exception return arrays tostring a test assertfailure testexception class 1 2 
assertsame flowable empty flowable combinelatestarray new flowable 0 functions object identity 16 
assertsame flowable empty flowable new flowable 0 functions object identity 16 
flowable combinelatest flowable never flowable error new testexception new bifunction object object object override public object apply object a object b throws exception return a test assertfailure testexception class 
testhelper checkdisposed flowable combinelatest flowable never flowable never new bifunction object object object override public object apply object a object b throws exception return a 
final testsubscriber object ts new testsubscriber flowable combinelatest flowable just 1 doonnext new consumer integer override public void accept integer v throws exception ts cancel flowable never new bifunction object object object override public object apply object a object b throws exception return a subscribe ts 
for int i 0 i testhelper race default loops i list throwable errors testhelper trackpluginerrors try final publishprocessor integer pp1 publishprocessor create final publishprocessor integer pp2 publishprocessor create testsubscriberex integer ts flowable combinelatest pp1 pp2 new bifunction integer integer integer override public integer apply integer a integer b throws exception return a to testhelper integer testconsumer final testexception ex1 new testexception final testexception ex2 new testexception runnable r1 new runnable override public void run pp1 onerror ex1 runnable r2 new runnable override public void run pp2 onerror ex2 testhelper race r1 r2 if ts errors size 0 if ts errors get 0 instanceof compositeexception ts assertsubscribed assertnotcomplete assertnovalues for throwable e testhelper errorlist ts asserttrue e tostring e instanceof testexception else ts assertfailure testexception class for throwable e errors asserttrue e tostring e getcause instanceof testexception finally rxjavaplugins reset 
flowable integer source flowable range 1 1000 subscribeon schedulers computation flowable combinelatest source source new bifunction object object object override public object apply object a object b throws exception return a take 500 test awaitdone 5 timeunit seconds assertnoerrors assertcomplete 
flowable new publisher flowable error new testexception flowable just 1 new function object object override public object apply object a throws exception return a 128 test assertfailure testexception class 
flowable new publisher flowable error new testexception startwithitem 1 flowable empty new function object object override public object apply object a throws exception return a 128 test assertfailure testexception class 
list throwable errors testhelper trackpluginerrors try final int count 0 flowable combinelatest flowable empty flowable error new testexception doonsubscribe new consumer subscription override public void accept subscription s throws exception count 0 new bifunction object object object override public object apply object a object b throws exception return 0 test assertresult assertequals 0 count 0 asserttrue errors tostring errors isempty finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try final int count 0 flowable arrays aslist flowable empty flowable error new testexception doonsubscribe new consumer subscription override public void accept subscription s throws exception count 0 new function object object override public object apply object a throws exception return 0 test assertresult assertequals 0 count 0 asserttrue errors tostring errors isempty finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try testsubscriber object testsubscriber testsubscriber create testscheduler testscheduler new testscheduler flowable integer emptyflowable flowable timer 10 timeunit milliseconds testscheduler flatmap new function long publisher integer override public publisher integer apply long along throws exception return flowable error new exception flowable object errorflowable flowable timer 100 timeunit milliseconds testscheduler map new function long object override public object apply long along throws exception throw new exception flowable arrays aslist emptyflowable dooneach new consumer notification integer override public void accept notification integer integernotification throws exception system out println emptyflowable integernotification dofinally new action override public void run throws exception system out println emptyflowable dofinally errorflowable dooneach new consumer notification object override public void accept notification object integernotification throws exception system out println errorflowable integernotification dofinally new action override public void run throws exception system out println errorflowable dofinally new function object object override public object apply object objects throws exception return 0 dooneach new consumer notification object override public void accept notification object integernotification throws exception system out println integernotification dofinally new action override public void run throws exception system out println dofinally subscribe testsubscriber testscheduler advancetimeby 100 timeunit milliseconds testsubscriber awaitdone 5 timeunit seconds asserttrue errors tostring errors isempty finally rxjavaplugins reset 
final publishprocessor integer pp1 publishprocessor create final publishprocessor integer pp2 publishprocessor create testsubscriber integer ts new testsubscriber integer override public void onnext integer t super onnext t cancel if pp1 hassubscribers onerror new pp1 not disposed else if pp2 hassubscribers onerror new pp2 not disposed else oncomplete flowable combinelatest pp1 pp2 new bifunction integer integer integer override public integer apply integer t1 integer t2 throws exception return t1 t2 subscribe ts pp1 onnext 1 pp2 onnext 2 ts assertresult 3 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable async flowable combinelatest flowable just 1 flowable just 2 new bifunction integer integer integer override public integer apply integer t1 integer t2 throws exception return null subscribe ts ts assertfusionmode queuefuseable async nullpointerexception class the combiner returned a null value 
flowable arrays aslist flowable just 21 concatwith flowable integer error new testexception flowable just 21 delay 100 timeunit milliseconds new function object object override public object apply object a throws exception return integer a 0 integer a 1 test awaitdone 5 timeunit seconds assertfailure testexception class 42 
publisher integer source new publisher integer override public void subscribe subscriber super integer subscriber flowable just 1 subscribe subscriber flowable combinelatest arrays aslist source source new function object integer override public integer apply object t throws throwable return 2 test assertresult 2 
flowable integer source new flowable integer override public void subscribeactual subscriber super integer s flowable just 1 subscribe s flowable combinelatest arrays aslist source source new function object integer override public integer apply object t throws throwable return 2 test assertresult 2 
for int i 0 i testhelper race default loops i testsubscriber integer ts new testsubscriber publishprocessor integer pp publishprocessor create flowable combinelatest pp flowable never a b a subscribe ts testhelper race pp oncomplete ts cancel 
testhelper witherrortracking errors testexception ex new testexception for int i 0 i testhelper race default loops i testsubscriberex object ts new testsubscriberex atomicreference subscriber super object ref new atomicreference flowable object f new flowable object override public void subscribeactual subscriber super object s ref set s flowable arrays aslist f flowable never a a subscribe ts ref get onsubscribe new booleansubscription testhelper race ref get onerror ex ts cancel if ts errors isempty testhelper assertundeliverable errors 0 testexception class 
publishprocessor integer pp1 publishprocessor create publishprocessor integer pp2 publishprocessor create testsubscriber integer ts flowable combinelatest pp1 pp2 a b a b doonnext v if v 2 pp2 onnext 3 pp2 oncomplete pp1 oncomplete test pp1 onnext 1 pp2 onnext 1 ts assertresult 2 4 
flowable combinelatest arrays aslist flowable never null a a test assertfailure nullpointerexception class 
testhelper flowable combinelatest flowable never flowable never a b a 
testsubscriberex object ts new testsubscriberex ts setinitialfusionmode queuefuseable sync flowable combinelatest flowable never flowable never a b a subscribe ts ts assertfuseable assertfusionmode queuefuseable none 
testsubscriberex object ts new testsubscriberex ts setinitialfusionmode queuefuseable any queuefuseable boundary flowable combinelatest flowable never flowable never a b a subscribe ts ts assertfuseable assertfusionmode queuefuseable none 
testsubscriberex integer ts new testsubscriberex ts setinitialfusionmode queuefuseable any flowable combinelatest flowable just 1 flowable just 2 a b a b subscribewith ts assertfuseable assertfusionmode queuefuseable async assertresult 3 
testsubscriberex integer ts new testsubscriberex ts setinitialfusionmode queuefuseable any flowable combinelatest flowable just 1 flowable just 2 a b a b parallel sequential subscribewith ts assertresult 3 
testsubscriberex integer ts new testsubscriberex ts setinitialfusionmode queuefuseable any flowable combinelatest flowable just 1 flowable just 2 a b a b compose testhelper parallel sequential subscribewith ts assertresult 3 
testsubscriberex integer ts new testsubscriberex ts setinitialfusionmode queuefuseable any flowable combinelatest flowable just 1 flowable integer error new testexception a b a b subscribewith ts assertfuseable assertfusionmode queuefuseable async assertfailure testexception class 
publishprocessor integer pp publishprocessor create testsubscriber integer ts flowable combinelatest pp flowable just 1 a b a b doonnext v if v 1 pp onnext 2 pp oncomplete test pp onnext 0 ts assertresult 1 3 
publishprocessor integer pp publishprocessor create testsubscriber list object ts flowable arrays aslist pp flowable just 1 a arrays aslist a doonnext v if integer v get 0 0 pp onnext 2 pp oncomplete test pp onnext 0 ts assertresult arrays aslist 0 1 arrays aslist 2 1 
testsubscriberex object ts new testsubscriberex ts setinitialfusionmode queuefuseable any flowable combinelatest flowable just 1 flowable just 1 a b throw new testexception subscribewith ts assertfuseable assertfusionmode queuefuseable async assertfailure testexception class 
flowable combinelatest flowable just 1 flowable just 1 a b throw new testexception compose testhelper rebatchrequests 10 test assertfailure testexception class 
new thread override public void run try thread sleep 500 catch interruptedexception e o onnext value start 
new thread override public void run try thread sleep 500 catch interruptedexception e o onerror new testexception start 
flowableprocessor string obs publishprocessor create iterator string it obs blockingnext iterator obs one asserttrue it hasnext assertequals one it next obs two asserttrue it hasnext assertequals two it next obs three try assertequals three it next catch e fail calling next without hasnext should wait for next fire obs oncomplete assertfalse it hasnext try it next fail at the end of an iterator should throw a catch e assertfalse it hasnext try it next fail at the end of an iterator should throw a catch e 
flowableprocessor string obs publishprocessor create iterator string it obs blockingnext iterator obs one asserttrue it hasnext assertequals one it next obs try it hasnext fail expected an testexception catch testexception e it 
flowable string obs flowable string empty observeon schedulers newthread iterator string it obs blockingnext iterator assertfalse it hasnext try it next fail at the end of an iterator should throw a catch e assertfalse it hasnext try it next fail at the end of an iterator should throw a catch e 
flowableprocessor string obs publishprocessor create iterator string it obs blockingnext iterator obs onerror new testexception try it hasnext fail expected an testexception catch testexception e it 
flowableprocessor string obs publishprocessor create iterator string it obs blockingnext iterator obs try it hasnext fail expected an testexception catch testexception e it 
try it hasnext fail hasnext should throw a testexception catch testexception e try it next fail next should throw a testexception catch testexception e 
flowableprocessor string obs publishprocessor create iterator string it obs blockingnext iterator obs one assertequals one it next obs two assertequals two it next obs oncomplete try it next fail at the end of an iterator should throw a catch e 
flowableprocessor string obs publishprocessor create iterator string it obs blockingnext iterator obs one asserttrue it hasnext asserttrue it hasnext asserttrue it hasnext asserttrue it hasnext assertequals one it next obs oncomplete try it next fail at the end of an iterator should throw a catch e 
int repeat 0 for final serialdisposable task new serialdisposable try final countdownlatch finished new countdownlatch 1 final int count 30 final countdownlatch timehaspassed new countdownlatch count final atomicboolean running new atomicboolean true final atomicinteger count new atomicinteger 0 final flowable integer obs flowable unsafecreate new publisher integer override public void subscribe final subscriber super integer subscriber subscriber onsubscribe new booleansubscription task replace schedulers single scheduledirect new runnable override public void run try while running get task isdisposed subscriber onnext count incrementandget timehaspassed countdown subscriber oncomplete catch throwable e subscriber onerror e finally finished countdown iterator integer it obs blockingnext iterator asserttrue it hasnext int a it next asserttrue it hasnext int b it next asserttrue a and b should be different a b timehaspassed await 8000 timeunit milliseconds asserttrue it hasnext int c it next asserttrue c should not just be the next in sequence c b 1 asserttrue expected that c c is higher than or equal to count c count asserttrue it hasnext int d it next asserttrue d c running set false finished await assertfalse it hasnext system out println a a b b c c break catch assertionerror ex if repeat 3 throw ex thread sleep int 1000 math pow 2 repeat 1 finally task dispose 
flowable long f flowable interval 250 timeunit milliseconds publishprocessor integer terminal publishprocessor create flowable long source f takeuntil terminal iterable long iter source blockingnext for int j 0 j 3 j blockingflowablenext nextiterator long it blockingflowablenext nextiterator long iter iterator for long i 0 i 10 i assert asserttrue it hasnext assert assertequals j th iteration next long valueof i it next terminal onnext 1 
assertequals 1 behaviorprocessor createdefault 1 take 1 blockingsingle intvalue assertequals 2 behaviorprocessor createdefault 2 blockingiterable iterator next intvalue assertequals 3 behaviorprocessor createdefault 3 blockingnext iterator next intvalue 
flowable never blockingnext iterator remove 
iterator object it flowable never blockingnext iterator try thread currentthread interrupt it next catch runtimeexception ex asserttrue ex tostring ex getcause instanceof interruptedexception 
nextsubscriber integer no new nextsubscriber list throwable errors testhelper trackpluginerrors try no onerror new testexception testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
nextsubscriber integer no new nextsubscriber no setwaiting no onnext notification createonnext 1 no setwaiting no onnext notification createonnext 1 assertequals 1 no takenext getvalue intvalue 
nextsubscriber integer no new nextsubscriber no setwaiting no onnext notification integer createoncomplete no setwaiting no onnext notification createonnext 1 asserttrue no takenext isoncomplete 
subscriber testhelper mocksubscriber 
onsubscribe new one two three flowable string w flowable unsafecreate onsubscribe w serialize subscribe subscriber onsubscribe waittofinish verify subscriber times 1 onnext one verify subscriber times 1 onnext two verify subscriber times 1 onnext three verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
onsubscribe new one two three flowable string w flowable unsafecreate onsubscribe busyobserver busyobserver new busyobserver w serialize subscribe busyobserver onsubscribe waittofinish assertequals 3 busyobserver onnextcount get assertfalse busyobserver onerror asserttrue busyobserver oncomplete asserttrue onsubscribe maxconcurrentthreads get 1 assertequals 1 busyobserver maxconcurrentthreads get 
int max 9 for int i 0 i max i try multithreadedwithnpe return catch assertionerror ex if i max throw ex thread sleep long 1000 math random 100 
onsubscribe new one two three null flowable string w flowable unsafecreate onsubscribe busyobserver busyobserver new busyobserver w serialize subscribe busyobserver onsubscribe waittofinish system out println maxconcurrentthreads onsubscribe maxconcurrentthreads get asserttrue busyobserver onnextcount get 4 asserttrue busyobserver onerror assertfalse busyobserver oncomplete asserttrue onsubscribe maxconcurrentthreads get 1 assertequals 1 busyobserver maxconcurrentthreads get 
int max 9 for int i 0 i max i try return catch assertionerror ex if i max throw ex thread sleep long 1000 math random 100 
boolean lessthan9 false for int i 0 i 3 i onsubscribe new one two three null four five six seven eight nine flowable string w flowable unsafecreate onsubscribe busyobserver busyobserver new busyobserver w serialize subscribe busyobserver onsubscribe waittofinish system out println maxconcurrentthreads onsubscribe maxconcurrentthreads get system out println onnext count busyobserver onnextcount get if busyobserver onnextcount get 9 lessthan9 true asserttrue busyobserver onerror assertfalse busyobserver oncomplete asserttrue onsubscribe maxconcurrentthreads get 1 assertequals 1 busyobserver maxconcurrentthreads get asserttrue lessthan9 
for int i 0 i numstringstosend i subscriber onnext astring 
if waitonthese null for future f waitonthese try f get catch throwable e system err println error while waiting on future in completionthread if event onerror subscriber onerror new runtimeexception mocked exception else if event oncomplete subscriber oncomplete else throw new expecting either onerror or oncomplete 
subscriber onsubscribe new booleansubscription system out println subscribed to t new thread new runnable override public void run try system out println running thread for string s values system out println onnext s subscriber onnext s subscriber oncomplete catch throwable e throw new runtimeexception e system out println starting thread t start system out println done starting thread 
try t join catch interruptedexception e throw new runtimeexception e 
subscriber onsubscribe new booleansubscription system out println subscribed to final nullpointerexception npe new nullpointerexception t new thread new runnable override public void run try system out println running thread for final string s values threadpool execute new runnable override public void run threadsrunning incrementandget try if s null system out println onnext null throw npe else try thread sleep 10 catch interruptedexception ex system out println onnext s subscriber onnext s int concurrentthreads threadsrunning get int maxthreads maxconcurrentthreads get if concurrentthreads maxthreads maxconcurrentthreads compareandset maxthreads concurrentthreads catch throwable e subscriber onerror e finally threadsrunning decrementandget threadpool shutdown catch throwable e throw new runtimeexception e try threadpool awaittermination 2 timeunit seconds catch interruptedexception e throw new runtimeexception e subscriber oncomplete system out println starting thread t start system out println done starting thread 
try t join catch interruptedexception e throw new runtimeexception e 
threadsrunning incrementandget system out println busyobserver received oncomplete oncomplete true int concurrentthreads threadsrunning get int maxthreads maxconcurrentthreads get if concurrentthreads maxthreads maxconcurrentthreads compareandset maxthreads concurrentthreads threadsrunning decrementandget 
threadsrunning incrementandget system out println busyobserver received onerror e getmessage onerror true int concurrentthreads threadsrunning get int maxthreads maxconcurrentthreads get if concurrentthreads maxthreads maxconcurrentthreads compareandset maxthreads concurrentthreads threadsrunning decrementandget 
threadsrunning incrementandget try onnextcount incrementandget system out println busyobserver received onnext args try thread sleep 200 catch interruptedexception e e printstacktrace finally int concurrentthreads threadsrunning get int maxthreads maxconcurrentthreads get if concurrentthreads maxthreads maxconcurrentthreads compareandset maxthreads concurrentthreads threadsrunning decrementandget 
testsubscriber integer ts new testsubscriber 0 integer ws new 1 ts ts onsubscribe ws ws request 0 ts assertempty ws request 1 ts assertresult 1 ws request 1 ts assertresult 1 
flowable range 1 observeon schedulers single map new function integer string override public string apply integer t throws exception string name thread currentthread getname if name contains rxsinglescheduler return rxsinglescheduler return name concatmap new function string publisher extends object override public publisher extends object apply string v throws exception return flowable just v observeon schedulers computation distinct test awaitdone 5 timeunit seconds assertresult rxsinglescheduler 
flowable integer just flowable just 1 int n 1000 for int i 0 i testhelper race default loops i publishprocessor flowable integer source publishprocessor create testsubscriber integer ts source concatmap v v n 1 test 1l testhelper race for int j 0 j n j source onnext just for int j 0 j n j ts request 1 ts assertvaluecount n 
flowable integer just flowable just 1 int n 1000 for int i 0 i testhelper race default loops i publishprocessor flowable integer source publishprocessor create testsubscriber integer ts source concatmapdelayerror v v true n 1 test 1l testhelper race for int j 0 j n j source onnext just for int j 0 j n j ts request 1 ts assertvaluecount n 
flowable range 1 observeon schedulers single map new function integer string override public string apply integer t throws exception string name thread currentthread getname if name contains rxsinglescheduler return rxsinglescheduler return name concatmapdelayerror new function string publisher extends object override public publisher extends object apply string v throws exception return flowable just v observeon schedulers computation distinct test awaitdone 5 timeunit seconds assertresult rxsinglescheduler 
flowable just 1 map new function integer integer override public integer apply integer v throws exception throw new testexception compose testhelper integer concatmap new function integer publisher integer override public publisher integer apply integer v throws exception return flowable just v test assertfailure testexception class 
flowable just 1 map new function integer integer override public integer apply integer v throws exception throw new testexception compose testhelper integer concatmapdelayerror new function integer publisher integer override public publisher integer apply integer v throws exception return flowable just v test assertfailure testexception class 
final atomicinteger counter new atomicinteger flowable range 1 5 concatmap new function integer flowable integer override public flowable integer apply integer v throws exception return flowable just v dooncancel new action override public void run throws exception counter getandincrement test assertresult 1 2 3 4 5 assertequals 0 counter get 
flowable just 1 2 3 101 102 23 890 120 32 concatmapdelayerror new function integer flowable integer override public flowable integer apply final integer integer throws exception return flowable fromcallable new callable integer override public integer call throws exception if integer 100 throw new nullpointerexception test null exp return integer test assertfailure compositeexception class 1 2 3 23 32 
flowable just 1 2 3 101 102 23 890 120 32 concatmapdelayerror new function integer flowable integer override public flowable integer apply final integer integer throws exception return flowable fromcallable new callable integer override public integer call throws exception if integer 100 throw new nullpointerexception test null exp return integer false 2 test assertfailure nullpointerexception class 1 2 3 
testhelper new flowableconverter integer flowable integer override public flowable integer apply flowable integer upstream return upstream concatmap new function integer publisher integer override public publisher integer apply integer v throws throwable return flowable just v hide 
testhelper new flowableconverter integer flowable integer override public flowable integer apply flowable integer upstream return upstream concatmapdelayerror new function integer publisher integer override public publisher integer apply integer v throws throwable return flowable just v hide false 2 
testhelper new flowableconverter integer flowable integer override public flowable integer apply flowable integer upstream return upstream concatmapdelayerror new function integer publisher integer override public publisher integer apply integer v throws throwable return flowable just v hide true 2 
unicastprocessor integer up unicastprocessor create up onnext 1 up oncomplete up concatmap v flowable just 1 hide test assertresult 1 
flowable fromcallable 1 concatmap v flowable just 1 test assertresult 1 
flowable string obs flowable just one two six singleobserver boolean observer testhelper mocksingleobserver obs all new predicate string override public boolean test string s return s length 3 subscribe observer verify observer onsubscribe disposable any verify observer onsuccess true observer 
flowable string obs flowable just one two three six singleobserver boolean observer testhelper mocksingleobserver obs all new predicate string override public boolean test string s return s length 3 subscribe observer verify observer onsubscribe disposable any verify observer onsuccess false observer 
flowable string obs flowable empty singleobserver boolean observer testhelper mocksingleobserver obs all new predicate string override public boolean test string s return s length 3 subscribe observer verify observer onsubscribe disposable any verify observer onsuccess true observer 
throwable error new throwable flowable string obs flowable error error singleobserver boolean observer testhelper mocksingleobserver obs all new predicate string override public boolean test string s return s length 3 subscribe observer verify observer onsubscribe disposable any verify observer onerror error observer 
flowable integer f flowable fromarray 1 3 5 6 single boolean allodd f all new predicate integer override public boolean test integer i return i 2 1 assertfalse allodd blockingget 
flowable integer source flowable just 1 all new predicate integer override public boolean test integer t1 return false flatmappublisher new function boolean publisher integer override public publisher integer apply boolean t1 return flowable just 2 delay 500 timeunit milliseconds assertequals object 2 source blockingfirst 
testobserverex boolean to new testobserverex flowable empty all new predicate object override public boolean test object t return false subscribe to to assertterminated to assertnoerrors to assertcomplete to assertvalue true 
testobserverex boolean to new testobserverex final ex new flowable just boo all new predicate string override public boolean test string v throw ex subscribe to to assertterminated to assertnovalues to assertnotcomplete to asserterror ex 
flowable string obs flowable just one two six subscriber boolean subscriber testhelper mocksubscriber obs all new predicate string override public boolean test string s return s length 3 toflowable subscribe subscriber verify subscriber onsubscribe subscription any verify subscriber onnext true verify subscriber oncomplete subscriber 
flowable string obs flowable just one two three six subscriber boolean subscriber testhelper mocksubscriber obs all new predicate string override public boolean test string s return s length 3 toflowable subscribe subscriber verify subscriber onsubscribe subscription any verify subscriber onnext false verify subscriber oncomplete subscriber 
flowable string obs flowable empty subscriber boolean subscriber testhelper mocksubscriber obs all new predicate string override public boolean test string s return s length 3 toflowable subscribe subscriber verify subscriber onsubscribe subscription any verify subscriber onnext true verify subscriber oncomplete subscriber 
throwable error new throwable flowable string obs flowable error error subscriber boolean subscriber testhelper mocksubscriber obs all new predicate string override public boolean test string s return s length 3 toflowable subscribe subscriber verify subscriber onsubscribe subscription any verify subscriber onerror error subscriber 
flowable integer f flowable fromarray 1 3 5 6 flowable boolean allodd f all new predicate integer override public boolean test integer i return i 2 1 toflowable assertfalse allodd blockingfirst 
flowable integer source flowable just 1 all new predicate integer override public boolean test integer t1 return false toflowable flatmap new function boolean publisher integer override public publisher integer apply boolean t1 return flowable just 2 delay 500 timeunit milliseconds assertequals object 2 source blockingfirst 
testsubscriber boolean ts new testsubscriber 0l flowable empty all new predicate object override public boolean test object t1 return false toflowable subscribe ts ts assertnovalues ts assertnoerrors ts assertnotcomplete 
testsubscriberex boolean ts new testsubscriberex 1l flowable empty all new predicate object override public boolean test object t return false toflowable subscribe ts ts assertterminated ts assertnoerrors ts assertcomplete ts assertvalue true 
testsubscriberex boolean ts new testsubscriberex final ex new flowable just boo all new predicate string override public boolean test string v throw ex toflowable subscribe ts ts assertterminated ts assertnovalues ts assertnotcomplete ts asserterror ex 
testhelper checkdisposed flowable just 1 all functions alwaystrue toflowable testhelper checkdisposed flowable just 1 all functions alwaystrue 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onnext 1 subscriber onnext 2 subscriber onerror new testexception subscriber oncomplete all new predicate integer override public boolean test integer v throws exception throw new testexception toflowable test assertfailure testexception class testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onnext 1 subscriber onnext 2 subscriber onerror new testexception subscriber oncomplete all new predicate integer override public boolean test integer v throws exception throw new testexception toflowable test assertfailure testexception class testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
testhelper new function flowable integer object override public object apply flowable integer f throws exception return f all functions alwaystrue false 1 1 true testhelper new function flowable integer object override public object apply flowable integer f throws exception return f all functions alwaystrue toflowable false 1 1 true 
testhelper new function flowable object publisher boolean override public publisher boolean apply flowable object f throws exception return f all functions alwaystrue toflowable testhelper new function flowable object single boolean override public single boolean apply flowable object f throws exception return f all functions alwaystrue 
subscriber string subscriber testhelper mocksubscriber final string o 1 3 5 7 final string e 2 4 6 final flowable string odds flowable fromarray o final flowable string even flowable fromarray e flowable string concat flowable concat odds even concat subscribe subscriber verify subscriber times 7 onnext anystring 
subscriber string subscriber testhelper mocksubscriber final string o 1 3 5 7 final string e 2 4 6 final flowable string odds flowable fromarray o final flowable string even flowable fromarray e final list flowable string list new arraylist list add odds list add even flowable string concat flowable concat flowable fromiterable list concat subscribe subscriber verify subscriber times 7 onnext anystring 
subscriber string subscriber testhelper mocksubscriber final string o 1 3 5 7 final string e 2 4 6 final flowable string odds flowable fromarray o final flowable string even flowable fromarray e flowable flowable string flowableofflowables flowable unsafecreate new publisher flowable string override public void subscribe subscriber super flowable string subscriber subscriber onsubscribe new booleansubscription subscriber onnext odds subscriber onnext even subscriber oncomplete flowable string concat flowable concat flowableofflowables concat subscribe subscriber verify subscriber times 7 onnext anystring 
subscriber onsubscribe new booleansubscription subscriber onnext odds subscriber onnext even subscriber oncomplete 
subscriber string subscriber testhelper mocksubscriber testobservable string o1 new testobservable one two three testobservable string o2 new testobservable four five six flowable concat flowable unsafecreate o1 flowable unsafecreate o2 subscribe subscriber try o1 t join o2 t join catch throwable e throw new runtimeexception failed waiting on threads inorder inorder inorder subscriber inorder verify subscriber times 1 onnext one inorder verify subscriber times 1 onnext two inorder verify subscriber times 1 onnext three inorder verify subscriber times 1 onnext four inorder verify subscriber times 1 onnext five inorder verify subscriber times 1 onnext six 
for int i 0 i 500 i if i 10 0 system out println i nestedasyncconcat 
subscriber string subscriber testhelper mocksubscriber final testobservable string o1 new testobservable one two three final testobservable string o2 new testobservable four five six final testobservable string o3 new testobservable seven eight nine final countdownlatch allowthird new countdownlatch 1 final atomicreference thread parent new atomicreference final countdownlatch parenthasstarted new countdownlatch 1 final countdownlatch parenthasfinished new countdownlatch 1 flowable flowable string flowable unsafecreate new publisher flowable string override public void subscribe final subscriber super flowable string subscriber final disposable d disposable empty subscriber onsubscribe new subscription override public void request long n override public void cancel d dispose parent set new thread new runnable override public void run try if d isdisposed system out println emit o1 subscriber onnext flowable unsafecreate o1 if d isdisposed system out println emit o2 subscriber onnext flowable unsafecreate o2 try allowthird await catch interruptedexception e subscriber onerror e if d isdisposed system out println emit o3 subscriber onnext flowable unsafecreate o3 catch throwable e subscriber onerror e finally system out println done parent flowable subscriber oncomplete parenthasfinished countdown parent get start parenthasstarted countdown flowable concat subscribe subscriber parenthasstarted await try system out println thread1 is starting waiting for it to complete o1 waitforthreaddone system out println thread2 is starting waiting for it to complete o2 waitforthreaddone catch throwable e throw new runtimeexception failed waiting on threads e inorder inorder inorder subscriber inorder verify subscriber times 1 onnext one inorder verify subscriber times 1 onnext two inorder verify subscriber times 1 onnext three inorder verify subscriber times 1 onnext four inorder verify subscriber times 1 onnext five inorder verify subscriber times 1 onnext six inorder verify subscriber never onnext seven inorder verify subscriber never onnext eight inorder verify subscriber never onnext nine verify subscriber never oncomplete verify subscriber never onerror any throwable class allowthird countdown try o3 waitforthreaddone catch throwable e throw new runtimeexception failed waiting on threads e try if parenthasfinished await 5 timeunit seconds fail parent didn t finish within the time limit catch throwable e throw new runtimeexception failed waiting on threads e inorder verify subscriber times 1 onnext seven inorder verify subscriber times 1 onnext eight inorder verify subscriber times 1 onnext nine verify subscriber never onerror any throwable class inorder verify subscriber times 1 oncomplete 
subscriber string subscriber testhelper mocksubscriber final string o 1 3 5 7 final string e 2 4 6 final flowable string odds flowable fromarray o final flowable string even flowable fromarray e final countdownlatch callonce new countdownlatch 1 final countdownlatch oktocontinue new countdownlatch 1 testobservable flowable string new testobservable callonce oktocontinue odds even flowable string concatf flowable concat flowable unsafecreate concatf subscribe subscriber try callonce await catch throwable ex ex printstacktrace fail ex getmessage verify subscriber times 1 onnext 1 verify subscriber times 1 onnext 3 verify subscriber times 1 onnext 5 verify subscriber times 1 onnext 7 try oktocontinue countdown t join catch throwable ex ex printstacktrace fail ex getmessage verify subscriber times 1 onnext 2 verify subscriber times 1 onnext 4 verify subscriber times 1 onnext 6 
final testobservable string w1 new testobservable one two three final testobservable string w2 new testobservable hello integer max value subscriber string subscriber testhelper mocksubscriber testobservable flowable string new testobservable flowable unsafecreate w1 flowable unsafecreate w2 flowable string concatf flowable concat flowable unsafecreate concatf take 50 subscribe subscriber try w1 waitforthreaddone w2 waitforthreaddone catch interruptedexception e e printstacktrace inorder inorder inorder subscriber inorder verify subscriber times 1 onnext one inorder verify subscriber times 1 onnext two inorder verify subscriber times 1 onnext three inorder verify subscriber times 47 onnext hello verify subscriber times 1 oncomplete verify subscriber never onerror any throwable class 
final countdownlatch oktocontinuew1 new countdownlatch 1 final countdownlatch oktocontinuew2 new countdownlatch 1 final testobservable string w1 new testobservable null oktocontinuew1 one two three final testobservable string w2 new testobservable null oktocontinuew2 four five six subscriber string subscriber testhelper mocksubscriber flowable flowable string flowable unsafecreate new publisher flowable string override public void subscribe subscriber super flowable string subscriber subscriber onsubscribe new booleansubscription subscriber onnext flowable unsafecreate w1 subscriber onnext flowable unsafecreate w2 subscriber oncomplete flowable string concat flowable concat concat subscribe subscriber verify subscriber times 0 oncomplete try oktocontinuew1 countdown oktocontinuew2 countdown w1 t join w2 t join catch interruptedexception e e printstacktrace inorder inorder inorder subscriber inorder verify subscriber times 1 onnext one inorder verify subscriber times 1 onnext two inorder verify subscriber times 1 onnext three inorder verify subscriber times 1 onnext four inorder verify subscriber times 1 onnext five inorder verify subscriber times 1 onnext six verify subscriber times 1 oncomplete 
final countdownlatch callonce new countdownlatch 1 final countdownlatch oktocontinue new countdownlatch 1 final testobservable string w1 new testobservable one two three final testobservable string w2 new testobservable callonce oktocontinue four five six subscriber string subscriber testhelper mocksubscriber testsubscriber string ts new testsubscriber subscriber 0l final flowable string concat flowable concat flowable unsafecreate w1 flowable unsafecreate w2 try concat subscribe ts callonce await ts cancel oktocontinue countdown w1 t join w2 t join catch throwable e e printstacktrace fail e getmessage inorder inorder inorder subscriber inorder verify subscriber times 1 onnext one inorder verify subscriber times 1 onnext two inorder verify subscriber times 1 onnext three inorder verify subscriber times 1 onnext four inorder verify subscriber never onnext five inorder verify subscriber never onnext six inorder verify subscriber never oncomplete 
final countdownlatch callonce new countdownlatch 1 final countdownlatch oktocontinue new countdownlatch 1 final testobservable string w1 new testobservable one two three final testobservable string w2 new testobservable callonce oktocontinue four five six subscriber string subscriber testhelper mocksubscriber testsubscriber string ts new testsubscriber subscriber 0l testobservable flowable string new testobservable flowable unsafecreate w1 flowable unsafecreate w2 flowable string concatf flowable concat flowable unsafecreate concatf subscribe ts try callonce await ts cancel oktocontinue countdown w1 t join w2 t join catch throwable e e printstacktrace fail e getmessage inorder inorder inorder subscriber inorder verify subscriber times 1 onnext one inorder verify subscriber times 1 onnext two inorder verify subscriber times 1 onnext three inorder verify subscriber times 1 onnext four inorder verify subscriber never onnext five inorder verify subscriber never onnext six verify subscriber never oncomplete verify subscriber never onerror any throwable class 
threadhasstarted await t join 
subscriber object subscriber1 testhelper mocksubscriber subscriber object subscriber2 testhelper mocksubscriber testscheduler s new testscheduler flowable long timer flowable interval 500 timeunit milliseconds s take 2 flowable long f flowable concat timer timer f subscribe subscriber1 f subscribe subscriber2 inorder inorder1 inorder subscriber1 inorder inorder2 inorder subscriber2 s advancetimeby 500 timeunit milliseconds inorder1 verify subscriber1 times 1 onnext 0l inorder2 verify subscriber2 times 1 onnext 0l s advancetimeby 500 timeunit milliseconds inorder1 verify subscriber1 times 1 onnext 1l inorder2 verify subscriber2 times 1 onnext 1l s advancetimeby 500 timeunit milliseconds inorder1 verify subscriber1 times 1 onnext 0l inorder2 verify subscriber2 times 1 onnext 0l s advancetimeby 500 timeunit milliseconds inorder1 verify subscriber1 times 1 onnext 1l inorder2 verify subscriber2 times 1 onnext 1l inorder1 verify subscriber1 times 1 oncomplete inorder2 verify subscriber2 times 1 oncomplete verify subscriber1 never onerror any throwable class verify subscriber2 never onerror any throwable class 
final int n flowable flowable integer source flowable range 0 n map new function integer flowable integer override public flowable integer apply integer v return flowable just v single list integer result flowable concat source tolist singleobserver list integer o testhelper mocksingleobserver inorder inorder inorder o result subscribe o list integer list new arraylist n for int i 0 i n i list add i inorder verify o onsuccess list verify o never onerror any throwable class 
final int n flowable flowable integer source flowable range 0 n map new function integer flowable integer override public flowable integer apply integer v return flowable just v single list integer result flowable concat source take n 2 tolist singleobserver list integer o testhelper mocksingleobserver inorder inorder inorder o result subscribe o list integer list new arraylist n for int i 0 i n 2 i list add i inorder verify o onsuccess list verify o never onerror any throwable class 
assertequals 1 int flowable integer empty concatwith flowable just 1 take 1 blockingsingle 
testsubscriber integer ts new testsubscriber flowable range 0 flowable buffersize 2 concatwith flowable range 0 flowable buffersize 2 observeon schedulers computation subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors assertequals flowable buffersize 4 ts values size 
testsubscriber integer ts new testsubscriber flowable range 0 flowable buffersize 2 10 concatwith flowable range 0 flowable buffersize 2 10 observeon schedulers computation subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors assertequals flowable buffersize 4 20 ts values size 
flowable string f flowable unsafecreate new publisher string override public void subscribe subscriber super string s s onsubscribe new booleansubscription s onnext hello s oncomplete s oncomplete testsubscriberex string ts new testsubscriberex flowable concat f f subscribe ts ts awaitdone 500 timeunit milliseconds ts assertterminated ts assertnoerrors ts assertvalues hello hello 
final executorservice executor executors newfixedthreadpool 2 final scheduler sch schedulers from executor function integer flowable integer func new function integer flowable integer override public flowable integer apply integer t flowable integer flowable flowable just t subscribeon sch flowableprocessor integer processor unicastprocessor create flowable subscribe processor return processor int n 5000 final atomicinteger counter new atomicinteger flowable range 1 n concatmap func subscribe new defaultsubscriber integer override public void onnext integer t try thread sleep 1 catch interruptedexception e if counter getandincrement 100 0 system out print system out println counter get override public void oncomplete executor shutdown override public void onerror throwable e executor shutdown long 100 000 if executor awaittermination timeunit milliseconds throw new timeoutexception completed counter get n before timed out after milliseconds assertequals n counter get 
flowable integer f1 flowable just 1 2 3 flowable integer f2 flowable just 4 5 6 final atomicboolean completed new atomicboolean false f1 concatwith f2 subscribe new defaultsubscriber integer override public void oncomplete completed set true override public void onerror throwable e override public void onnext integer t request 2 asserttrue completed get 
final long durationseconds 2 final long starttime system currenttimemillis for int i 0 i if system currenttimemillis starttime timeunit seconds tomillis durationseconds return if i 1000 0 system out println i testsubscriberex integer ts new testsubscriberex flowable range 0 1000 concatmap new function integer flowable integer override public flowable integer apply integer t return flowable fromiterable arrays aslist t observeon schedulers computation subscribe ts ts awaitdone 2500 timeunit milliseconds ts assertterminated ts assertnoerrors assertequals 1000 ts values size assertequals integer 999 ts values get 999 
publisher integer sources new publisher flowable just 1 null flowable range 2 3 flowable error new testexception flowable empty testsubscriberex integer ts flowable sources to testhelper integer testconsumer ts assertfailure compositeexception class 1 2 3 4 compositeexception composite compositeexception ts errors get 0 list throwable list composite getexceptions asserttrue list get 0 tostring list get 0 instanceof nullpointerexception asserttrue list get 1 tostring list get 1 instanceof testexception 
testsubscriber integer ts testsubscriber create 0 flowable just 1 concatwith flowable range 2 3 subscribe ts ts assertnovalues ts request 5 ts assertvalues 1 2 3 4 ts assertcomplete ts assertnoerrors 
testsubscriber integer ts testsubscriber create 0 flowable just 1 concatwith flowable integer empty subscribe ts ts assertnovalues ts request 5 ts assertvalue 1 ts assertcomplete ts assertnoerrors 
testsubscriber integer ts testsubscriber create 0 flowable range 1 2 concatwith flowable integer empty subscribe ts ts assertnovalues ts request 5 ts assertvalues 1 2 ts assertcomplete ts assertnoerrors 
testsubscriber integer ts testsubscriber create 0 flowable integer empty concatwith flowable just 1 subscribe ts ts assertnovalues ts request 5 ts assertvalue 1 ts assertcomplete ts assertnoerrors 
for int i 2 i 10 i flowable integer obs new flowable i arrays fill obs flowable just 1 integer expected new integer i arrays fill expected 1 method m flowable class getmethod concatarray publisher class testsubscriber integer ts testsubscriber create flowable integer m invoke null new object obs subscribe ts ts assertvalues expected ts assertnoerrors ts assertcomplete 
testsubscriber integer ts testsubscriber create flowable just flowable just 1 concatmap function functions identity subscribe ts ts assertvalue 1 ts assertnoerrors ts assertcomplete 
testsubscriber integer ts testsubscriber create flowable just flowable range 1 5 concatmap function functions identity subscribe ts ts assertvalues 1 2 3 4 5 ts assertnoerrors ts assertcomplete 
testsubscriber integer ts testsubscriber create flowable just flowable just 1 concatmapdelayerror function functions identity subscribe ts ts assertvalue 1 ts assertnoerrors ts assertcomplete 
testsubscriber integer ts testsubscriber create flowable just flowable range 1 5 concatmapdelayerror function functions identity subscribe ts ts assertvalues 1 2 3 4 5 ts assertnoerrors ts assertcomplete 
for int i 2 i 10 i object obs new object i arrays fill obs 1 integer expected new integer i arrays fill expected 1 method m flowable class getmethod startwitharray object class testsubscriber integer ts testsubscriber create flowable integer m invoke flowable empty new object obs subscribe ts ts assertvalues expected ts assertnoerrors ts assertcomplete 
return true 
return count 
$EMPTY$
return this 
flowable fromiterable new infiniteiterator concatwith flowable integer empty take 10 test assertresult 0 1 2 3 4 5 6 7 8 9 
flowable integer source flowable just 1 flowable concat source source source test assertresult 1 1 1 
flowable integer source flowable just 1 flowable concat source source source source test assertresult 1 1 1 1 
flowable flowable just 1 flowable just 2 flowable just 3 flowable just 4 test assertresult 1 2 3 4 
flowable flowable just 1 flowable just 2 flowable just 3 concatwith flowable integer error new testexception flowable just 4 test assertfailure testexception class 1 2 3 4 
flowable concatdelayerror arrays aslist flowable just 1 flowable just 2 flowable just 3 flowable just 4 test assertresult 1 2 3 4 
flowable concatdelayerror arrays aslist flowable just 1 flowable just 2 flowable just 3 concatwith flowable integer error new testexception flowable just 4 test assertfailure testexception class 1 2 3 4 
flowable concatdelayerror flowable just flowable just 1 flowable just 2 flowable just 3 flowable just 4 test assertresult 1 2 3 4 
flowable concatdelayerror flowable just flowable just 1 flowable just 2 flowable just 3 concatwith flowable integer error new testexception flowable just 4 test assertfailure testexception class 1 2 3 4 
flowable concatdelayerror flowable just flowable just 1 flowable just 2 flowable just 3 concatwith flowable integer error new testexception flowable just 4 2 false test assertfailure testexception class 1 2 3 
flowable concatdelayerror flowable just flowable just 1 flowable just 2 flowable just 3 concatwith flowable integer error new testexception flowable just 4 2 true test assertfailure testexception class 1 2 3 4 
flowable just flowable just 1 flowable just 2 concatmapdelayerror functions flowable integer identity test assertresult 1 2 
flowable just flowable just 1 concatwith flowable integer error new testexception flowable just 2 concatmapdelayerror functions flowable integer identity test assertfailure testexception class 1 2 
flowable just 1 2 concatmapiterable new function integer iterable integer override public iterable integer apply integer v throws exception return arrays aslist 1 2 3 4 5 1 test assertresult 1 2 3 4 5 1 2 3 4 5 
assertsame flowable empty flowable 
assertsame flowable never flowable flowable never 
assertsame flowable empty flowable object empty concatmapdelayerror new function object flowable integer override public flowable integer apply object v throws exception return flowable just 1 true 16 
flowable just 0 concatmapdelayerror new function object flowable integer override public flowable integer apply object v throws exception return flowable just 1 true 16 test assertresult 1 
assertsame flowable empty flowable concatarray 
assertsame flowable never flowable concatarray flowable never 
assertsame flowable empty flowable object empty concatmap new function object flowable integer override public flowable integer apply object v throws exception return flowable just 1 16 
flowable just 0 hide concatmap new function object flowable integer override public flowable integer apply object v throws exception return flowable just 1 16 test assertresult 1 
flowable just 0 hide concatmapdelayerror new function object flowable integer override public flowable integer apply object v throws exception return flowable just 1 false 16 test assertresult 1 
flowable just 1 hide concatmap functions justfunction flowable just 2 test 1l assertresult 2 
flowable just 1 hide concatmapdelayerror functions justfunction flowable just 2 test 1l assertresult 2 
flowable just 1 hide concatmap functions justfunction flowable empty test assertresult 
flowable just 1 hide concatmapdelayerror functions justfunction flowable empty test assertresult 
new flowable integer override protected void subscribeactual subscriber super integer s s onsubscribe new booleansubscription for int i 0 i 10 i s onnext i concatmap functions justfunction flowable just 2 8 test 0l assertfailure class 
testhelper new function flowable object publisher integer override public publisher integer apply flowable object f throws exception return f concatmap functions justfunction flowable just 2 testhelper new function flowable object publisher integer override public publisher integer apply flowable object f throws exception return f concatmapdelayerror functions justfunction flowable just 2 
final publishprocessor integer pp publishprocessor create final testsubscriberex integer ts new testsubscriberex integer override public void onnext integer t super onnext t if t 1 pp onerror new testexception first pp concatmap functions justfunction flowable just 1 subscribe ts pp onnext 1 assertfalse pp hassubscribers ts testexception class first 1 
final publishprocessor integer pp publishprocessor create final testsubscriberex integer ts new testsubscriberex integer override public void onnext integer t super onnext t if t 1 pp onerror new testexception first pp concatmap functions justfunction flowable just 1 hide subscribe ts pp onnext 1 assertfalse pp hassubscribers ts testexception class first 1 
flowable just 1 hide concatmap functions justfunction flowable error new testexception test assertfailure testexception class 
flowable just 1 hide concatmapdelayerror functions justfunction flowable error new testexception test assertfailure testexception class 
testhelper new function flowable integer object override public object apply flowable integer f throws exception return f concatmap functions justfunction flowable just 1 hide true 1 1 1 
suppresswarnings rawtypes final subscriber ts0 null testsubscriberex integer ts flowable just 1 hide concatmap functions justfunction new flowable integer override protected void subscribeactual subscriber super integer s ts0 0 s s onsubscribe new booleansubscription s onerror new testexception first to testhelper integer testconsumer ts testexception class first list throwable errors testhelper trackpluginerrors try ts0 0 onerror new testexception second testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
suppresswarnings rawtypes final subscriber ts0 null testsubscriberex integer ts flowable just 1 hide concatmapdelayerror functions justfunction new flowable integer override protected void subscribeactual subscriber super integer s ts0 0 s s onsubscribe new booleansubscription s onerror new testexception first to testhelper integer testconsumer ts testexception class first list throwable errors testhelper trackpluginerrors try ts0 0 onerror new testexception second testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
testhelper new function flowable integer object override public object apply flowable integer f throws exception return f concatmapdelayerror functions justfunction flowable just 1 hide true 1 1 1 
flowable range 1 2 map new function integer object override public object apply integer v throws exception throw new testexception concatmap functions justfunction flowable just 1 test assertfailure testexception class 
flowable range 1 2 map new function integer object override public object apply integer v throws exception throw new testexception concatmapdelayerror functions justfunction flowable just 1 test assertfailure testexception class 
flowable just 1 hide concatmap functions justfunction flowable fromcallable new callable object override public object call throws exception throw new testexception test assertfailure testexception class 
flowable just 1 hide concatmapdelayerror functions justfunction flowable fromcallable new callable object override public object call throws exception throw new testexception test assertfailure testexception class 
testhelper checkdisposed flowable range 1 2 concatmap functions justfunction flowable just 1 testhelper checkdisposed flowable range 1 2 concatmapdelayerror functions justfunction flowable just 1 
flowable range 1 2 concatmapdelayerror functions justfunction flowable error new testexception false 16 test assertfailure testexception class 
flowable error new testexception concatmapdelayerror functions justfunction flowable just 2 false 16 test assertfailure testexception class 
flowable range 1 2 concatmap new function integer publisher object override public publisher object apply integer v throws exception throw new testexception test assertfailure testexception class 
final int calls 0 flowable integer source flowable create new flowableonsubscribe integer override public void subscribe flowableemitter integer s throws exception calls 0 s onnext 1 s oncomplete backpressurestrategy missing flowable concatarray source source firstelement test assertresult 1 assertequals 1 calls 0 
final int calls 0 flowable integer source flowable create new flowableonsubscribe integer override public void subscribe flowableemitter integer s throws exception calls 0 s onnext 1 s oncomplete backpressurestrategy missing flowable source source firstelement test assertresult 1 assertequals 1 calls 0 
final int calls 0 flowable integer source flowable create new flowableonsubscribe integer override public void subscribe flowableemitter integer s throws exception calls 0 s onnext 1 s oncomplete backpressurestrategy missing flowable concat arrays aslist source source firstelement test assertresult 1 assertequals 1 calls 0 
final int calls 0 flowable integer source flowable create new flowableonsubscribe integer override public void subscribe flowableemitter integer s throws exception calls 0 s onnext 1 s oncomplete backpressurestrategy missing flowable concatdelayerror arrays aslist source source firstelement test assertresult 1 assertequals 1 calls 0 
final atomicinteger counter new atomicinteger flowable integer source flowable just 1 dooncancel new action override public void run throws exception counter getandincrement flowable concatarray source source source source source test assertresult 1 1 1 1 1 assertequals 0 counter get 
final atomicinteger counter new atomicinteger flowable integer source flowable just 1 dooncancel new action override public void run throws exception counter getandincrement flowable concat arrays aslist source source source source source test assertresult 1 1 1 1 1 assertequals 0 counter get 
testsubscriberex object ts new testsubscriberex flowable flowable error new ioexception flowable error new testexception subscribe ts ts assertfailure compositeexception class testhelper ts ioexception class testexception class 
testsubscriberex object ts new testsubscriberex flowable null null subscribe ts ts assertfailure compositeexception class testhelper ts nullpointerexception class nullpointerexception class 
objectsubscriber testhelper mocksubscriber singleobserver testhelper mocksingleobserver 
flowable string source flowable just a bb ccc flowable map integer string mapped source tomap lengthfunc toflowable map integer string expected new hashmap expected put 1 a expected put 2 bb expected put 3 ccc expected put 4 mapped subscribe objectsubscriber verify objectsubscriber never onerror any throwable class verify objectsubscriber times 1 onnext expected verify objectsubscriber times 1 oncomplete 
flowable string source flowable just a bb ccc flowable map integer string mapped source tomap lengthfunc duplicate toflowable map integer string expected new hashmap expected put 1 aa expected put 2 expected put 3 expected put 4 mapped subscribe objectsubscriber verify objectsubscriber never onerror any throwable class verify objectsubscriber times 1 onnext expected verify objectsubscriber times 1 oncomplete 
flowable string source flowable just a bb ccc function string integer lengthfuncerr new function string integer override public integer apply string t1 if bb equals t1 throw new runtimeexception forced failure return t1 length flowable map integer string mapped source tomap lengthfuncerr toflowable map integer string expected new hashmap expected put 1 a expected put 2 bb expected put 3 ccc expected put 4 mapped subscribe objectsubscriber verify objectsubscriber never onnext expected verify objectsubscriber never oncomplete verify objectsubscriber times 1 onerror any throwable class 
flowable string source flowable just a bb ccc function string string duplicateerr new function string string override public string apply string t1 if bb equals t1 throw new runtimeexception forced failure return t1 t1 flowable map integer string mapped source tomap lengthfunc duplicateerr toflowable map integer string expected new hashmap expected put 1 aa expected put 2 expected put 3 expected put 4 mapped subscribe objectsubscriber verify objectsubscriber never onnext expected verify objectsubscriber never oncomplete verify objectsubscriber times 1 onerror any throwable class 
flowable string source flowable just a bb ccc supplier map integer string mapfactory new supplier map integer string override public map integer string get return new linkedhashmap integer string private static final long serialversionuid override protected boolean removeeldestentry map entry integer string eldest return size 3 function string integer lengthfunc new function string integer override public integer apply string t1 return t1 length flowable map integer string mapped source tomap lengthfunc new function string string override public string apply string v return v mapfactory toflowable map integer string expected new linkedhashmap expected put 2 bb expected put 3 ccc expected put 4 mapped subscribe objectsubscriber verify objectsubscriber never onerror any throwable class verify objectsubscriber times 1 onnext expected verify objectsubscriber times 1 oncomplete 
flowable string source flowable just a bb ccc supplier map integer string mapfactory new supplier map integer string override public map integer string get throw new runtimeexception forced failure function string integer lengthfunc new function string integer override public integer apply string t1 return t1 length flowable map integer string mapped source tomap lengthfunc new function string string override public string apply string v return v mapfactory toflowable map integer string expected new linkedhashmap expected put 2 bb expected put 3 ccc expected put 4 mapped subscribe objectsubscriber verify objectsubscriber never onnext expected verify objectsubscriber never oncomplete verify objectsubscriber times 1 onerror any throwable class 
flowable string source flowable just a bb ccc single map integer string mapped source tomap lengthfunc map integer string expected new hashmap expected put 1 a expected put 2 bb expected put 3 ccc expected put 4 mapped subscribe singleobserver verify singleobserver never onerror any throwable class verify singleobserver times 1 onsuccess expected 
flowable string source flowable just a bb ccc single map integer string mapped source tomap lengthfunc duplicate map integer string expected new hashmap expected put 1 aa expected put 2 expected put 3 expected put 4 mapped subscribe singleobserver verify singleobserver never onerror any throwable class verify singleobserver times 1 onsuccess expected 
flowable string source flowable just a bb ccc function string integer lengthfuncerr new function string integer override public integer apply string t1 if bb equals t1 throw new runtimeexception forced failure return t1 length single map integer string mapped source tomap lengthfuncerr map integer string expected new hashmap expected put 1 a expected put 2 bb expected put 3 ccc expected put 4 mapped subscribe singleobserver verify singleobserver never onsuccess expected verify singleobserver times 1 onerror any throwable class 
flowable string source flowable just a bb ccc function string string duplicateerr new function string string override public string apply string t1 if bb equals t1 throw new runtimeexception forced failure return t1 t1 single map integer string mapped source tomap lengthfunc duplicateerr map integer string expected new hashmap expected put 1 aa expected put 2 expected put 3 expected put 4 mapped subscribe singleobserver verify singleobserver never onsuccess expected verify singleobserver times 1 onerror any throwable class 
flowable string source flowable just a bb ccc supplier map integer string mapfactory new supplier map integer string override public map integer string get return new linkedhashmap integer string private static final long serialversionuid override protected boolean removeeldestentry map entry integer string eldest return size 3 function string integer lengthfunc new function string integer override public integer apply string t1 return t1 length single map integer string mapped source tomap lengthfunc new function string string override public string apply string v return v mapfactory map integer string expected new linkedhashmap expected put 2 bb expected put 3 ccc expected put 4 mapped subscribe singleobserver verify singleobserver never onerror any throwable class verify singleobserver times 1 onsuccess expected 
flowable string source flowable just a bb ccc supplier map integer string mapfactory new supplier map integer string override public map integer string get throw new runtimeexception forced failure function string integer lengthfunc new function string integer override public integer apply string t1 return t1 length single map integer string mapped source tomap lengthfunc new function string string override public string apply string v return v mapfactory map integer string expected new linkedhashmap expected put 2 bb expected put 3 ccc expected put 4 mapped subscribe singleobserver verify singleobserver never onsuccess expected verify singleobserver times 1 onerror any throwable class 
flowable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just v test assertresult 1 2 3 4 5 6 7 8 9 10 
flowable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe empty test assertresult 
flowable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just v true integer max value test assertresult 1 2 3 4 5 6 7 8 9 10 
testsubscriberex integer ts flowable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just v subscribeon schedulers computation to testhelper integer testconsumer awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 10 assertnoerrors assertcomplete testhelper assertvalueset ts 1 2 3 4 5 6 7 8 9 10 
testsubscriberex integer ts flowable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just v subscribeon schedulers computation false 3 to testhelper integer testconsumer awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 10 assertnoerrors assertcomplete testhelper assertvalueset ts 1 2 3 4 5 6 7 8 9 10 
flowable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just v subscribeon schedulers computation false 1 test awaitdone 5 timeunit seconds assertresult 1 2 3 4 5 6 7 8 9 10 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception throw new testexception test asserttrue pp hassubscribers pp onnext 1 ts assertfailure testexception class assertfalse pp hassubscribers 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return null test asserttrue pp hassubscribers pp onnext 1 ts assertfailure nullpointerexception class assertfalse pp hassubscribers 
testsubscriberex integer ts flowable range 1 10 concatwith flowable integer error new testexception flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe error new testexception true integer max value to testhelper integer testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist ts errors get 0 for int i 0 i 11 i testhelper asserterror errors i testexception class 
flowable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just v rebatchrequests 1 test assertresult 1 2 3 4 5 6 7 8 9 10 
flowable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just v false 1 rebatchrequests 1 test assertresult 1 2 3 4 5 6 7 8 9 10 
flowable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just v false 2 rebatchrequests 1 test assertresult 1 2 3 4 5 6 7 8 9 10 
testsubscriberex integer ts flowable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just v subscribeon schedulers computation take 2 to testhelper integer testconsumer awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 2 assertnoerrors assertcomplete testhelper assertvalueset ts 1 2 3 4 5 6 7 8 9 10 
flowable range 1 10 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just v take 2 test assertresult 1 2 
flowable fromarray new string 1 a 2 flatmapmaybe new function string maybesource integer override public maybesource integer apply final string s throws return maybe fromcallable new callable integer override public integer call throws return integer valueof s test assertfailure class 1 
testhelper checkdisposed publishprocessor integer create flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe integer empty 
flowable range 1 1000 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe just 1 subscribeon schedulers computation take 500 to testhelper integer testconsumer awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 500 assertnoerrors assertcomplete 
flowable range 1 1000 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe integer empty subscribeon schedulers computation take 500 test awaitdone 5 timeunit seconds assertresult 
flowable range 1 1000 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe integer empty subscribeon schedulers computation false 128 take 500 test awaitdone 5 timeunit seconds assertresult 
flowable range 1 1000 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe integer error new testexception subscribeon schedulers computation true 128 take 500 test awaitdone 5 timeunit seconds assertfailure compositeexception class 
final publishprocessor integer pp publishprocessor create testsubscriber integer ts flowable range 1 2 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception if v 2 return pp singleelement return maybe error new testexception true integer max value test pp onnext 1 pp oncomplete ts assertfailure testexception class 1 
final publishprocessor integer pp publishprocessor create testsubscriber integer ts flowable range 1 2 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception if v 2 return pp singleelement return maybe error new testexception true integer max value test pp oncomplete ts assertfailure testexception class 
testhelper new function flowable object flowable integer override public flowable integer apply flowable object f throws exception return f flatmapmaybe functions justfunction maybe just 2 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onerror new testexception first subscriber onerror new testexception second flatmapmaybe functions justfunction maybe just 2 to testhelper integer testconsumer testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try flowable just 1 flatmapmaybe functions justfunction new maybe integer override protected void subscribeactual maybeobserver super integer observer observer onsubscribe disposable empty observer onerror new testexception first observer onerror new testexception second to testhelper integer testconsumer testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
final publishprocessor integer pp1 publishprocessor create final publishprocessor integer pp2 publishprocessor create testsubscriber integer ts new testsubscriber integer override public void onnext integer t super onnext t if t 1 pp2 onnext 2 pp2 oncomplete flowable just pp1 pp2 flatmapmaybe new function publishprocessor integer maybesource integer override public maybesource integer apply publishprocessor integer v throws exception return v singleelement subscribe ts pp1 onnext 1 pp1 oncomplete ts assertresult 1 2 
final publishprocessor integer pp1 publishprocessor create final publishprocessor integer pp2 publishprocessor create final publishprocessor integer pp3 publishprocessor create testsubscriber integer ts new testsubscriber integer override public void onnext integer t super onnext t if t 1 pp2 onnext 2 pp2 oncomplete flowable just pp1 pp2 pp3 flatmapmaybe new function publishprocessor integer maybesource integer override public maybesource integer apply publishprocessor integer v throws exception return v singleelement subscribe ts pp1 onnext 1 pp1 oncomplete pp3 oncomplete ts assertresult 1 2 
final testsubscriber object ts new testsubscriber flowable just 1 flatmapmaybe new function integer maybesource object override public maybesource object apply integer v throws exception return new maybe object override protected void subscribeactual maybeobserver super object observer observer onsubscribe disposable empty assertfalse disposable observer isdisposed ts cancel asserttrue disposable observer isdisposed subscribe ts ts assertempty 
publishprocessor integer pp publishprocessor create testsubscriber integer ts flowable just 1 flatmapmaybe functions justfunction pp singleelement test pp onnext 2 pp oncomplete ts assertresult 2 
testsubscriber integer ts flowable just 1 flatmapmaybe functions justfunction maybe just 2 test 0l assertempty ts request 1 ts assertresult 2 
flowable just 1 flatmapmaybe functions justfunction maybe integer error new testexception test 0l assertfailure testexception class 
flowable just 1 flatmapmaybe functions justfunction maybe integer error new testexception true 16 test 0l assertfailure testexception class 
for int i 0 i testhelper race default loops i final testsubscriber integer ts flowable just 1 concatwith flowable integer never flatmapmaybe functions justfunction maybe just 2 test 0 runnable r1 new runnable override public void run ts request 1 runnable r2 new runnable override public void run ts cancel testhelper race r1 r2 
testhelper new flowableconverter integer flowable integer override public flowable integer apply flowable integer upstream return upstream flatmapmaybe new function integer maybe integer override public maybe integer apply integer v throws throwable return maybe just v hide 
testhelper new flowableconverter integer flowable integer override public flowable integer apply flowable integer upstream return upstream flatmapmaybe new function integer maybe integer override public maybe integer apply integer v throws throwable return maybe just v hide true 2 
testhelper flowable never flatmapmaybe v maybe never 
for int i 0 i testhelper race default loops i maybesubject integer ss1 maybesubject create maybesubject integer ss2 maybesubject create testsubscriber integer ts flowable just ss1 ss2 flatmapmaybe v v test testhelper race ss1 onsuccess 1 ss2 onsuccess 1 ts assertresult 1 1 
for int i 0 i testhelper race default loops i maybesubject integer ss1 maybesubject create maybesubject integer ss2 maybesubject create testsubscriber integer ts flowable just ss1 ss2 flatmapmaybe v v test testhelper race ss1 onsuccess 1 ss2 oncomplete ts assertresult 1 
maybesubject integer ss1 maybesubject create testsubscriber integer ts flowable just ss1 hide flatmapmaybe v v test ss1 onsuccess 1 ts assertresult 1 
flowable integer flowable flowable just 1 singleelement toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onnext 1 inorder verify subscriber times 1 oncomplete inorder 
flowable integer flowable flowable just 1 2 singleelement toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onerror isa class inorder 
flowable integer flowable flowable integer empty singleelement toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber oncomplete inorder verify subscriber never onerror any throwable class inorder 
final list long requests new arraylist flowable just 1 doonrequest new longconsumer override public void accept long n requests add n singleelement toflowable subscribe new defaultsubscriber integer override public void onstart request 1 override public void oncomplete override public void onerror throwable e override public void onnext integer t request 2 assertequals arrays aslist long max value requests 
final list long requests new arraylist flowable just 1 doonrequest new longconsumer override public void accept long n requests add n singleelement toflowable subscribe new defaultsubscriber integer override public void onstart request 3 override public void oncomplete override public void onerror throwable e override public void onnext integer t assertequals arrays aslist long max value requests 
final list long requests new arraylist flowable just 1 doonrequest new longconsumer override public void accept long n requests add n singleelement toflowable subscribe new defaultsubscriber integer override public void onstart request 1 override public void oncomplete override public void onerror throwable e override public void onnext integer t assertequals arrays aslist long max value requests 
flowable integer flowable flowable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 singleelement toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onnext 2 inorder verify subscriber times 1 oncomplete inorder 
flowable integer flowable flowable just 1 2 3 4 filter new predicate integer override public boolean test integer t1 return t1 2 0 singleelement toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onerror isa class inorder 
flowable integer flowable flowable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 singleelement toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber oncomplete inorder verify subscriber never onerror any throwable class inorder 
flowable integer flowable flowable just 1 single 2 toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onnext 1 inorder verify subscriber times 1 oncomplete inorder 
flowable integer flowable flowable just 1 2 single 3 toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onerror isa class inorder 
flowable integer flowable flowable integer empty single 1 toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onnext 1 inorder verify subscriber times 1 oncomplete inorder 
flowable integer flowable flowable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 single 4 toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onnext 2 inorder verify subscriber times 1 oncomplete inorder 
flowable integer flowable flowable just 1 2 3 4 filter new predicate integer override public boolean test integer t1 return t1 2 0 single 6 toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onerror isa class inorder 
flowable integer flowable flowable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 single 2 toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onnext 2 inorder verify subscriber times 1 oncomplete inorder 
flowable integer flowable flowable just 1 2 singleelement toflowable subscriber integer subscriber spy new defaultsubscriber integer override public void onstart request 1 override public void oncomplete override public void onerror throwable e override public void onnext integer integer request 1 flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onerror isa class inorder 
maybe integer maybe flowable just 1 singleelement maybeobserver integer observer testhelper mockmaybeobserver maybe subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 1 inorder 
maybe integer maybe flowable just 1 2 singleelement maybeobserver integer observer testhelper mockmaybeobserver maybe subscribe observer inorder inorder inorder observer inorder verify observer times 1 onerror isa class inorder 
maybe integer maybe flowable integer empty singleelement maybeobserver integer observer testhelper mockmaybeobserver maybe subscribe observer inorder inorder inorder observer inorder verify observer oncomplete inorder verify observer never onerror any throwable class inorder 
final atomiclong request new atomiclong flowable just 1 doonrequest new longconsumer override public void accept long n request addandget n blockingsingle assertequals long max value request get 
final atomiclong request new atomiclong try flowable empty doonrequest new longconsumer override public void accept long n request addandget n blockingsingle catch e assertequals long max value request get 
final atomiclong request new atomiclong try flowable just 1 2 doonrequest new longconsumer override public void accept long n request addandget n blockingsingle catch e assertequals long max value request get 
maybe integer maybe flowable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 singleelement maybeobserver integer observer testhelper mockmaybeobserver maybe subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 2 inorder 
maybe integer maybe flowable just 1 2 3 4 filter new predicate integer override public boolean test integer t1 return t1 2 0 singleelement maybeobserver integer observer testhelper mockmaybeobserver maybe subscribe observer inorder inorder inorder observer inorder verify observer times 1 onerror isa class inorder 
maybe integer maybe flowable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 singleelement maybeobserver integer observer testhelper mockmaybeobserver maybe subscribe observer inorder inorder inorder observer inorder verify observer oncomplete inorder verify observer never onerror any throwable class inorder 
single integer single flowable just 1 single 2 singleobserver integer observer testhelper mocksingleobserver single subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 1 inorder 
single integer single flowable just 1 2 single 3 singleobserver integer observer testhelper mocksingleobserver single subscribe observer inorder inorder inorder observer inorder verify observer times 1 onerror isa class inorder 
single integer single flowable integer empty single 1 singleobserver integer observer testhelper mocksingleobserver single subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 1 inorder 
single integer single flowable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 single 4 singleobserver integer observer testhelper mocksingleobserver single subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 2 inorder 
single integer single flowable just 1 2 3 4 filter new predicate integer override public boolean test integer t1 return t1 2 0 single 6 singleobserver integer observer testhelper mocksingleobserver single subscribe observer inorder inorder inorder observer inorder verify observer times 1 onerror isa class inorder 
single integer single flowable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 single 2 singleobserver integer observer testhelper mocksingleobserver single subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 2 inorder 
flowable integer source flowable just 1 2 3 4 5 6 maybe integer reduced source reduce new bifunction integer integer integer override public integer apply integer i1 integer i2 return i1 i2 integer r reduced blockingget assertequals 21 r intvalue 
flowable empty singleorerror test assertnovalues asserterror class 
flowable just 1 singleorerror test assertnoerrors assertvalue 1 
flowable just 1 2 3 singleorerror test assertnovalues asserterror class 
flowable error new runtimeexception error singleorerror to testhelper testconsumer assertnovalues asserterrormessage error asserterror runtimeexception class 
flowable integer source flowable just 1 2 3 4 5 6 flowable integer reduced source reduce new bifunction integer integer integer override public integer apply integer i1 integer i2 return i1 i2 toflowable integer r reduced blockingfirst assertequals 21 r intvalue 
final throwable exception new runtimeexception some error final atomicreference throwable error new atomicreference try rxjavaplugins seterrorhandler new consumer throwable override public void accept final throwable throwable throws exception error set throwable flowable unsafecreate new publisher integer override public void subscribe final subscriber super integer subscriber subscriber oncomplete subscriber onerror exception singleelement test assertcomplete assertsame exception error get getcause finally rxjavaplugins reset 
testhelper new function flowable object object override public object apply flowable object f throws exception return f singleorerror false 1 1 1 testhelper new function flowable object object override public object apply flowable object f throws exception return f singleelement false 1 1 1 testhelper new function flowable object object override public object apply flowable object f throws exception return f singleorerror toflowable false 1 1 1 
testhelper new function flowable object singlesource object override public singlesource object apply flowable object f throws exception return f singleorerror testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f singleorerror toflowable testhelper new function flowable object maybesource object override public maybesource object apply flowable object f throws exception return f singleelement testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f singleelement toflowable 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp singleorerror toflowable test asserttrue pp hassubscribers ts assertempty ts cancel assertfalse pp hassubscribers 
flowable empty singleorerror toflowable test assertfailure class 
testhelper checkdisposed publishprocessor create single 1 
final o1 new one two null three observer new flowable notification string m flowable unsafecreate o1 materialize m subscribe observer try o1 t join catch interruptedexception e throw new runtimeexception e assertfalse observer onerror asserttrue observer oncomplete assertequals 3 observer notifications size asserttrue observer notifications get 0 isonnext assertequals one observer notifications get 0 getvalue asserttrue observer notifications get 1 isonnext assertequals two observer notifications get 1 getvalue asserttrue observer notifications get 2 isonerror assertequals nullpointerexception class observer notifications get 2 geterror getclass 
final o1 new one two three subscriber new flowable notification string m flowable unsafecreate o1 materialize m subscribe subscriber try o1 t join catch interruptedexception e throw new runtimeexception e assertfalse subscriber onerror asserttrue subscriber oncomplete assertequals 4 subscriber notifications size asserttrue subscriber notifications get 0 isonnext assertequals one subscriber notifications get 0 getvalue asserttrue subscriber notifications get 1 isonnext assertequals two subscriber notifications get 1 getvalue asserttrue subscriber notifications get 2 isonnext assertequals three subscriber notifications get 2 getvalue asserttrue subscriber notifications get 3 isoncomplete 
final o new one two null three flowable notification string m flowable unsafecreate o materialize assertequals 3 m tolist tofuture get size assertequals 3 m tolist tofuture get size 
testsubscriber notification integer ts new testsubscriber 0l flowable integer empty materialize subscribe ts ts assertnovalues ts request 1 ts assertvaluecount 1 asserttrue ts values get 0 isoncomplete ts assertcomplete 
testsubscriber notification integer ts new testsubscriber 0l flowable just 1 2 3 materialize subscribe ts ts assertnovalues ts request 1 ts assertvaluecount 1 ts request 2 ts assertvaluecount 3 ts request 1 ts assertvaluecount 4 ts assertcomplete 
testsubscriber notification integer ts new testsubscriber 0l flowable just 1 2 3 materialize subscribeon schedulers computation subscribe ts thread sleep 100 ts assertnovalues ts request 1 thread sleep 100 ts assertvaluecount 1 ts request 2 thread sleep 100 ts assertvaluecount 3 ts request 1 thread sleep 100 ts assertvaluecount 4 ts assertcomplete 
testsubscriber notification integer ts new testsubscriber 0l flowable integer error new materialize subscribe ts ts assertnovalues ts request 1 ts assertvaluecount 1 ts assertcomplete 
testsubscriber notification integer ts new testsubscriber 0l ex new flowable fromiterable arrays aslist 1 concatwith flowable integer error ex materialize subscribe ts ts assertnovalues ts request 1 ts assertvaluecount 1 asserttrue ts values get 0 isonnext ts request 1 ts assertvaluecount 2 asserttrue ts values get 1 isonerror assertequals ex ts values get 1 geterror ts assertcomplete 
testsubscriberex notification integer ts new testsubscriberex final runtimeexception ex new runtimeexception boo flowable integer empty materialize doonnext new consumer object override public void accept object t throw ex subscribe ts ts asserterror ex ts assertnovalues ts assertterminated 
testsubscriber notification integer ts new testsubscriber 0l flowable integer empty materialize subscribe ts ts assertnovalues ts cancel ts request 1 ts assertnovalues 
this oncomplete true 
this onerror true 
this notifications add value 
subscriber onsubscribe new booleansubscription t new thread new runnable override public void run for string s valuestoreturn if s null system out println throwing exception try thread sleep 100 catch throwable e subscriber onerror new nullpointerexception return else subscriber onnext s system out println subscription complete subscriber oncomplete t start 
testsubscriber notification integer ts flowable range 1 5 materialize test 0 ts assertempty ts request 5 ts assertvaluecount 5 assertnoerrors assertnotcomplete ts request 1 ts assertvaluecount 6 assertnoerrors assertcomplete 
testhelper checkdisposed flowable just 1 materialize 
testhelper new function flowable object flowable notification object override public flowable notification object apply flowable object f throws exception return f materialize 
testhelper new function flowable object object override public object apply flowable object f throws exception return f materialize false null null notification createoncomplete 
testhelper flowable just 1 materialize 
uieventloopscheduler uieventloop new uieventloopscheduler try final threadsubscription subscription new threadsubscription final atomicreference thread subscribethread new atomicreference flowable integer w flowable unsafecreate new publisher integer override public void subscribe subscriber super integer t1 subscribethread set thread currentthread t1 onsubscribe subscription t1 onnext 1 t1 onnext 2 testsubscriberex integer ts new testsubscriberex w subscribeon uieventloop observeon schedulers computation unsubscribeon uieventloop take 2 subscribe ts ts awaitdone 1 timeunit seconds thread unsubscribethread subscription getthread assertnotnull unsubscribethread assertnotsame thread currentthread unsubscribethread assertnotnull subscribethread get assertnotsame thread currentthread subscribethread get system out println unsubscribethread unsubscribethread system out println subscribethread get subscribethread get assertsame unsubscribethread uieventloop getthread ts assertvalues 1 2 ts assertterminated finally uieventloop shutdown 
uieventloopscheduler uieventloop new uieventloopscheduler try final threadsubscription subscription new threadsubscription final atomicreference thread subscribethread new atomicreference flowable integer w flowable unsafecreate new publisher integer override public void subscribe subscriber super integer t1 subscribethread set thread currentthread t1 onsubscribe subscription t1 onnext 1 t1 onnext 2 testsubscriberex integer ts new testsubscriberex w subscribeon schedulers newthread observeon schedulers computation unsubscribeon uieventloop take 2 subscribe ts ts awaitdone 1 timeunit seconds thread unsubscribethread subscription getthread assertnotnull unsubscribethread assertnotsame thread currentthread unsubscribethread assertnotnull subscribethread get assertnotsame thread currentthread subscribethread get system out println ui thread uieventloop getthread system out println unsubscribethread unsubscribethread system out println subscribethread get subscribethread get assertsame unsubscribethread uieventloop getthread ts assertvalues 1 2 ts assertterminated finally uieventloop shutdown 
system out println unsubscribe invoked thread currentthread thread thread currentthread latch countdown 
latch await return thread 
return eventloop createworker 
return t 
int elements 1024 flowable range 0 elements 2 unsubscribeon schedulers single take elements to testhelper integer testconsumer awaitdone 5 timeunit seconds assertvaluecount elements assertcomplete assertnoerrors assertsubscribed 
testhelper checkdisposed flowable just 1 unsubscribeon schedulers single 
final int calls 0 flowable just 1 dooncancel new action override public void run throws exception calls 0 unsubscribeon schedulers single test assertresult 1 assertequals 0 calls 0 
final int calls 0 flowable error new testexception dooncancel new action override public void run throws exception calls 0 unsubscribeon schedulers single test assertfailure testexception class assertequals 0 calls 0 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onnext 1 subscriber onnext 2 subscriber onerror new testexception subscriber oncomplete unsubscribeon schedulers single take 1 test assertresult 1 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
testhelper f f unsubscribeon instance 
testsubscriber integer ts new testsubscriber create 1000 subscribe ts ts assertnoerrors ts assertvaluecount 1000 ts assertcomplete 
testsubscriber integer ts testsubscriber create 0 create 1000 subscribe ts ts assertnoerrors ts assertnovalues ts assertnotcomplete ts request 10 ts assertnoerrors ts assertvaluecount 10 ts assertnotcomplete ts request 1000 ts assertnoerrors ts assertvaluecount 1000 ts assertcomplete 
testsubscriber integer ts testsubscriber create 0 create 1000 filter functions alwaystrue subscribe ts ts assertnoerrors ts assertnovalues ts assertnotcomplete ts request 10 ts assertnoerrors ts assertvaluecount 10 ts assertnotcomplete ts request 1000 ts assertnoerrors ts assertvaluecount 1000 ts assertcomplete 
assert assertsame flowable empty flowable fromarray new object 0 
flowable integer source flowable fromarray new integer 1 assert asserttrue source getclass tostring source instanceof scalarsupplier 
flowable just 1 2 3 4 5 6 7 8 9 10 test assertresult 1 2 3 4 5 6 7 8 9 10 
testhelper flowable just 1 2 3 
flowable fromarray new integer null 1 filter functions alwaystrue test assertfailure nullpointerexception class 
flowable fromarray new integer null 1 filter functions alwaystrue test 2l assertfailure nullpointerexception class 
flowable fromarray new integer 1 2 3 4 5 filter functions alwaystrue rebatchrequests 1 test assertresult 1 2 3 4 5 
flowable fromarray new integer 1 2 3 4 5 filter new predicate integer override public boolean test integer v throws exception return v 2 0 test assertresult 2 4 
flowable fromarray new integer 1 2 3 4 5 filter functions alwaystrue subscribewith new testsubscriber integer 5l override public void onnext integer t super onnext t if t 1 cancel oncomplete assertresult 1 
flowable fromarray new integer 1 2 3 4 5 filter new predicate integer override public boolean test integer v throws exception return v 2 subscribewith new testsubscriber integer 5l override public void onnext integer t super onnext t if t 1 cancel oncomplete assertresult 1 
subscriber testhelper mocksubscriber subscriber2 testhelper mocksubscriber scheduler new testscheduler 
flowable timer 100 timeunit milliseconds scheduler subscribe subscriber scheduler advancetimeby 100 timeunit milliseconds verify subscriber times 1 onnext 0l verify subscriber times 1 oncomplete verify subscriber never onerror any throwable class 
testsubscriber long ts new testsubscriber flowable interval 100 100 timeunit milliseconds scheduler subscribe ts scheduler advancetimeby 100 timeunit milliseconds ts assertvalue 0l scheduler advancetimeby 100 timeunit milliseconds ts assertvalues 0l 1l scheduler advancetimeby 100 timeunit milliseconds ts assertvalues 0l 1l 2l scheduler advancetimeby 100 timeunit milliseconds ts assertvalues 0l 1l 2l 3l ts cancel scheduler advancetimeby 100 timeunit milliseconds ts assertvalues 0l 1l 2l 3l ts assertnotcomplete ts assertnoerrors 
flowable long w flowable interval 1 timeunit seconds scheduler testsubscriber long ts new testsubscriber w subscribe ts ts assertnovalues ts assertnoerrors ts assertnotcomplete scheduler advancetimeto 2 timeunit seconds ts assertvalues 0l 1l ts assertnoerrors ts assertnotcomplete ts cancel scheduler advancetimeto 4 timeunit seconds ts assertvalues 0l 1l ts assertnoerrors ts assertnotcomplete 
flowable long w flowable interval 1 timeunit seconds scheduler testsubscriber long ts1 new testsubscriber testsubscriber long ts2 new testsubscriber w subscribe ts1 w subscribe ts2 ts1 assertnovalues ts2 assertnovalues scheduler advancetimeto 2 timeunit seconds ts1 assertvalues 0l 1l ts1 assertnoerrors ts1 assertnotcomplete ts2 assertvalues 0l 1l ts2 assertnoerrors ts2 assertnotcomplete ts1 cancel ts2 cancel scheduler advancetimeto 4 timeunit seconds ts1 assertvalues 0l 1l ts1 assertnoerrors ts1 assertnotcomplete ts2 assertvalues 0l 1l ts2 assertnoerrors ts2 assertnotcomplete 
flowable long w flowable interval 1 timeunit seconds scheduler testsubscriber long ts1 new testsubscriber w subscribe ts1 ts1 assertnoerrors scheduler advancetimeto 2 timeunit seconds testsubscriber long ts2 new testsubscriber w subscribe ts2 ts1 assertvalues 0l 1l ts1 assertnoerrors ts1 assertnotcomplete ts2 assertnovalues scheduler advancetimeto 4 timeunit seconds ts1 assertvalues 0l 1l 2l 3l ts2 assertvalues 0l 1l ts1 cancel ts2 cancel ts1 assertvalues 0l 1l 2l 3l ts1 assertnoerrors ts1 assertnotcomplete ts2 assertvalues 0l 1l ts2 assertnoerrors ts2 assertnotcomplete 
connectableflowable long w flowable interval 1 timeunit seconds scheduler publish testsubscriber long ts1 new testsubscriber w subscribe ts1 w connect ts1 assertnovalues scheduler advancetimeto 2 timeunit seconds testsubscriber long ts2 new testsubscriber w subscribe ts2 ts1 assertvalues 0l 1l ts1 assertnoerrors ts1 assertnotcomplete ts2 assertnovalues scheduler advancetimeto 4 timeunit seconds ts1 assertvalues 0l 1l 2l 3l ts2 assertvalues 2l 3l ts1 cancel ts2 cancel ts1 assertvalues 0l 1l 2l 3l ts1 assertnoerrors ts1 assertnotcomplete ts2 assertvalues 2l 3l ts2 assertnoerrors ts2 assertnotcomplete 
flowable long source flowable timer 100 timeunit milliseconds scheduler source safesubscribe new defaultsubscriber long override public void onnext long t throw new testexception override public void onerror throwable e subscriber onerror e override public void oncomplete subscriber oncomplete scheduler advancetimeby 1 timeunit seconds verify subscriber onerror any testexception class verify subscriber never onnext anylong verify subscriber never oncomplete 
flowable long source flowable interval 100 100 timeunit milliseconds scheduler inorder inorder inorder subscriber source safesubscribe new defaultsubscriber long override public void onnext long t if t 0 throw new testexception subscriber onnext t override public void onerror throwable e subscriber onerror e override public void oncomplete subscriber oncomplete scheduler advancetimeby 1 timeunit seconds inorder verify subscriber onnext 0l inorder verify subscriber onerror any testexception class inorder verify subscriber never oncomplete 
testhelper checkdisposed flowable timer 1 timeunit days 
flowable timer 1 timeunit milliseconds test 0l awaitdone 5 timeunit seconds assertfailure class 
for int i 0 i testhelper race default loops i final testsubscriber long ts new testsubscriber final testscheduler scheduler new testscheduler flowable timer 1 timeunit seconds scheduler subscribe ts runnable r1 new runnable override public void run scheduler advancetimeby 1 timeunit seconds runnable r2 new runnable override public void run ts cancel testhelper race r1 r2 
list throwable errors testhelper trackpluginerrors try for int i 0 i 1000 i flowable timer 0 timeunit milliseconds blockingfirst asserttrue errors tostring errors isempty finally rxjavaplugins reset 
exec executors try for scheduler s new scheduler schedulers single schedulers computation schedulers newthread schedulers io schedulers from exec true final atomicboolean interrupted new atomicboolean testsubscriber long ts flowable timer 1 timeunit milliseconds s map new function long long override public long apply long v throws exception try thread sleep 3000 catch interruptedexception ex interrupted set true return v test thread sleep 500 ts cancel thread sleep 500 asserttrue s getclass getsimplename interrupted get finally exec shutdown 
testhelper flowable timer 1 timeunit minutes 
publishprocessor integer pp publishprocessor create pp publish autoconnect 0 asserttrue pp hassubscribers 
final atomicboolean unsubscribed new atomicboolean false flowable just 1 concatwith flowable integer never dooncancel new action override public void run unsubscribed set true doonrequest new longconsumer override public void accept long n subscribe dispose asserttrue unsubscribed get 
final list long requests new arraylist flowable range 1 5 doonrequest new longconsumer override public void accept long n requests add n subscribe new defaultsubscriber integer override public void onstart request 3 override public void oncomplete override public void onerror throwable e override public void onnext integer t request t assertequals arrays aslist 3l 1l 2l 3l 4l 5l requests 
subscriber long subscriber testhelper mocksubscriber flowable rangelong 2 3 subscribe subscriber verify subscriber times 1 onnext 2l verify subscriber times 1 onnext 3l verify subscriber times 1 onnext 4l verify subscriber never onnext 5l verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
subscriber long subscriber testhelper mocksubscriber final atomicinteger count new atomicinteger flowable rangelong 1 1000 doonnext new consumer long override public void accept long t1 count incrementandget take 3 subscribe subscriber verify subscriber times 1 onnext 1l verify subscriber times 1 onnext 2l verify subscriber times 1 onnext 3l verify subscriber never onnext 4l verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete assertequals 3 count get 
flowable rangelong 1 0 
flowable rangelong long max value 0 
flowable rangelong 1 long max value 
flowable rangelong 2 long max value 
assertfalse flowable rangelong long min value 0 blockingiterable iterator hasnext 
flowable long f flowable rangelong 1 flowable buffersize testsubscriberex long ts new testsubscriberex 0l ts assertnovalues ts request 1 f subscribe ts ts assertvalue 1l ts request 2 ts assertvalues 1l 2l 3l ts request 3 ts assertvalues 1l 2l 3l 4l 5l 6l ts request flowable buffersize ts assertterminated 
arraylist long list new arraylist flowable buffersize 2 for long i 1 i flowable buffersize 2 1 i list add i flowable long f flowable rangelong 1 list size testsubscriberex long ts new testsubscriberex 0l ts assertnovalues ts request long max value f subscribe ts ts assertvaluesequence list ts assertterminated 
for long i 0 i 100 i i 
for long i 0 i 100 i i 
flowable long source flowable rangelong 50 100 testsubscriberex long ts new testsubscriberex 0l ts request 150 source subscribe ts list long list new arraylist 100 for long i 0 i 100 i list add i 50 ts request 50 ts assertvaluesequence list ts assertterminated 
final atomicinteger count new atomicinteger int n 10 flowable rangelong 1 n subscribe new defaultsubscriber long override public void onstart request 2 override public void oncomplete override public void onerror throwable e throw new runtimeexception e override public void onnext long t count incrementandget request long max value 1 assertequals n count get 
final atomicboolean completed new atomicboolean false flowable rangelong 1 0 subscribe new defaultsubscriber long override public void onstart override public void oncomplete completed set true override public void onerror throwable e override public void onnext long t asserttrue completed get 
testsubscriber long ts new testsubscriber flowable rangelong long max value 1l 2l subscribe ts ts assertcomplete ts assertnoerrors ts assertvalues long max value 1l long max value 
testsubscriber long ts new testsubscriber 3l flowable rangelong long max value 1l 2l subscribe ts ts assertcomplete ts assertnoerrors ts assertvalues long max value 1l long max value 
try flowable rangelong 1l 1l fail should have thrown catch ex assertequals count 0 required but it was 1 ex getmessage 
flowable rangelong 1l test assertresult 
testsubscriberex long ts new testsubscriberex long setinitialfusionmode queuefuseable any flowable rangelong 1 2 subscribe ts ts assertfusionmode queuefuseable sync assertresult 1l 2l 
testsubscriberex long ts new testsubscriberex long setinitialfusionmode queuefuseable async flowable rangelong 1 2 subscribe ts ts assertfusionmode queuefuseable none assertresult 1l 2l 
testhelper checkdisposed flowable rangelong 1 2 
testhelper flowable rangelong 1 2 
flowable rangelong long max value 1 2 flowable rangelong long min value 2 flowable rangelong long min value long max value 
flowable rangelong 1l 5l filter functions alwaystrue test assertresult 1l 2l 3l 4l 5l 
testhelper flowable rangelong 1l 5l testhelper flowable rangelong 1l 5l filter functions alwaystrue 
flowable rangelong 1l 5l filter functions alwaystrue test 5 assertresult 1l 2l 3l 4l 5l 
flowable rangelong 1l 5l filter functions alwaystrue take 5 test assertresult 1l 2l 3l 4l 5l 
flowable rangelong 1l 5l filter functions alwaystrue take 5 test assertresult 1l 2l 3l 4l 5l 
flowable rangelong 1l 5l filter functions alwaystrue rebatchrequests 1 test assertresult 1l 2l 3l 4l 5l 
flowable rangelong 1l 5l rebatchrequests 1 test assertresult 1l 2l 3l 4l 5l 
testsubscriber long ts new testsubscriber long 2l override public void onnext long t super onnext t cancel oncomplete flowable rangelong 1l 5l subscribe ts ts assertresult 1l 
testsubscriber long ts new testsubscriber long override public void onnext long t super onnext t cancel oncomplete flowable rangelong 1l 5l subscribe ts ts assertresult 1l 
testsubscriber long ts new testsubscriber long 1l override public void onnext long t super onnext t cancel oncomplete flowable rangelong 1l 5l filter functions alwaystrue subscribe ts ts assertresult 1l 
testsubscriber long ts new testsubscriber long override public void onnext long t super onnext t cancel oncomplete flowable rangelong 1l 5l filter functions alwaystrue subscribe ts ts assertresult 1l 
testsubscriber long ts new testsubscriber long 1l override public void onnext long t super onnext t request 1 flowable rangelong 1l 5l filter new predicate long override public boolean test long v throws exception return v 2 0 subscribe ts ts assertresult 2l 4l 
testsubscriber long ts new testsubscriber long 1l override public void onnext long t super onnext t request 1 flowable rangelong 1l 5l filter functions alwaystrue subscribe ts ts assertresult 1l 2l 3l 4l 5l 
testsubscriber long ts new testsubscriber long override public void onnext long t super onnext t if t 5l cancel oncomplete flowable rangelong 1l 5l subscribe ts ts assertresult 1l 2l 3l 4l 5l 
testsubscriber long ts new testsubscriber long override public void onnext long t super onnext t if t 5l cancel oncomplete flowable rangelong 1l 5l filter new predicate long override public boolean test long v throws exception return v 2 0 subscribe ts ts assertresult 2l 4l 
flowable rangelong 1 2 take 2 test assertresult 1l 2l 
testsubscriber long ts new testsubscriber flowable rangelong 1 2 compose testhelper conditional doonnext v if v 2l ts cancel subscribe ts ts assertvaluesonly 1l 2l 
testsubscriber long ts new testsubscriber 4 flowable rangelong 1 3 compose testhelper conditional doonnext v if v 2l ts cancel subscribe ts ts assertvaluesonly 1l 2l 
flowable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete toflowable test assertresult 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception throw new testexception integer toflowable test asserttrue pp hassubscribers pp onnext 1 ts assertfailure testexception class assertfalse pp hassubscribers 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return null integer toflowable test asserttrue pp hassubscribers pp onnext 1 ts assertfailure nullpointerexception class assertfalse pp hassubscribers 
flowable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete true integer max value toflowable test assertresult 
flowable range 1 1000 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return flowable range 1 100 subscribeon schedulers computation ignoreelements toflowable test awaitdone 5 timeunit seconds assertresult 
flowable range 1 1000 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return flowable range 1 100 subscribeon schedulers computation ignoreelements false 3 toflowable test awaitdone 5 timeunit seconds assertresult 
testsubscriberex integer ts flowable range 1 10 concatwith flowable integer error new testexception flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable error new testexception true integer max value integer toflowable to testhelper integer testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist ts errors get 0 for int i 0 i 11 i testhelper asserterror errors i testexception class 
testsubscriberex integer ts flowable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable error new testexception true integer max value integer toflowable to testhelper integer testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist ts errors get 0 for int i 0 i 10 i testhelper asserterror errors i testexception class 
flowable range 1 10 concatwith flowable integer error new testexception flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete false integer max value toflowable test assertfailure testexception class 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete integer toflowable subscribe ts ts assertfuseable assertfusionmode queuefuseable async assertresult 
flowable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete test assertresult 
publishprocessor integer pp publishprocessor create testobserver void to pp flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception throw new testexception test asserttrue pp hassubscribers pp onnext 1 to assertfailure testexception class assertfalse pp hassubscribers 
publishprocessor integer pp publishprocessor create testobserver void to pp flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return null test asserttrue pp hassubscribers pp onnext 1 to assertfailure nullpointerexception class assertfalse pp hassubscribers 
flowable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete true integer max value test assertresult 
flowable range 1 1000 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return flowable range 1 100 subscribeon schedulers computation ignoreelements test awaitdone 5 timeunit seconds assertresult 
testobserverex void to flowable range 1 10 concatwith flowable integer error new testexception flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable error new testexception true integer max value to testhelper integer testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist to errors get 0 for int i 0 i 11 i testhelper asserterror errors i testexception class 
testobserverex void to flowable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable error new testexception true integer max value to testhelper integer testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist to errors get 0 for int i 0 i 10 i testhelper asserterror errors i testexception class 
flowable range 1 10 concatwith flowable integer error new testexception flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete false integer max value test assertfailure testexception class 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete integer toflowable subscribe ts ts assertfuseable assertfusionmode queuefuseable async assertresult 
testhelper checkdisposed flowable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete 
flowable range 1 1000 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return flowable range 1 100 subscribeon schedulers computation ignoreelements false 3 test awaitdone 5 timeunit seconds assertresult 
testhelper checkdisposed flowable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete toflowable 
testhelper new function flowable integer object override public object apply flowable integer f throws exception return f flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete false 1 null 
flowable range 1 10 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete toflowable subscribe new flowablesubscriber object override public void onsubscribe subscription s queuesubscription qs queuesubscription s try assertnull qs poll catch throwable ex throw new runtimeexception ex asserttrue qs isempty qs clear override public void onnext object t override public void onerror throwable t override public void oncomplete 
flowable range 1 3 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return new completable override protected void subscribeactual completableobserver observer observer onsubscribe disposable empty assertfalse disposable observer isdisposed disposable observer dispose asserttrue disposable observer isdisposed toflowable test 
testhelper new function flowable integer object override public object apply flowable integer f throws exception return f flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return completable complete toflowable false 1 null 
flowable range 1 3 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception return new completable override protected void subscribeactual completableobserver observer observer onsubscribe disposable empty assertfalse disposable observer isdisposed disposable observer dispose asserttrue disposable observer isdisposed test 
flowable range 1 3 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception if v 2 return completable error new testexception return completable complete true 1 toflowable test assertfailure testexception class 
flowable range 1 3 flatmapcompletable new function integer completablesource override public completablesource apply integer v throws exception if v 2 return completable error new testexception return completable complete true 1 test assertfailure testexception class 
for int itemcount 1 itemcount itemcount 10 for int concurrency 1 concurrency 256 concurrency 2 flowable range 1 itemcount flatmapcompletable functions justfunction completable complete subscribeon schedulers computation false concurrency test withtag itemcount itemcount concurrency concurrency awaitdone 5 timeunit seconds assertresult 
testhelper new flowableconverter integer completable override public completable apply flowable integer upstream return upstream flatmapcompletable new function integer completable override public completable apply integer v throws throwable return completable complete hide 
testhelper new flowableconverter integer completable override public completable apply flowable integer upstream return upstream flatmapcompletable new function integer completable override public completable apply integer v throws throwable return completable complete hide true 2 
testhelper f f flatmapcompletable v completable never toflowable 
testhelper f f flatmapcompletable v completable never 
for int i 0 i testhelper race default loops i publishprocessor integer pp1 publishprocessor create testsubscriber object ts new testsubscriber countdownlatch cdl new countdownlatch 1 pp1 flatmapcompletable v testhelper raceother ts cancel cdl return completable complete toflowable subscribe ts pp1 onnext 1 cdl await 
for int i 0 i testhelper race default loops i publishprocessor integer pp1 publishprocessor create testobserver void to new testobserver countdownlatch cdl new countdownlatch 1 pp1 flatmapcompletable v testhelper raceother to dispose cdl return completable complete subscribe to pp1 onnext 1 cdl await 
flowable string source flowable just one two three four five six flowable groupedflowable integer string grouped source groupby length map integer collection string map tomap grouped assertequals 3 map size assertarrayequals arrays aslist one two six toarray map get 3 toarray assertarrayequals arrays aslist four five toarray map get 4 toarray assertarrayequals arrays aslist three toarray map get 5 toarray 
flowable string source flowable just one two three four five six flowable groupedflowable integer integer grouped source groupby length length map integer collection integer map tomap grouped assertequals 3 map size assertarrayequals arrays aslist 3 3 3 toarray map get 3 toarray assertarrayequals arrays aslist 4 4 toarray map get 4 toarray assertarrayequals arrays aslist 5 toarray map get 5 toarray 
flowable string source flowable just one two three four five six flowable groupedflowable integer integer grouped source groupby length length map integer collection integer map tomap grouped assertequals 3 map size assertarrayequals arrays aslist 3 3 3 toarray map get 3 toarray assertarrayequals arrays aslist 4 4 toarray map get 4 toarray assertarrayequals arrays aslist 5 toarray map get 5 toarray 
flowable string source flowable empty flowable groupedflowable integer string grouped source groupby length map integer collection string map tomap grouped asserttrue map isempty 
flowable string sourcestrings flowable just one two three four five six flowable string errorsource flowable error new testexception forced failure flowable string source flowable concat sourcestrings errorsource flowable groupedflowable integer string grouped source groupby length final atomicinteger groupcounter new atomicinteger final atomicinteger eventcounter new atomicinteger final atomicreference throwable error new atomicreference grouped flatmap new function groupedflowable integer string flowable string override public flowable string apply final groupedflowable integer string f groupcounter incrementandget return f map new function string string override public string apply string v return event key f getkey value v subscribe new defaultsubscriber string override public void oncomplete override public void onerror throwable e error set e override public void onnext string v eventcounter incrementandget system out println v assertequals 3 groupcounter get assertequals 6 eventcounter get assertnotnull error get asserttrue error get error get instanceof testexception assertequals error get getmessage forced failure 
final concurrenthashmap k collection v result new concurrenthashmap flowable doonnext new consumer groupedflowable k v override public void accept final groupedflowable k v f result put f getkey new f subscribe new consumer v override public void accept v v result get f getkey add v blockingsubscribe return result 
final atomicinteger eventcounter new atomicinteger final atomicinteger subscribecounter new atomicinteger final atomicinteger groupcounter new atomicinteger final countdownlatch latch new countdownlatch 1 final int count 100 final int groupcount 2 flowable event es flowable unsafecreate new publisher event override public void subscribe final subscriber super event subscriber subscriber onsubscribe new booleansubscription system out println subscribing to eventstream subscribecounter incrementandget new thread new runnable override public void run for int i 0 i count i event e new event e source i groupcount e message event i subscriber onnext e subscriber oncomplete start es groupby new function event integer override public integer apply event e return e source flatmap new function groupedflowable integer event flowable string override public flowable string apply groupedflowable integer event eventgroupedflowable system out println groupedflowable key eventgroupedflowable getkey groupcounter incrementandget return eventgroupedflowable map new function event string override public string apply event event return source event source message event message subscribe new defaultsubscriber string override public void oncomplete latch countdown override public void onerror throwable e e printstacktrace latch countdown override public void onnext string outputmessage system out println outputmessage eventcounter incrementandget latch await 5000 timeunit milliseconds assertequals 1 subscribecounter get assertequals groupcount groupcounter get assertequals count eventcounter get 
final atomicinteger subscribecounter new atomicinteger final atomicinteger senteventcounter new atomicinteger sync infinite observable of event 2 subscribecounter senteventcounter subscribecounter thread sleep 500 assertequals 39 senteventcounter get 
final atomicinteger subscribecounter new atomicinteger final atomicinteger senteventcounter new atomicinteger async infinite observable of event 2 subscribecounter senteventcounter subscribecounter thread sleep 500 assertequals 39 senteventcounter get 
final atomicinteger eventcounter new atomicinteger final atomicinteger groupcounter new atomicinteger final countdownlatch latch new countdownlatch 1 es groupby new function event integer override public integer apply event e return e source take 1 flatmap new function groupedflowable integer event flowable string override public flowable string apply groupedflowable integer event eventgroupedflowable system out println testunsubscribe groupedflowable key eventgroupedflowable getkey groupcounter incrementandget return eventgroupedflowable take 20 map new function event string override public string apply event event return testunsubscribe source event source message event message subscribe new defaultsubscriber string override public void oncomplete latch countdown override public void onerror throwable e e printstacktrace latch countdown override public void onnext string outputmessage system out println outputmessage eventcounter incrementandget if latch await 2000 timeunit milliseconds fail timed out so likely did not unsubscribe correctly assertequals 1 subscribecounter get assertequals 1 groupcounter get assertequals 20 eventcounter get 
final atomicinteger subscribecounter new atomicinteger final atomicinteger senteventcounter new atomicinteger final atomicinteger eventcounter new atomicinteger sync infinite observable of event 4 subscribecounter senteventcounter groupby new function event integer override public integer apply event e return e source take 2 flatmap new function groupedflowable integer event flowable string override public flowable string apply groupedflowable integer event eventgroupedflowable return eventgroupedflowable map new function event string override public string apply event event return testunsubscribe source event source message event message take 30 subscribe new consumer string override public void accept string s eventcounter incrementandget system out println s assertequals 30 eventcounter get assertequals 58 senteventcounter get 
final atomicinteger subscribecounter new atomicinteger final atomicinteger senteventcounter new atomicinteger final atomicinteger eventcounter new atomicinteger sync infinite observable of event 4 subscribecounter senteventcounter groupby new function event integer override public integer apply event e return e source take 2 flatmap new function groupedflowable integer event flowable string override public flowable string apply groupedflowable integer event eventgroupedflowable int numtotake 0 if eventgroupedflowable getkey 1 numtotake 10 else if eventgroupedflowable getkey 2 numtotake 5 return eventgroupedflowable take numtotake map new function event string override public string apply event event return testunsubscribe source event source message event message subscribe new consumer string override public void accept string s eventcounter incrementandget system out println s assertequals 15 eventcounter get assertequals 37 senteventcounter get 
final atomicinteger eventcounter new atomicinteger final countdownlatch latch new countdownlatch 1 flowable range 0 100 groupby new function integer integer override public integer apply integer i return i 2 flatmap new function groupedflowable integer integer flowable integer override public flowable integer apply groupedflowable integer integer group if group getkey 0 return group delay 100 timeunit milliseconds map new function integer integer override public integer apply integer t return t 10 else return group subscribe new defaultsubscriber integer override public void oncomplete system out println oncomplete latch countdown override public void onerror throwable e e printstacktrace latch countdown override public void onnext integer s eventcounter incrementandget system out println s if latch await 3000 timeunit milliseconds fail timed out assertequals 100 eventcounter get 
final countdownlatch latch new countdownlatch 1 final atomicinteger eventcounter new atomicinteger flowable range 0 100 groupby new function integer integer override public integer apply integer i return i 2 subscribe new defaultsubscriber groupedflowable integer integer override public void oncomplete latch countdown override public void onerror throwable e e printstacktrace latch countdown override public void onnext groupedflowable integer integer s eventcounter incrementandget system out println s if latch await 500 timeunit milliseconds fail timed out never got completion assertequals 100 eventcounter get 
final atomicinteger subscribecounter new atomicinteger final atomicinteger senteventcounter new atomicinteger final atomicinteger eventcounter new atomicinteger sync infinite observable of event 4 subscribecounter senteventcounter groupby new function event integer override public integer apply event e return e source flatmap new function groupedflowable integer event flowable string override public flowable string apply groupedflowable integer event eventgroupedflowable flowable event eventstream eventgroupedflowable if eventgroupedflowable getkey 2 eventstream eventgroupedflowable filter new predicate event override public boolean test event t1 return false return eventstream map new function event string override public string apply event event return testunsubscribe source event source message event message take 30 subscribe new consumer string override public void accept string s eventcounter incrementandget system out println s assertequals 30 eventcounter get assertequals 60 senteventcounter get 
final countdownlatch first new countdownlatch 2 final arraylist string results new arraylist flowable unsafecreate new publisher integer override public void subscribe subscriber super integer sub sub onsubscribe new booleansubscription sub onnext 1 sub onnext 2 sub onnext 1 sub onnext 2 try first await catch interruptedexception e sub onerror e return sub onnext 3 sub onnext 3 sub oncomplete groupby new function integer integer override public integer apply integer t return t flatmap new function groupedflowable integer integer flowable string override public flowable string apply final groupedflowable integer integer group if group getkey 3 return group map new function integer string override public string apply integer t1 return first groups t1 take 2 dooncomplete new action override public void run first countdown else return group map new function integer string override public string apply integer t1 return last group t1 blockingforeach new consumer string override public void accept string s results add s system out println results results assertequals 6 results size 
system err println final countdownlatch first new countdownlatch 2 final arraylist string results new arraylist flowable unsafecreate new publisher integer override public void subscribe subscriber super integer sub sub onsubscribe new booleansubscription sub onnext 1 sub onnext 2 sub onnext 1 sub onnext 2 try first await catch interruptedexception e sub onerror e return sub onnext 3 sub onnext 3 sub oncomplete groupby new function integer integer override public integer apply integer t return t flatmap new function groupedflowable integer integer flowable string override public flowable string apply final groupedflowable integer integer group if group getkey 3 return group map new function integer string override public string apply integer t1 return first groups t1 take 2 dooncomplete new action override public void run first countdown else return group subscribeon schedulers newthread delay 400 timeunit milliseconds map new function integer string override public string apply integer t1 return last group t1 dooneach new consumer notification string override public void accept notification string t1 system err println subscribeon notification t1 dooneach new consumer notification string override public void accept notification string t1 system err println outer notification t1 blockingforeach new consumer string override public void accept string s results add s system out println results results assertequals 6 results size 
final countdownlatch first new countdownlatch 2 final arraylist string results new arraylist flowable unsafecreate new publisher integer override public void subscribe subscriber super integer sub sub onsubscribe new booleansubscription sub onnext 1 sub onnext 2 sub onnext 1 sub onnext 2 try first await catch interruptedexception e sub onerror e return sub onnext 3 sub onnext 3 sub oncomplete groupby new function integer integer override public integer apply integer t return t flatmap new function groupedflowable integer integer flowable string override public flowable string apply final groupedflowable integer integer group if group getkey 3 return group map new function integer string override public string apply integer t1 return first groups t1 take 2 dooncomplete new action override public void run first countdown else return group observeon schedulers newthread delay 400 timeunit milliseconds map new function integer string override public string apply integer t1 return last group t1 blockingforeach new consumer string override public void accept string s results add s system out println results results assertequals 6 results size 
final arraylist string results new arraylist flowable unsafecreate new publisher integer override public void subscribe subscriber super integer sub sub onsubscribe new booleansubscription sub onnext 1 sub onnext 2 sub onnext 1 sub onnext 2 sub oncomplete groupby new function integer integer override public integer apply integer t return t flatmap new function groupedflowable integer integer flowable string override public flowable string apply final groupedflowable integer integer group return group subscribeon schedulers newthread map new function integer string override public string apply integer t1 system out println received t1 on group group getkey return first groups t1 dooneach new consumer notification string override public void accept notification string t1 system out println notification t1 blockingforeach new consumer string override public void accept string s results add s system out println results results assertequals 4 results size 
final arraylist string results new arraylist flowable unsafecreate new publisher integer override public void subscribe subscriber super integer sub sub onsubscribe new booleansubscription sub onnext 1 sub onnext 2 sub onnext 1 sub onnext 2 sub oncomplete groupby new function integer integer override public integer apply integer t return t flatmap new function groupedflowable integer integer flowable string override public flowable string apply final groupedflowable integer integer group return group observeon schedulers newthread delay 400 timeunit milliseconds map new function integer string override public string apply integer t1 return first groups t1 blockingforeach new consumer string override public void accept string s results add s system out println results results assertequals 4 results size 
return event source source message message 
flowable long source flowable interval 10 timeunit milliseconds take 1 flowable groupedflowable boolean long stream source groupby is even subscriber groupedflowable boolean long f1 testhelper mocksubscriber subscriber groupedflowable boolean long f2 testhelper mocksubscriber stream subscribe f1 stream subscribe f2 verify f1 never onerror mockito throwable any verify f2 never onerror mockito throwable any 
testsubscriber string ts new testsubscriber flowable range 1 4000 groupby is even2 flatmap new function groupedflowable boolean integer flowable string override public flowable string apply final groupedflowable boolean integer g return g observeon schedulers computation map new function integer string override public string apply integer l if g getkey try thread sleep 1 catch interruptedexception e return l is even else return l is odd subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors 
flowable string source flowable fromiterable arrays aslist foo foo bar foo baz qux bar bar foo baz baz foo function string string keysel new function string string override public string apply string t1 return t1 trim tolowercase function string string valuesel new function string string override public string apply string t1 return t1 t1 flowable string m source groupby keysel valuesel flatmap new function groupedflowable string string publisher string override public publisher string apply final groupedflowable string string g system out println next g getkey return g take 2 map new function string string int count override public string apply string v system out println v return g getkey count testsubscriber string ts new testsubscriber m subscribe ts ts awaitdone 5 timeunit seconds system out println ts get ts values ts assertnoerrors assertequals ts values arrays aslist foo 0 foo 1 bar 0 foo 0 baz 0 qux 0 bar 1 bar 0 foo 1 baz 1 baz 0 foo 0 
flowable integer source flowable just 0 1 2 3 4 5 6 flowable integer m source groupby fail 0 dbl flatmap flatten integer testsubscriberex integer ts new testsubscriberex m subscribe ts ts awaitdone 5 timeunit seconds assertequals 1 ts errors size ts assertnovalues 
flowable integer source flowable just 0 1 2 3 4 5 6 flowable integer m source groupby identity fail 0 flatmap flatten integer testsubscriberex integer ts new testsubscriberex m subscribe ts ts awaitdone 5 timeunit seconds assertequals 1 ts errors size ts assertnovalues 
flowable integer source flowable just 0 flowable integer m source groupby identity dbl flatmap flatten integer testsubscriber object ts new testsubscriber m subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors system out println ts values 
flowable integer source flowable just 0 final atomicreference groupedflowable integer integer inner new atomicreference flowable groupedflowable integer integer m source groupby identity dbl m subscribe new consumer groupedflowable integer integer override public void accept groupedflowable integer integer t1 inner set t1 inner get subscribe subscriber integer subscriber2 testhelper mocksubscriber inner get subscribe subscriber2 verify subscriber2 never oncomplete verify subscriber2 never onnext anyint verify subscriber2 onerror any class 
flowable integer source flowable concat flowable just 0 flowable integer error new testexception forced failure flowable integer m source groupby identity dbl flatmap flatten integer testsubscriberex object ts new testsubscriberex m subscribe ts ts awaitdone 5 timeunit seconds assertequals 1 ts errors size ts assertvaluecount 1 
testsubscriber string ts new testsubscriber flowable range 1 4000 groupby is even2 flatmap new function groupedflowable boolean integer flowable string override public flowable string apply final groupedflowable boolean integer g return g dooncomplete new action override public void run system out println completed a observeon schedulers computation map new function integer string int c override public string apply integer l if g getkey if c 400 try thread sleep 1 catch interruptedexception e return l is even else return l is odd dooncomplete new action override public void run system out println completed b dooneach new consumer notification string override public void accept notification string t1 system out println next t1 subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors 
testsubscriber string ts new testsubscriber flowable range 1 4000 doonnext new consumer integer override public void accept integer v system out println v groupby is even2 flatmap new function groupedflowable boolean integer flowable string override public flowable string apply final groupedflowable boolean integer g return g take 2 observeon schedulers computation map new function integer string override public string apply integer l if g getkey try thread sleep 1 catch interruptedexception e return l is even else return l is odd 4000 subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors 
final string key new string uninitialized final list string values new arraylist flowable just a b c groupby new function string string override public string apply string value return null subscribe new consumer groupedflowable string string override public void accept groupedflowable string string groupedflowable key 0 groupedflowable getkey groupedflowable subscribe new consumer string override public void accept string s values add s assertnull key 0 assertequals arrays aslist a b c values 
final subscription s mock subscription class flowable integer f flowable unsafecreate new publisher integer override public void subscribe subscriber super integer subscriber subscriber onsubscribe s testsubscriber object ts new testsubscriber f groupby new function integer integer override public integer apply integer integer return null subscribe ts ts cancel verify s cancel 
final throwable e new runtimeexception oops final testsubscriberex integer inner1 new testsubscriberex final testsubscriberex integer inner2 new testsubscriberex final testsubscriberex groupedflowable integer integer outer new testsubscriberex new defaultsubscriber groupedflowable integer integer override public void oncomplete override public void onerror throwable e override public void onnext groupedflowable integer integer f if f getkey 0 f subscribe inner1 else f subscribe inner2 flowable unsafecreate new publisher integer override public void subscribe subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onnext 0 subscriber onnext 1 subscriber onerror e groupby new function integer integer override public integer apply integer i return i 2 subscribe outer assertequals arrays aslist e outer errors assertequals arrays aslist e inner1 errors assertequals arrays aslist e inner2 errors 
final atomicboolean completed new atomicboolean false flowable just 1 2 3 groupby new function integer integer override public integer apply integer t return 1 concatmap new function groupedflowable integer integer flowable integer override public flowable integer apply groupedflowable integer integer g return g subscribe new defaultsubscriber integer override public void onstart request 2 override public void oncomplete completed set true override public void onerror throwable e override public void onnext integer t system out println t request long max value 1 asserttrue completed get 
int n 500 for int j 0 j 1000 j flowable merge flowable range 0 n groupby new function integer object override public object apply integer i return i flowable buffersize 2 observeon schedulers computation false n n blockinglast 
for int j 0 j 1000 j flowable merge flowable range 0 500 groupby new function integer object override public object apply integer i return i flowable buffersize 2 observeon schedulers computation blockinglast 
testsubscriber groupedflowable integer integer ts new testsubscriber 0l publishprocessor integer pp publishprocessor create pp groupby new function integer integer override public integer apply integer v return v doonnext new consumer groupedflowable integer integer override public void accept groupedflowable integer integer g g subscribe subscribe ts ts request 1 pp onnext 1 ts assertnotcomplete ts assertnoerrors ts assertvaluecount 1 
testsubscriber groupedflowable integer integer ts new testsubscriber 1 flowable fromarray 1 2 groupby new function integer integer override public integer apply integer v return v doonnext new consumer groupedflowable integer integer override public void accept groupedflowable integer integer g g subscribe subscribe ts ts assertvaluecount 1 asserterror class assertnotcomplete 
testsubscriber object ts1 new testsubscriber 1l final testsubscriber object ts2 new testsubscriber 0l flowable range 1 flowable buffersize 2 groupby new function integer object override public object apply integer v return 1 doonnext new consumer groupedflowable object integer override public void accept groupedflowable object integer g g subscribe ts2 subscribe ts1 ts1 assertvaluecount 1 ts1 assertnoerrors ts1 assertnotcomplete ts2 assertnovalues ts2 assertnoerrors ts2 assertnotcomplete ts2 request flowable buffersize 2 ts2 assertvaluecount flowable buffersize 2 ts2 assertnoerrors ts2 assertcomplete 
final testsubscriberex integer ts1 new testsubscriberex integer setinitialfusionmode queuefuseable any final testsubscriberex groupedflowable integer integer ts2 new testsubscriberex groupedflowable integer integer setinitialfusionmode queuefuseable any flowable range 1 10 groupby new function integer integer override public integer apply integer v return 1 new function integer integer override public integer apply integer v return v 1 doonnext new consumer groupedflowable integer integer override public void accept groupedflowable integer integer g g subscribe ts1 subscribe ts2 ts1 assertfusionmode queuefuseable none assertvalues 2 3 4 5 6 7 8 9 10 11 assertnoerrors assertcomplete ts2 assertvaluecount 1 assertnoerrors assertcomplete 
flowable just 1 concatwith flowable integer error new testexception groupby functions integer identity true flatmap new function groupedflowable integer integer flowable integer override public flowable integer apply groupedflowable integer integer g throws exception return g test assertfailure testexception class 1 
flowable just 1 concatwith flowable integer error new testexception groupby functions integer identity functions integer identity true flatmap new function groupedflowable integer integer flowable integer override public flowable integer apply groupedflowable integer integer g throws exception return g test assertfailure testexception class 1 
testhelper checkdisposed flowable just 1 groupby functions justfunction 1 flowable just 1 groupby functions justfunction 1 doonnext new consumer groupedflowable integer integer override public void accept groupedflowable integer integer g throws exception testhelper checkdisposed g test 
final publishprocessor integer pp publishprocessor create testsubscriber integer ts new testsubscriber integer override public void onnext integer t super onnext t if t 1 pp oncomplete flowable merge pp groupby functions justfunction 1 subscribe ts pp onnext 1 ts assertresult 1 
final publishprocessor integer pp publishprocessor create testsubscriberex integer ts new testsubscriberex integer override public void onnext integer t super onnext t if t 1 pp oncomplete dispose flowable merge pp groupby functions justfunction 1 subscribe ts pp onnext 1 ts assertsubscribed assertvalue 1 assertnoerrors assertnotcomplete 
flowable just 1 groupby functions justfunction 1 true flatmap functions flowable integer identity test assertresult 1 
testsubscriberex flowable integer ts new testsubscriberex flowable integer setinitialfusionmode queuefuseable sync flowable just 1 groupby functions justfunction 1 subscribe ts ts assertfusionmode queuefuseable none assertvaluecount 1 assertcomplete assertnoerrors 
testhelper new function flowable object object override public object apply flowable object f throws exception return f groupby functions justfunction 1 false 1 1 object null 
testhelper flowable just 1 hide groupby functions justfunction 1 
flowable just 1 hide groupby functions justfunction 1 doonnext g testhelper g test assertnoerrors 
testhelper new function flowable object publisher groupedflowable integer object override public publisher groupedflowable integer object apply flowable object f throws exception return f groupby functions justfunction 1 
flowable just 1 groupby new function integer object override public object apply integer v throws exception return null flatmap new function groupedflowable object integer publisher integer override public publisher integer apply groupedflowable object integer g throws exception return g take 1 test assertresult 1 
flowable just 1 concatwith flowable integer error new testexception groupby functions justfunction 1 true flatmap new function groupedflowable integer integer publisher integer override public publisher integer apply groupedflowable integer integer g throws exception return g hide test assertfailure testexception class 1 
flowable just 1 groupby functions justfunction 1 true flatmap new function groupedflowable integer integer publisher integer override public publisher integer apply groupedflowable integer integer g throws exception return g hide test assertresult 1 
final ioexception ex new ioexception boo function consumer object map integer object evictingmapfactory new function consumer object map integer object override public map integer object apply final consumer object notify throws exception throw ex flowable just 1 groupby functions integer identity functions identity true 16 evictingmapfactory test assertnovalues asserterror ex 
return new function groupedflowable integer integer publisher extends integer override public publisher extends integer apply final groupedflowable integer integer g throws exception return g dooncomplete new action override public void run throws exception completed add g getkey 
return tick 
final list integer completed new copyonwritearraylist function consumer object map integer object evictingmapfactory 1 publishsubject integer subject publishsubject create testsubscriberex integer ts subject toflowable backpressurestrategy buffer groupby functions integer identity functions integer identity true 16 evictingmapfactory flatmap addcompletedkey completed to testhelper integer testconsumer subject onnext 1 subject onnext 2 subject onnext 3 ts assertvalues 1 2 3 assertnotterminated assertequals arrays aslist 1 2 completed subject oncomplete ts assertcomplete ts assertvaluecount 3 
function consumer object map integer object evictingmapfactory 1 publishsubject integer subject publishsubject create testsubscriber integer ts subject toflowable backpressurestrategy buffer groupby functions integer identity functions integer identity true 16 evictingmapfactory flatmap new function groupedflowable integer integer publisher integer override public publisher integer apply groupedflowable integer integer g throws exception return g test runtimeexception ex new runtimeexception subject onerror ex ts assertnovalues asserterror ex 
final list integer completed new copyonwritearraylist atomicreference cache integer object cacheout new atomicreference function consumer object map integer object evictingmapfactory 3 cacheout int numvalues 1000 testsubscriber integer ts flowable range 1 numvalues groupby mod5 functions integer identity true 16 evictingmapfactory flatmap addcompletedkey completed test assertcomplete ts assertvaluecount numvalues asserttrue completed size numvalues 0 9 cacheout get invalidateall 
publishprocessor integer source publishprocessor create final testticker testticker new testticker function consumer object map integer object mapfactory new function consumer object map integer object override public map integer object apply final consumer object action throws exception return cachebuilder newbuilder expireafteraccess 5 timeunit seconds removallistener new removallistener object object override public void onremoval removalnotification object object notification try action accept notification getvalue catch throwable ex throw new runtimeexception ex ticker testticker integer object build asmap final list string list new copyonwritearraylist flowable integer stream source dooncancel new action override public void run throws exception list add source canceled integer integer groupby functions integer identity functions integer identity false flowable buffersize mapfactory flatmap new function groupedflowable integer integer publisher extends integer override public publisher extends integer apply groupedflowable integer integer group throws exception return group dooncomplete new action override public void run throws exception list add group completed dooncancel new action override public void run throws exception list add group canceled testsubscriber integer ts stream dooncancel new action override public void run throws exception list add outer group by canceled test source onnext 1 source onnext 1 source onnext 1 ts awaitcount 3 testticker tick timeunit seconds tonanos 6 source onnext 1 ts awaitcount 4 ts cancel system out println list asserttrue list contains source canceled assertequals arrays aslist group completed outer group by canceled group canceled source canceled list 
return map size 
return map isempty 
return map containskey key 
return map containsvalue value 
return map get key 
list remove key return map remove key 
for entry extends k extends v entry m entryset put entry getkey entry getvalue 
list clear map clear 
return map keyset 
return map values 
return map entryset 
final atomicboolean cancelled new atomicboolean flowable just 1 repeat dooncancel new action override public void run throws exception cancelled set true groupby functions integer identity functions integer identity flatmap new function groupedflowable integer integer publisher extends object override public publisher extends object apply groupedflowable integer integer g throws exception return g first 0 toflowable take 4 test assertcomplete asserttrue cancelled get 
for int i 0 i testhelper race long loops i final testsubscriber integer ts new testsubscriber final publishprocessor integer pp publishprocessor create pp groupby new function integer integer override public integer apply integer v throws throwable return v 10 functions integer identity false 2048 flatmap new function groupedflowable integer integer groupedflowable integer integer override public groupedflowable integer integer apply groupedflowable integer integer v throws throwable return v subscribe ts runnable r1 new runnable override public void run for int j 0 j 1000 j pp onnext j runnable r2 new runnable override public void run ts cancel testhelper race r1 r2 assertfalse round i pp hassubscribers 
final list groupedflowable integer integer groups new arraylist flowable range 1 1000 groupby new function integer integer override public integer apply integer v throws throwable return v 10 doonnext new consumer groupedflowable integer integer override public void accept groupedflowable integer integer v throws throwable groups add v test assertvaluecount 1000 assertcomplete assertnoerrors flowable concat groups test assertvaluecount 1000 assertnoerrors assertcomplete 
testsubscriber object ts1 new testsubscriber final testsubscriber object ts2 new testsubscriber flowable just 1 groupby functions integer identity new function integer object override public object apply integer v throws throwable throw new testexception doonnext new consumer groupedflowable integer object override public void accept groupedflowable integer object g throws throwable g subscribe ts2 subscribe ts1 ts1 assertvaluecount 1 asserterror testexception class assertnotcomplete ts2 assertfailure testexception class 
testsubscriber object ts1 new testsubscriber final testsubscriber object ts2 new testsubscriber flowable just 1 2 groupby functions justfunction 1 new function integer object override public object apply integer v throws throwable if v 2 throw new testexception return v doonnext new consumer groupedflowable integer object override public void accept groupedflowable integer object g throws throwable g subscribe ts2 subscribe ts1 ts1 assertvaluecount 1 asserterror testexception class assertnotcomplete ts2 assertfailure testexception class 1 
flowable range 0 subscribeon schedulers single groupby new function integer integer override public integer apply integer i throws throwable return i 2 flatmap new function groupedflowable integer integer publisher integer override public publisher integer apply groupedflowable integer integer g return g getkey 0 g parallel runon schedulers computation map functions integer identity sequential g map functions integer identity test awaitdone 20 timeunit seconds assertvaluecount assertcomplete assertnoerrors 
publishprocessor integer pp publishprocessor create testsubscriberex groupedflowable integer integer ts pp groupby functions justfunction 1 new function integer integer override public integer apply integer t throws throwable throw new testexception subscribewith new testsubscriberex 0l asserttrue pp offer 1 ts assertfailure class asserttrue ts errors get 0 getcause ts errors get 0 getcause instanceof testexception 
flowable just 1 groupby functions integer identity flatmap new function groupedflowable integer integer publisher integer override public publisher integer apply groupedflowable integer integer g throws throwable return g observeon instance take 1 test assertresult 1 
flowable range 1 100 groupby functions integer integer justfunction 1 flatmap new function groupedflowable integer integer publisher integer override public publisher integer apply groupedflowable integer integer g throws throwable return g observeon schedulers io doonnext new consumer integer override public void accept integer v throws throwable thread sleep 100 take 1 test awaitdone 5 timeunit seconds assertnoerrors assertcomplete 
final list testsubscriber integer tss new arraylist final atomicinteger counter new atomicinteger final atomicboolean done new atomicboolean flowable range 1 1000 doonnext new consumer integer override public void accept integer v throws exception counter getandincrement groupby functions justfunction 1 subscribe new consumer groupedflowable integer integer override public void accept groupedflowable integer integer v throws exception testsubscriber integer ts testsubscriber create 0l tss add ts v subscribe ts functions emptyconsumer new action override public void run throws exception done set true while done get tss remove 0 cancel assertequals 1000 counter get 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp groupby v 1 true flatmap g g doonnext v if v 1 pp onnext 2 pp oncomplete test pp onnext 1 ts assertresult 1 2 
flowable just 1 groupby v 1 doonnext g g subscribewith new testsubscriberex integer setinitialfusionmode queuefuseable sync assertfuseable assertfusionmode queuefuseable none test assertcomplete 
for int i 0 i testhelper race default loops i publishprocessor integer pp publishprocessor create testsubscriber integer ts testsubscriber create countdownlatch cdl new countdownlatch 1 pp groupby v 1 doonnext g testhelper raceother g subscribe ts cdl test pp onnext 1 cdl await ts assertvaluecount 1 
flowabletransformer integer integer operation source source publish shared shared firstelement flatmappublisher firstelement flowable just firstelement concatwith shared issue6974run 20 500 000 20 1 20 2 operation false issue6974run 20 500 000 20 20 2 operation false 
final int groups 20 int groupbybuffersize groups 2 int 2 groups boolean false groupbybuffersize groups 
final int groups 20 int groupbybuffersize groups 30 int 2 groups boolean true groupbybuffersize groups 
final int groups 20 int groupbybuffersize groups 2 int 2 groups boolean false groupbybuffersize groups 
final int groups 20 int groupbybuffersize groups 2 int 2 groups boolean false flowable range 1 500 000 map i i groups dooncancel system out println cancelling upstream groupby i i i i false groupbybuffersize sizecap groups 2 flatmap gf gf observeon schedulers computation take 10 timeunit milliseconds subscribewith new testsubscriberex awaitdone 5 timeunit seconds assertterminated 
final int groups 20 int groupbybuffersize groups 2 int 2 groups boolean false flowable range 1 500 000 map i i groups dooncancel system out println cancelling upstream groupby i i i i false groupbybuffersize sizecap groups 2 flatmap gf gf hide observeon schedulers computation take 10 timeunit milliseconds subscribewith new testsubscriberex awaitdone 5 timeunit seconds assertterminated 
final int groups 20 int 1 000 000 flowable range 1 500 000 map i i groups doonrequest v system out println source v groupby i i flatmap gf gf observeon schedulers computation take 10 timeunit milliseconds test awaitdone 5 timeunit seconds assertnoerrors assertcomplete 
final int groups 20 int 1 000 000 flowable range 1 500 000 map i i groups doonrequest v system out println source v groupby i i flatmap gf gf hide observeon schedulers computation take 10 timeunit milliseconds test awaitdone 5 timeunit seconds assertnoerrors assertcomplete 
final int groups 20 int groupbybuffersize groups 2 int 2 groups boolean false flowable range 1 500 000 map i i groups dooncancel system out println cancelling upstream groupby i i i i false groupbybuffersize sizecap groups 2 flatmap gf gf observeon schedulers computation filter v true take 10 timeunit milliseconds subscribewith new testsubscriberex awaitdone 5 timeunit seconds assertterminated 
final int groups 20 int groupbybuffersize groups 2 int 2 groups boolean false flowable range 1 500 000 map i i groups dooncancel system out println cancelling upstream groupby i i i i false groupbybuffersize sizecap groups 2 flatmap gf gf hide observeon schedulers computation filter v true take 10 timeunit milliseconds subscribewith new testsubscriberex awaitdone 5 timeunit seconds assertterminated 
return itemevictconsumer cachebuilder newbuilder expireafterwrite ttl removallistener n if n getcause com google common cache removalcause explicit try itemevictconsumer accept n getvalue catch throwable throwable throw new runtimeexception throwable t object build asmap 
final int groups 20 int groupbybuffersize 2 int 200 groups flowable range 1 500 000 map i i groups groupby i i i i false groupbybuffersize ttlcapguava duration ofmillis 10 flatmap gf gf observeon schedulers computation test awaitdone 5 timeunit seconds assertnoerrors assertcomplete 
final int groups 20 int groupbybuffersize groups 30 int groups 500 flowable range 1 500 000 map i i groups groupby i i i i false groupbybuffersize ttlcapguava duration ofmillis 10 flatmap gf gf observeon schedulers computation test awaitdone 5 timeunit seconds assertnoerrors assertcomplete 
testhelper checkutilityclass class 
testhelper checkenum requestmax class 
testsubscriber integer ts new testsubscriber flowable range 1 2 reduce new bifunction integer integer integer override public integer apply integer a integer b return math max a b toflowable flatmapiterable new function integer iterable integer override public iterable integer apply integer v return arrays aslist v v 1 subscribe ts ts assertvalues 2 3 assertnoerrors assertcomplete 
testsubscriber integer ts new testsubscriber flowable range 1 5 concatmapiterable mapper subscribe ts ts assertvalues 1 2 2 3 3 4 4 5 5 6 ts assertnoerrors ts assertcomplete 
testsubscriber integer ts new testsubscriber flowable range 1 5 flatmapiterable mapper subscribe ts ts assertvalues 1 2 2 3 3 4 4 5 5 6 ts assertnoerrors ts assertcomplete 
testsubscriber integer ts new testsubscriber 0 flowable range 1 5 concatmapiterable mapper subscribe ts ts assertnovalues ts assertnoerrors ts assertnotcomplete ts request 1 ts assertvalue 1 ts assertnoerrors ts assertnotcomplete ts request 2 ts assertvalues 1 2 2 ts assertnoerrors ts assertnotcomplete ts request 7 ts assertvalues 1 2 2 3 3 4 4 5 5 6 ts assertnoerrors ts assertcomplete 
testsubscriber integer ts new testsubscriber int n 1000 1000 flowable range 1 n concatmapiterable mapper subscribe ts ts assertvaluecount n 2 ts assertnoerrors ts assertcomplete 
testsubscriber integer ts new testsubscriber int n 1000 1000 flowable range 1 n concatmapiterable mapper concatmap new function integer flowable integer override public flowable integer apply integer v return flowable just v subscribe ts ts assertvaluecount n 2 ts assertnoerrors ts assertcomplete 
testsubscriber integer ts new testsubscriber flowable just 1 concatmapiterable mapper subscribe ts ts assertvalues 1 2 ts assertnoerrors ts assertcomplete 
testsubscriber integer ts new testsubscriber flowable just 1 hide concatmapiterable mapper subscribe ts ts assertvalues 1 2 ts assertnoerrors ts assertcomplete 
testsubscriber integer ts new testsubscriber flowable integer empty concatmapiterable mapper subscribe ts ts assertnovalues ts assertnoerrors ts assertcomplete 
testsubscriber integer ts new testsubscriber flowable integer just 1 concatwith flowable integer error new testexception concatmapiterable mapper subscribe ts ts assertvalues 1 2 ts asserterror testexception class ts assertnotcomplete 
testsubscriber integer ts new testsubscriber final iterable integer it new iterable integer override public iterator integer iterator return new iterator integer override public boolean hasnext throw new testexception override public integer next return 1 override public void remove throw new flowable range 1 2 concatmapiterable new function integer iterable integer override public iterable integer apply integer v return it subscribe ts ts assertnovalues ts asserterror testexception class ts assertnotcomplete 
testsubscriber integer ts new testsubscriber final iterable integer it new iterable integer override public iterator integer iterator return new iterator integer override public boolean hasnext throw new testexception override public integer next return 1 override public void remove throw new flowable just 1 concatmapiterable new function integer iterable integer override public iterable integer apply integer v return it subscribe ts ts assertnovalues ts asserterror testexception class ts assertnotcomplete 
testsubscriber integer ts new testsubscriber final iterable integer it new iterable integer override public iterator integer iterator return new iterator integer int count override public boolean hasnext if count 2 throw new testexception return true override public integer next return 1 override public void remove throw new flowable range 1 2 concatmapiterable new function integer iterable integer override public iterable integer apply integer v return it subscribe ts ts assertvalue 1 ts asserterror testexception class ts assertnotcomplete 
testsubscriber integer ts new testsubscriber final iterable integer it new iterable integer override public iterator integer iterator return new iterator integer override public boolean hasnext return true override public integer next throw new testexception override public void remove throw new flowable range 1 2 concatmapiterable new function integer iterable integer override public iterable integer apply integer v return it subscribe ts ts assertnovalues ts asserterror testexception class ts assertnotcomplete 
testsubscriber integer ts new testsubscriber final iterable integer it new iterable integer override public iterator integer iterator return new iterator integer override public boolean hasnext return true override public integer next throw new testexception override public void remove throw new publishprocessor integer pp publishprocessor create pp concatmapiterable new function integer iterable integer override public iterable integer apply integer v return it subscribe ts pp onnext 1 ts assertnovalues ts asserterror testexception class ts assertnotcomplete assert assertfalse publishprocessor has subscribers pp hassubscribers 
testsubscriber integer ts new testsubscriber flowable range 0 1000 concatmapiterable new function integer iterable integer override public iterable integer apply integer v return v 2 0 collections singleton 1 collections integer emptyset subscribe ts ts assertvaluecount 500 ts assertnoerrors ts assertcomplete 
testsubscriber integer ts new testsubscriber 1 flowable range 1 2 concatmapiterable new function integer iterable integer override public iterable integer apply integer v return v 2 collections singleton 1 collections integer emptyset subscribe ts ts assertvalue 1 ts assertnoerrors ts assertcomplete 
testsubscriber integer ts new testsubscriber 1 flowable range 1 1000 concatmapiterable new function integer iterable integer override public iterable integer apply integer v return v 1000 collections singleton 1 collections integer emptyset subscribe ts ts assertvalue 1 ts assertnoerrors ts assertcomplete 
testsubscriber integer ts new testsubscriber final atomicinteger counter new atomicinteger final iterable integer it new iterable integer override public iterator integer iterator return new iterator integer override public boolean hasnext counter getandincrement return true override public integer next return 1 override public void remove throw new publishprocessor integer pp publishprocessor create pp concatmapiterable new function integer iterable integer override public iterable integer apply integer v return it take 1 subscribe ts pp onnext 1 ts assertvalue 1 ts assertnoerrors ts assertcomplete assert assertfalse publishprocessor has subscribers pp hassubscribers assert assertequals 1 counter get 
testsubscriber integer ts new testsubscriber flowable range 1 5 flatmapiterable mapper 2 subscribe ts ts assertvalues 1 2 2 3 3 4 4 5 5 6 ts assertnoerrors ts assertcomplete 
testsubscriber integer ts testsubscriber create flowable range 1 5 flatmapiterable new function integer iterable integer override public iterable integer apply integer v return collections singletonlist 1 new bifunction integer integer integer override public integer apply integer a integer b return a 10 b 2 subscribe ts ts assertvalues 11 21 31 41 51 ts assertnoerrors ts assertcomplete 
flowable just 1 2 flatmapiterable new function integer iterable integer override public iterable integer apply integer t throws exception return arrays aslist t 10 1 test assertresult 10 20 
testhelper checkdisposed publishprocessor create flatmapiterable new function object iterable integer override public iterable integer apply object v throws exception return arrays aslist 10 20 
testhelper new function flowable integer object override public object apply flowable integer f throws exception return f flatmapiterable new function object iterable integer override public iterable integer apply object v throws exception return arrays aslist 10 20 false 1 1 10 20 
flowable fromcallable new callable object override public object call throws exception throw new testexception flatmapiterable functions justfunction arrays aslist 1 2 3 test assertfailure testexception class 
flowable just 1 2 flatmapiterable functions justfunction arrays aslist 1 2 3 subscribe new flowablesubscriber integer override public void onsubscribe subscription s suppresswarnings unchecked queuesubscription integer qs queuesubscription integer s assertequals queuefuseable sync qs requestfusion queuefuseable any try assertfalse source reports being empty qs isempty assertequals 1 qs poll intvalue assertfalse source reports being empty qs isempty assertequals 2 qs poll intvalue assertfalse source reports being empty qs isempty qs clear asserttrue source reports not empty qs isempty assertnull qs poll catch throwable ex throw exceptionhelper wraporthrow ex override public void onnext integer t override public void onerror throwable t override public void oncomplete 
flowable just 1 2 3 flatmapiterable functions justfunction arrays aslist 1 2 3 1 test assertresult 1 2 3 1 2 3 1 2 3 
flowable just 1 2 3 hide flatmapiterable functions justfunction collections emptylist 1 test assertresult 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable just 1 2 3 flatmapiterable new function integer iterable integer override public iterable integer apply integer v throws exception if v 1 0 return collections emptylist return arrays aslist 1 2 subscribe ts ts assertfusionmode queuefuseable sync assertresult 1 2 1 2 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable just 1 2 3 flatmapiterable new function integer iterable integer override public iterable integer apply integer v throws exception if v 1 1 return collections emptylist return arrays aslist 1 2 subscribe ts ts assertfusionmode queuefuseable sync assertresult 1 2 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable just 1 2 3 hide flatmapiterable new function integer iterable integer override public iterable integer apply integer v throws exception return arrays aslist 1 2 subscribe ts ts assertfusionmode queuefuseable none assertresult 1 2 1 2 1 2 
flowable just 1 2 3 flatmapiterable new function integer iterable integer override public iterable integer apply integer v throws exception if v 1 0 return collections emptylist return arrays aslist v subscribe new flowablesubscriber integer override public void onsubscribe subscription s suppresswarnings unchecked queuesubscription integer qs queuesubscription integer s assertequals queuefuseable sync qs requestfusion queuefuseable any try assertfalse source reports being empty qs isempty assertequals 1 qs poll intvalue assertfalse source reports being empty qs isempty assertequals 3 qs poll intvalue asserttrue source reports being non empty qs isempty catch throwable ex throw exceptionhelper wraporthrow ex override public void onnext integer t override public void onerror throwable t override public void oncomplete 
flowable range 1 3 map new function integer object override public object apply integer v throws exception throw new testexception flatmapiterable functions justfunction collections emptylist 1 test assertfailure testexception class 
flowable range 1 3 flatmapiterable functions justfunction arrays aslist 1 1 take 1 test assertresult 1 
new flowable integer override protected void subscribeactual subscriber super integer s s onsubscribe new booleansubscription s onnext 1 s onnext 2 s onnext 3 flatmapiterable functions justfunction arrays aslist 1 1 test 0l assertfailure class 
flowable range 1 3 hide flatmapiterable functions justfunction arrays aslist 1 1 rebatchrequests 1 test assertresult 1 1 1 
final testsubscriber integer ts new testsubscriber flowable range 1 3 hide flatmapiterable new function integer iterable integer override public iterable integer apply integer v throws exception return new iterable integer int count override public iterator integer iterator return new iterator integer override public boolean hasnext if count 2 ts cancel ts oncomplete return true override public integer next return 1 override public void remove throw new subscribe ts ts assertresult 1 
iterable integer it flowable range 1 300 blockingiterable flowable just it it flatmapiterable functions iterable integer identity share share count test assertresult 600l 
iterable integer it flowable range 1 300 blockingiterable for int i 0 i 5 i flowable integer f flowable just it it flatmapiterable functions iterable integer identity for int j 0 j i j f f share f count test withtag share i assertresult 600l 
iterable integer it flowable range 1 300 blockingiterable for int i 0 i 5 i flowable integer f flowable just it it flatmapiterable functions iterable integer identity hide for int j 0 j i j f f share f count test withtag share i assertresult 600l 
final atomicinteger counter new atomicinteger flowable range 1 5 doonnext new consumer integer override public void accept integer v throws exception counter getandincrement flatmapiterable new function integer iterable integer override public iterable integer apply integer v throws exception return new iterable integer override public iterator integer iterator return new iterator integer override public boolean hasnext return true override public integer next throw new testexception override public void remove throw new test assertfailure testexception class assertequals 1 counter get 
testhelper new function flowable object publisher object override public publisher object apply flowable object f throws exception return f flatmapiterable functions justfunction collections emptylist 
testsubscriber integer ts new testsubscriber integer integer f new ts functions justfunction collections integer emptylist 128 final atomiclong requested new atomiclong f onsubscribe new queuesubscription integer override public int requestfusion int mode return 0 override public boolean offer integer value return false override public boolean offer integer v1 integer v2 return false override public integer poll throws exception return null override public boolean isempty return false override public void clear override public void request long n requested set n override public void cancel assertequals 128 requested get assertnotnull f queue ts assertempty 
list throwable errors testhelper trackpluginerrors try testsubscriberex integer ts new testsubscriberex integer integer f new ts functions justfunction collections integer emptylist 128 f onsubscribe new booleansubscription f onerror new testexception first ts testexception class first asserttrue errors isempty f done false f onerror new testexception second testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
testhelper flowable never flatmapiterable functions justfunction collections emptylist 
testsubscriber integer ts new testsubscriber 0 integer integer f new ts functions justfunction arrays integer aslist 1 2 128 f onsubscribe new booleansubscription f onnext 1 assertfalse f isempty assertequals 1 f poll intvalue assertfalse f isempty assertequals 2 f poll intvalue asserttrue f isempty 
testsubscriber integer ts new testsubscriber 0 integer integer f new ts functions justfunction arrays integer aslist 1 2 128 f onsubscribe new booleansubscription f fusionmode queuefuseable none assertequals queuefuseable none f requestfusion queuefuseable sync assertequals queuefuseable none f requestfusion queuefuseable async f fusionmode queuefuseable sync assertequals queuefuseable sync f requestfusion queuefuseable sync assertequals queuefuseable none f requestfusion queuefuseable async 
testscheduler scheduler new testscheduler publishprocessor integer source publishprocessor create flowable integer result source skiplast 1000 timeunit milliseconds scheduler subscriber object subscriber testhelper mocksubscriber result subscribe subscriber source onnext 1 source onnext 2 source onnext 3 scheduler advancetimeby 500 timeunit milliseconds source onnext 4 source onnext 5 source onnext 6 scheduler advancetimeby 950 timeunit milliseconds source oncomplete inorder inorder inorder subscriber inorder verify subscriber onnext 1 inorder verify subscriber onnext 2 inorder verify subscriber onnext 3 inorder verify subscriber never onnext 4 inorder verify subscriber never onnext 5 inorder verify subscriber never onnext 6 inorder verify subscriber oncomplete inorder verify subscriber never onerror any throwable class 
testscheduler scheduler new testscheduler publishprocessor integer source publishprocessor create flowable integer result source skiplast 1 timeunit seconds scheduler subscriber object subscriber testhelper mocksubscriber result subscribe subscriber source onnext 1 source onnext 2 source onnext 3 source onerror new testexception scheduler advancetimeby 1050 timeunit milliseconds verify subscriber onerror any testexception class verify subscriber never oncomplete verify subscriber never onnext any 
testscheduler scheduler new testscheduler publishprocessor integer source publishprocessor create flowable integer result source skiplast 1 timeunit seconds scheduler subscriber object subscriber testhelper mocksubscriber result subscribe subscriber source onnext 1 source onnext 2 source onnext 3 scheduler advancetimeby 500 timeunit milliseconds source oncomplete inorder inorder inorder subscriber inorder verify subscriber oncomplete inorder verify subscriber never onnext any verify subscriber never onerror any throwable class 
testscheduler scheduler new testscheduler publishprocessor integer source publishprocessor create flowable integer result source skiplast 1 timeunit milliseconds scheduler subscriber object subscriber testhelper mocksubscriber result subscribe subscriber source onnext 1 source onnext 2 source onnext 3 scheduler advancetimeby 500 timeunit milliseconds source oncomplete inorder inorder inorder subscriber inorder verify subscriber onnext 1 inorder verify subscriber onnext 2 inorder verify subscriber onnext 3 inorder verify subscriber oncomplete inorder 
flowable just 1 concatwith flowable just 2 delay 500 timeunit milliseconds skiplast 300 timeunit milliseconds test awaitdone 5 timeunit seconds assertresult 1 
flowable just 1 concatwith flowable just 2 delay 500 timeunit milliseconds skiplast 300 timeunit milliseconds true test awaitdone 5 timeunit seconds assertresult 1 
flowable just 1 concatwith flowable just 2 delay 500 timeunit milliseconds skiplast 300 timeunit milliseconds schedulers io true test awaitdone 5 timeunit seconds assertresult 1 
testhelper checkdisposed publishprocessor create skiplast 1 timeunit days 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f skiplast 1 timeunit days 
testscheduler scheduler new testscheduler for int i 0 i testhelper race default loops i final publishprocessor integer pp publishprocessor create final testsubscriber integer ts pp skiplast 1 timeunit days scheduler test runnable r1 new runnable override public void run pp oncomplete runnable r2 new runnable override public void run ts cancel testhelper race r1 r2 
flowable error new testexception skiplast 1 timeunit days new testscheduler true test assertfailure testexception class 
flowable just 1 skiplast 0 timeunit seconds take 1 test awaitdone 5 timeunit seconds assertresult 1 
flowable range 1 1000 skiplast 0 timeunit seconds observeon schedulers single false 16 to testhelper integer testconsumer awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 1000 assertcomplete assertnoerrors 
testhelper flowable never skiplast 1 timeunit minutes 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp skiplast 0 timeunit milliseconds true doonnext v if v 1 pp onnext 1 pp oncomplete test pp onnext 1 ts assertcomplete 
testsubscriber string subscriber testsubscriber create completable cmp flowable just hello world ignoreelements cmp string toflowable subscribe subscriber subscriber assertnovalues subscriber assertcomplete subscriber assertnoerrors 
testsubscriber string subscriber testsubscriber create error new error completable cmp flowable string error error ignoreelements cmp string toflowable subscribe subscriber subscriber asserterror error subscriber assertnovalues 
testsubscriber string subscriber testsubscriber create completable cmp flowable just first second ignoreelements cmp string toflowable subscribe subscriber subscriber assertnoerrors subscriber assertnovalues 
testsubscriber string subscriber testsubscriber create completable cmp flowable string empty ignoreelements cmp string toflowable subscribe subscriber subscriber assertnoerrors subscriber assertnovalues subscriber assertcomplete 
testsubscriberex string subscriber new testsubscriberex completable cmp flowable string never ignoreelements cmp string toflowable subscribe subscriber subscriber assertnotterminated subscriber assertnovalues 
testsubscriber string subscriber testsubscriber create final atomicboolean unsubscribed new atomicboolean false completable cmp flowable just hello world dooncancel new action override public void run unsubscribed set true ignoreelements cmp string toflowable subscribe subscriber subscriber assertcomplete assertfalse unsubscribed get 
flowable frommaybe maybe just 1 hide test assertresult 1 
flowable frommaybe maybe empty hide test assertresult 
flowable frommaybe maybe error new testexception hide test assertfailure testexception class 
maybesubject integer ms maybesubject create testsubscriber integer ts flowable frommaybe ms test ts assertempty asserttrue ms hasobservers ts cancel assertfalse ms hasobservers 
testsubscriberex integer ts new testsubscriberex ts setinitialfusionmode queuefuseable async flowable frommaybe maybe just 1 subscribe ts ts assertfuseable assertfusionmode queuefuseable async assertresult 1 
testsubscriberex integer ts new testsubscriberex ts setinitialfusionmode queuefuseable sync flowable frommaybe maybe just 1 subscribe ts ts assertfuseable assertfusionmode queuefuseable none assertresult 1 
final list object list new arraylist flowable range 1 5 doonnext new consumer integer override public void accept integer v throws exception list add v foreachwhile new predicate integer override public boolean test integer v throws exception return v 3 assertequals arrays aslist 1 2 3 list 
final list object list new arraylist flowable range 1 5 concatwith flowable integer error new testexception doonnext new consumer integer override public void accept integer v throws exception list add v foreachwhile new predicate integer override public boolean test integer v throws exception return true new consumer throwable override public void accept throwable e throws exception list add 100 assertequals arrays aslist 1 2 3 4 5 100 list 
testhelper checkdisposed flowable never foreachwhile v true 
final atomicinteger count new atomicinteger flowable integer f flowable just 1 doonsubscribe new consumer subscription override public void accept subscription s count incrementandget f subscribe f subscribe f subscribe assertequals 3 count get 
final atomicinteger count new atomicinteger flowable integer f flowable just 1 doonsubscribe new consumer subscription override public void accept subscription s count incrementandget take 1 doonsubscribe new consumer subscription override public void accept subscription s count incrementandget f subscribe assertequals 2 count get 
final atomicinteger onsubscribed new atomicinteger final atomicinteger countbefore new atomicinteger final atomicinteger countafter new atomicinteger final atomicreference subscriber super integer sref new atomicreference flowable integer f flowable unsafecreate new publisher integer override public void subscribe subscriber super integer s s onsubscribe new booleansubscription onsubscribed incrementandget sref set s doonsubscribe new consumer subscription override public void accept subscription s countbefore incrementandget publish refcount doonsubscribe new consumer subscription override public void accept subscription s countafter incrementandget f subscribe f subscribe f subscribe assertequals 1 countbefore get assertequals 1 onsubscribed get assertequals 3 countafter get sref get oncomplete f subscribe f subscribe f subscribe assertequals 2 countbefore get assertequals 2 onsubscribed get assertequals 6 countafter get 
flowable string w flowable fromiterable arrays aslist one two three flowable string take w take 2 subscriber string subscriber testhelper mocksubscriber take subscribe subscriber verify subscriber times 1 onnext one verify subscriber times 1 onnext two verify subscriber never onnext three verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
flowable string w flowable fromiterable arrays aslist one two three flowable string take w take 1 subscriber string subscriber testhelper mocksubscriber take subscribe subscriber verify subscriber times 1 onnext one verify subscriber never onnext two verify subscriber never onnext three verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
flowable fromiterable arrays aslist 1 2 3 take 1 map new function integer integer override public integer apply integer t1 throw new some error blockingsingle 
flowable integer w flowable fromiterable arrays aslist 1 2 3 take 2 map new function integer integer override public integer apply integer t1 throw new some error subscriber integer subscriber testhelper mocksubscriber w subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onerror any class inorder 
flowable integer w flowable fromiterable arrays aslist 1 2 3 take 1 map new function integer integer override public integer apply integer t1 throw new some error subscriber integer subscriber testhelper mocksubscriber w subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onerror any class inorder 
list throwable errors testhelper trackpluginerrors try flowable string source flowable unsafecreate new publisher string override public void subscribe subscriber super string subscriber subscriber onsubscribe new booleansubscription subscriber onnext one subscriber onerror new throwable test failed subscriber string subscriber testhelper mocksubscriber source take 1 subscribe subscriber verify subscriber onsubscribe subscription notnull verify subscriber times 1 onnext one verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete subscriber testhelper assertundeliverable errors 0 throwable class test failed finally rxjavaplugins reset 
subscriber onsubscribe new booleansubscription subscriber onnext one subscriber onerror new throwable test failed 
flowable error new testexception take 1 test assertnovalues asserterror testexception class 
testsubscriber integer ts flowable just 1 2 3 take 3 test 0 ts requestmore 1 assertvalues 1 assertnotcomplete requestmore long max value assertvalues 1 2 3 
testflowablefunc f new testflowablefunc one two three flowable string w flowable unsafecreate f subscriber string subscriber testhelper mocksubscriber flowable string take w take 1 take subscribe subscriber try f t join catch throwable e e printstacktrace fail e getmessage system out println testflowable thread finished verify subscriber onsubscribe subscription notnull verify subscriber times 1 onnext one verify subscriber never onnext two verify subscriber never onnext three verify subscriber times 1 oncomplete subscriber 
final atomiclong count new atomiclong infinite observable take 10 subscribe new consumer long override public void accept long l count set l assertequals 10 count get 
final atomicinteger count new atomicinteger flowable unsafecreate new publisher integer override public void subscribe subscriber super integer s booleansubscription bs new booleansubscription s onsubscribe bs for int i 0 bs iscancelled i system out println emit i count incrementandget s onnext i take 100 take 1 blockingforeach new consumer integer override public void accept integer t1 system out println receive t1 assertequals 1 count get 
subscriber object subscriber testhelper mocksubscriber testsubscriber object ts new testsubscriber subscriber infinite observable onbackpressuredrop observeon schedulers newthread take 1 subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors verify subscriber onnext 1l verify subscriber never onnext 2l verify subscriber oncomplete verify subscriber never onerror any throwable class 
testsubscriber integer ts new testsubscriber 3 final atomiclong requested new atomiclong flowable unsafecreate new publisher integer override public void subscribe subscriber super integer s s onsubscribe new subscription override public void request long n requested set n override public void cancel take 3 subscribe ts assertequals 3 requested get 
testsubscriber integer ts new testsubscriber 3 final atomiclong requested new atomiclong flowable unsafecreate new publisher integer override public void subscribe subscriber super integer s s onsubscribe new subscription override public void request long n requested set n override public void cancel take 1 subscribe ts assertequals 1 requested get 
final atomicreference object exception new atomicreference final countdownlatch latch new countdownlatch 1 flowable just 1 subscribeon schedulers computation take 1 subscribe new consumer integer override public void accept integer t1 try thread sleep 100 catch exception e exception set e e printstacktrace finally latch countdown latch await assertnull exception get 
final atomiclong requests new atomiclong testsubscriber long ts new testsubscriber 0l flowable interval 100 timeunit milliseconds doonrequest new longconsumer override public void accept long n system out println n requests addandget n take 2 subscribe ts thread sleep 50 ts request 1 ts request 1 ts request 1 ts awaitdone 5 timeunit seconds ts assertcomplete ts assertnoerrors assertequals 2 requests get 
flowable integer source flowable just 1 take 1 testsubscriber integer ts new testsubscriber integer override public void onnext integer t throw new testexception source safesubscribe ts ts assertnovalues ts asserterror testexception class ts assertnotcomplete 
final publishprocessor integer source publishprocessor create testsubscriber integer ts new testsubscriber source take 1 doonnext new consumer integer override public void accept integer v source onnext 2 subscribe ts source onnext 1 ts assertvalue 1 ts assertnoerrors ts assertcomplete 
try flowable just 1 take 99 fail should have thrown catch ex assertequals count 0 required but it was 99 ex getmessage 
flowable just 1 take 0 test assertresult 
testhelper checkdisposed publishprocessor create take 2 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f take 2 
testhelper flowable never take 1 
for int i 0 i testhelper race long loops i final testsubscriber integer ts flowable range 1 2 take 2 test 0l runnable r1 new runnable override public void run ts request 1 testhelper race r1 r1 ts assertresult 1 2 
list throwable errors testhelper trackpluginerrors try flowable error new testexception take 0 test assertresult testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
testhelper checkdisposed observable just 1 toflowable backpressurestrategy error 
testhelper observable just 1 toflowable backpressurestrategy error 
testhelper new function flowable object publisher object override public publisher object apply flowable object f throws exception return new f 
testhelper integer new function flowable integer object override public object apply flowable integer f throws exception return new f false 1 1 1 
publishsubject integer ps publishsubject create testsubscriber integer ts ps toflowable backpressurestrategy error test 0l asserttrue ps hasobservers ps onnext 1 assertfalse ps hasobservers ts assertfailure class 
flowable string w flowable just one two three flowable string flowable w filter new predicate string override public boolean test string t1 return t1 equals two subscriber string subscriber testhelper mocksubscriber flowable subscribe subscriber verify subscriber mockito never onnext one verify subscriber times 1 onnext two verify subscriber mockito never onnext three verify subscriber mockito never onerror any throwable class verify subscriber times 1 oncomplete 
flowable string w flowable just one two three flowable string f w filter new predicate string override public boolean test string t1 return t1 equals three final countdownlatch latch new countdownlatch 1 testsubscriber string ts new testsubscriber string override public void oncomplete system out println oncomplete latch countdown override public void onerror throwable e e printstacktrace latch countdown override public void onnext string t system out println received t request 1 ts request 2 f subscribe ts latch await 
flowable integer w flowable range 1 flowable buffersize 2 flowable integer f w filter new predicate integer override public boolean test integer t1 return t1 100 final countdownlatch latch new countdownlatch 1 final testsubscriber integer ts new testsubscriber integer override public void oncomplete system out println oncomplete latch countdown override public void onerror throwable e e printstacktrace latch countdown override public void onnext integer t system out println received t request 1 ts request 1 f subscribe ts latch await 
publishprocessor integer pp publishprocessor create testsubscriber integer ts new testsubscriber pp filter new predicate integer override public boolean test integer v throw new testexception subscribe ts assert asserttrue not subscribed pp hassubscribers pp onnext 1 assert assertfalse subscribed pp hassubscribers ts asserterror testexception class 
testsubscriber integer ts testsubscriber create 0l flowable range 1 10 filter functions alwaystrue subscribe ts ts assertnovalues ts request 10 ts assertvalues 1 2 3 4 5 6 7 8 9 10 ts assertnoerrors ts assertcomplete 
flowable range 1 5 filter functions alwaystrue filter functions alwaystrue test assertresult 1 2 3 4 5 
flowable range 1 5 filter functions alwaystrue filter functions alwaysfalse test assertresult 
flowable range 1 5 filter functions alwaysfalse filter functions alwaysfalse test assertresult 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable range 1 5 filter functions alwaystrue filter functions alwaystrue subscribe ts ts assertfuseable assertfusionmode queuefuseable sync assertresult 1 2 3 4 5 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable range 1 5 filter functions alwaysfalse filter functions alwaysfalse subscribe ts ts assertfuseable assertfusionmode queuefuseable sync assertresult 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any unicastprocessor integer up unicastprocessor create up filter functions alwaystrue filter functions alwaystrue subscribe ts up onnext 1 up onnext 2 up onnext 3 up onnext 4 up onnext 5 up oncomplete ts assertfuseable assertfusionmode queuefuseable async assertresult 1 2 3 4 5 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any unicastprocessor integer up unicastprocessor create up filter functions alwaystrue filter functions alwaysfalse subscribe ts up onnext 1 up onnext 2 up onnext 3 up onnext 4 up onnext 5 up oncomplete ts assertfuseable assertfusionmode queuefuseable async assertresult 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any unicastprocessor integer up unicastprocessor create up filter functions alwaysfalse filter functions alwaysfalse subscribe ts up onnext 1 up onnext 2 up onnext 3 up onnext 4 up onnext 5 up oncomplete ts assertfuseable assertfusionmode queuefuseable async assertresult 
list throwable errors testhelper trackpluginerrors try flowable frompublisher new publisher integer override public void subscribe subscriber super integer s super integer cs super integer s cs onsubscribe new booleansubscription cs tryonnext 1 cs tryonnext 2 cs onerror new ioexception cs oncomplete filter new predicate integer override public boolean test integer v throws exception return true filter new predicate integer override public boolean test integer v throws exception throw new testexception test assertfailure testexception class testhelper assertundeliverable errors 0 ioexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try flowable frompublisher new publisher integer override public void subscribe subscriber super integer s s onsubscribe new booleansubscription s onnext 1 s onnext 2 s onerror new ioexception s oncomplete map new function integer integer override public integer apply integer v throws exception throw new testexception filter new predicate integer override public boolean test integer v throws exception return true test assertfailure testexception class testhelper assertundeliverable errors 0 ioexception class finally rxjavaplugins reset 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable range 1 5 filter functions alwaystrue subscribe ts ts assertfuseable assertfusionmode queuefuseable sync assertresult 1 2 3 4 5 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable range 1 5 filter functions alwaysfalse subscribe ts ts assertfuseable assertfusionmode queuefuseable sync assertresult 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable range 1 5 filter functions alwaysfalse filter functions alwaysfalse subscribe ts ts assertfuseable assertfusionmode queuefuseable sync assertresult 
list throwable errors testhelper trackpluginerrors try flowable frompublisher new publisher integer override public void subscribe subscriber super integer s s onsubscribe new booleansubscription s onnext 1 s onnext 2 s onerror new ioexception s oncomplete filter new predicate integer override public boolean test integer v throws exception throw new testexception test assertfailure testexception class testhelper assertundeliverable errors 0 ioexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try flowable frompublisher new publisher integer override public void subscribe subscriber super integer s s onsubscribe new booleansubscription s onnext 1 s onnext 2 s onerror new ioexception s oncomplete filter new predicate integer override public boolean test integer v throws exception throw new testexception filter functions alwaystrue test assertfailure testexception class testhelper assertundeliverable errors 0 ioexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try flowable frompublisher new publisher integer override public void subscribe subscriber super integer s super integer cs super integer s cs onsubscribe new booleansubscription cs tryonnext 1 cs tryonnext 2 cs onerror new ioexception cs oncomplete filter new predicate integer override public boolean test integer v throws exception throw new testexception filter functions alwaystrue test assertfailure testexception class testhelper assertundeliverable errors 0 ioexception class finally rxjavaplugins reset 
testhelper checkdisposed flowable range 1 5 filter functions alwaystrue 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f filter functions alwaystrue 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable range 1 5 filter new predicate integer override public boolean test integer v throws exception return v 2 0 subscribe ts ts assertfusionmode queuefuseable sync assertresult 2 4 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any unicastprocessor integer up unicastprocessor create up filter new predicate integer override public boolean test integer v throws exception return v 2 0 subscribe ts testhelper emit up 1 2 3 4 5 ts assertfusionmode queuefuseable async assertresult 2 4 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any queuefuseable boundary flowable range 1 5 filter new predicate integer override public boolean test integer v throws exception return v 2 0 subscribe ts ts assertfusionmode queuefuseable none assertresult 2 4 
flowable range 1 5 filter new predicate integer override public boolean test integer v throws exception throw new testexception test assertfailure testexception class 
flowable just 1 startwith completable complete test assertresult 1 
flowable empty startwith completable complete test assertresult 
runnable run mock runnable class flowable fromrunnable run startwith completable error new testexception test assertfailure testexception class verify run never run 
flowable just 1 startwith single just 2 test assertresult 2 1 
runnable run mock runnable class flowable fromrunnable run startwith single just 2 test assertresult 2 verify run run 
runnable run mock runnable class flowable fromrunnable run startwith single error new testexception test assertfailure testexception class verify run never run 
flowable just 1 startwith maybe just 2 test assertresult 2 1 
runnable run mock runnable class flowable fromrunnable run startwith maybe just 2 test assertresult 2 verify run run 
runnable run mock runnable class flowable fromrunnable run startwith maybe error new testexception test assertfailure testexception class verify run never run 
flowable just 1 startwith flowable just 2 3 4 5 test assertresult 2 3 4 5 1 
runnable run mock runnable class flowable fromrunnable run startwith flowable just 2 3 4 5 test assertresult 2 3 4 5 verify run run 
runnable run mock runnable class runnable run2 mock runnable class flowable fromrunnable run startwith flowable fromrunnable run2 test assertresult verify run run verify run2 run 
runnable run mock runnable class flowable fromrunnable run startwith flowable error new testexception test assertfailure testexception class verify run never run 
underlyingsubject publishprocessor create testscheduler new testscheduler withtimeout underlyingsubject timeout timeout time unit testscheduler 
subscriber string subscriber testhelper mocksubscriber testsubscriber string ts new testsubscriber subscriber withtimeout subscribe ts testscheduler advancetimeby 2 timeunit seconds underlyingsubject onnext one verify subscriber onnext one testscheduler advancetimeby 2 timeunit seconds verify subscriber never onerror any throwable class ts cancel 
subscriber string subscriber testhelper mocksubscriber testsubscriber string ts new testsubscriber subscriber withtimeout subscribe ts testscheduler advancetimeby 2 timeunit seconds underlyingsubject onnext one testscheduler advancetimeby 2 timeunit seconds underlyingsubject onnext two verify subscriber onnext two testscheduler advancetimeby 2 timeunit seconds verify subscriber never onerror any throwable class ts cancel 
testsubscriberex string subscriber new testsubscriberex withtimeout subscribe subscriber testscheduler advancetimeby timeout 1 timeunit seconds subscriber timeoutexception class timeoutmessage timeout time unit 
testsubscriberex string subscriber new testsubscriberex testsubscriber string ts new testsubscriber subscriber withtimeout subscribe subscriber testscheduler advancetimeby 2 timeunit seconds underlyingsubject onnext one subscriber assertvalue one testscheduler advancetimeby timeout 1 timeunit seconds subscriber timeoutexception class timeoutmessage timeout time unit one ts cancel 
subscriber string subscriber testhelper mocksubscriber testsubscriber string ts new testsubscriber subscriber withtimeout subscribe subscriber testscheduler advancetimeby 2 timeunit seconds underlyingsubject oncomplete testscheduler advancetimeby 2 timeunit seconds verify subscriber oncomplete verify subscriber never onerror any throwable class ts cancel 
subscriber string subscriber testhelper mocksubscriber testsubscriber string ts new testsubscriber subscriber withtimeout subscribe subscriber testscheduler advancetimeby 2 timeunit seconds underlyingsubject onerror new testscheduler advancetimeby 2 timeunit seconds verify subscriber onerror any class ts cancel 
flowable string other flowable just a b c flowable string source underlyingsubject timeout timeout time unit testscheduler other subscriber string subscriber testhelper mocksubscriber testsubscriber string ts new testsubscriber subscriber source subscribe ts testscheduler advancetimeby 2 timeunit seconds underlyingsubject onnext one testscheduler advancetimeby 4 timeunit seconds underlyingsubject onnext two inorder inorder inorder subscriber inorder verify subscriber times 1 onnext one inorder verify subscriber times 1 onnext a inorder verify subscriber times 1 onnext b inorder verify subscriber times 1 onnext c inorder verify subscriber times 1 oncomplete inorder ts cancel 
flowable string other flowable just a b c flowable string source underlyingsubject timeout timeout time unit testscheduler other subscriber string subscriber testhelper mocksubscriber testsubscriber string ts new testsubscriber subscriber source subscribe ts testscheduler advancetimeby 2 timeunit seconds underlyingsubject onnext one testscheduler advancetimeby 4 timeunit seconds underlyingsubject onerror new inorder inorder inorder subscriber inorder verify subscriber times 1 onnext one inorder verify subscriber times 1 onnext a inorder verify subscriber times 1 onnext b inorder verify subscriber times 1 onnext c inorder verify subscriber times 1 oncomplete inorder ts cancel 
flowable string other flowable just a b c flowable string source underlyingsubject timeout timeout time unit testscheduler other subscriber string subscriber testhelper mocksubscriber testsubscriber string ts new testsubscriber subscriber source subscribe ts testscheduler advancetimeby 2 timeunit seconds underlyingsubject onnext one testscheduler advancetimeby 4 timeunit seconds underlyingsubject oncomplete inorder inorder inorder subscriber inorder verify subscriber times 1 onnext one inorder verify subscriber times 1 onnext a inorder verify subscriber times 1 onnext b inorder verify subscriber times 1 onnext c inorder verify subscriber times 1 oncomplete inorder ts cancel 
publishprocessor string other publishprocessor create flowable string source underlyingsubject timeout timeout time unit testscheduler other subscriber string subscriber testhelper mocksubscriber testsubscriber string ts new testsubscriber subscriber source subscribe ts testscheduler advancetimeby 2 timeunit seconds underlyingsubject onnext one testscheduler advancetimeby 4 timeunit seconds underlyingsubject onnext two other onnext a other onnext b ts cancel other onnext c other onnext d other oncomplete inorder inorder inorder subscriber inorder verify subscriber times 1 onnext one inorder verify subscriber times 1 onnext a inorder verify subscriber times 1 onnext b inorder 
final countdownlatch exit new countdownlatch 1 final countdownlatch timeoutsetuped new countdownlatch 1 final testsubscriberex string subscriber new testsubscriberex new thread new runnable override public void run flowable unsafecreate new publisher string override public void subscribe subscriber super string subscriber subscriber onsubscribe new booleansubscription try timeoutsetuped countdown exit await catch interruptedexception e e printstacktrace subscriber onnext a subscriber oncomplete timeout 1 timeunit seconds testscheduler subscribe subscriber start timeoutsetuped await testscheduler advancetimeby 2 timeunit seconds subscriber timeoutexception class timeoutmessage 1 timeunit seconds exit countdown 
final subscription s mock subscription class flowable string never flowable unsafecreate new publisher string override public void subscribe subscriber super string subscriber subscriber onsubscribe s testscheduler testscheduler new testscheduler flowable string never timeout 1000 timeunit milliseconds testscheduler testsubscriberex string subscriber new testsubscriberex subscribe subscriber testscheduler advancetimeby 2000 timeunit milliseconds subscriber timeoutexception class timeoutmessage 1000 timeunit milliseconds verify s times 1 cancel 
final publishprocessor string processor publishprocessor create final testscheduler scheduler new testscheduler final testsubscriber string subscriber processor timeout 100 timeunit milliseconds scheduler test asserttrue processor hassubscribers subscriber cancel assertfalse processor hassubscribers 
flowable never timeout 100 timeunit milliseconds flowable just 1 test awaitdone 5 timeunit seconds assertresult 1 
testhelper checkdisposed publishprocessor create timeout 1 timeunit days testhelper checkdisposed publishprocessor create timeout 1 timeunit days flowable just 1 
flowable error new testexception timeout 1 timeunit days flowable just 1 test assertfailure testexception class 
flowable error new testexception timeout 1 timeunit days test assertfailure testexception class 
flowable empty timeout 1 timeunit days flowable just 1 test assertresult 
flowable empty timeout 1 timeunit days test assertresult 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onnext 1 subscriber oncomplete subscriber onnext 2 subscriber onerror new testexception subscriber oncomplete timeout 1 timeunit days test assertresult 1 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onnext 1 subscriber oncomplete subscriber onnext 2 subscriber onerror new testexception subscriber oncomplete timeout 1 timeunit days flowable just 3 test assertresult 1 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp timeout 1 timeunit days take 1 test asserttrue pp hassubscribers pp onnext 1 assertfalse pp hassubscribers ts assertresult 1 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp timeout 1 timeunit days flowable just 2 take 1 test asserttrue pp hassubscribers pp onnext 1 assertfalse pp hassubscribers ts assertresult 1 
flowable never timeout 1 timeunit milliseconds flowable error new testexception test awaitdone 5 timeunit seconds assertfailure testexception class 
for int i 0 i testhelper race default loops i final testscheduler sch new testscheduler final publishprocessor integer pp publishprocessor create testsubscriberex integer ts pp timeout 1 timeunit seconds sch to testhelper integer testconsumer runnable r1 new runnable override public void run pp onnext 1 runnable r2 new runnable override public void run sch advancetimeby 1 timeunit seconds testhelper race r1 r2 if ts values size 0 if ts errors size 0 ts assertfailure timeoutexception class 1 ts asserterrormessage timeoutmessage 1 timeunit seconds else ts assertvaluesonly 1 else ts assertfailure timeoutexception class ts asserterrormessage timeoutmessage 1 timeunit seconds 
for int i 0 i testhelper race default loops i final testscheduler sch new testscheduler final publishprocessor integer pp publishprocessor create testsubscriberex integer ts pp timeout 1 timeunit seconds sch flowable just 2 to testhelper integer testconsumer runnable r1 new runnable override public void run pp onnext 1 runnable r2 new runnable override public void run sch advancetimeby 1 timeunit seconds testhelper race r1 r2 if ts isterminated int c ts values size if c 1 int v ts values get 0 asserttrue v v 1 v 2 else ts assertresult 1 2 else ts assertvaluesonly 1 
testhelper f f timeout 1 timeunit minutes flowable object never 
flowable just 1 throttlelatest 1 timeunit minutes test assertresult 1 
flowable range 1 5 throttlelatest 1 timeunit minutes test assertresult 1 
flowable range 1 5 throttlelatest 1 timeunit minutes true test assertresult 1 5 
flowable error new testexception throttlelatest 1 timeunit minutes test assertfailure testexception class 
testhelper new function flowable object publisher object override public publisher object apply flowable object f throws exception return f throttlelatest 1 timeunit minutes 
testhelper flowable never throttlelatest 1 timeunit minutes 
testscheduler sch new testscheduler publishprocessor integer pp publishprocessor create testsubscriber integer ts pp throttlelatest 1 timeunit seconds sch test pp onnext 1 ts assertvaluesonly 1 pp onnext 2 ts assertvaluesonly 1 pp onnext 3 ts assertvaluesonly 1 sch advancetimeby 1 timeunit seconds ts assertvaluesonly 1 3 pp onnext 4 ts assertvaluesonly 1 3 pp onnext 5 sch advancetimeby 1 timeunit seconds ts assertvaluesonly 1 3 5 sch advancetimeby 1 timeunit seconds ts assertvaluesonly 1 3 5 pp onnext 6 ts assertvaluesonly 1 3 5 6 pp onnext 7 pp oncomplete ts assertresult 1 3 5 6 sch advancetimeby 1 timeunit seconds ts assertresult 1 3 5 6 
testscheduler sch new testscheduler publishprocessor integer pp publishprocessor create testsubscriber integer ts pp throttlelatest 1 timeunit seconds sch true test pp onnext 1 ts assertvaluesonly 1 pp onnext 2 ts assertvaluesonly 1 pp onnext 3 ts assertvaluesonly 1 sch advancetimeby 1 timeunit seconds ts assertvaluesonly 1 3 pp onnext 4 ts assertvaluesonly 1 3 pp onnext 5 sch advancetimeby 1 timeunit seconds ts assertvaluesonly 1 3 5 sch advancetimeby 1 timeunit seconds ts assertvaluesonly 1 3 5 pp onnext 6 ts assertvaluesonly 1 3 5 6 pp onnext 7 pp oncomplete ts assertresult 1 3 5 6 7 sch advancetimeby 1 timeunit seconds ts assertresult 1 3 5 6 7 
testscheduler sch new testscheduler action oncancel mock action class flowable just 1 2 dooncancel oncancel throttlelatest 1 timeunit minutes sch test 0 assertfailure class verify oncancel run 
testscheduler sch new testscheduler action oncancel mock action class testsubscriber integer ts flowable just 1 2 concatwith flowable integer never dooncancel oncancel throttlelatest 1 timeunit seconds sch true test 1 sch advancetimeby 1 timeunit seconds ts assertfailure class 1 verify oncancel run 
testscheduler sch new testscheduler action oncancel mock action class publishprocessor integer pp publishprocessor create testsubscriber integer ts pp dooncancel oncancel throttlelatest 1 timeunit seconds sch true test 1 pp onnext 1 pp onnext 2 ts assertvaluesonly 1 pp oncomplete ts assertfailure class 1 verify oncancel never run 
action oncancel mock action class flowable range 1 5 dooncancel oncancel throttlelatest 1 timeunit minutes take 1 test assertresult 1 verify oncancel run 
testscheduler sch new testscheduler final publishprocessor integer pp publishprocessor create testsubscriber integer ts new testsubscriber integer override public void onnext integer t super onnext t if t 1 pp onnext 2 if t 2 pp oncomplete pp throttlelatest 1 timeunit seconds sch subscribe ts pp onnext 1 sch advancetimeby 1 timeunit seconds ts assertresult 1 2 
publishprocessor integer source publishprocessor create publishprocessor integer boundary publishprocessor create final subscriber object subscriber testhelper mocksubscriber final list subscriber object values new arraylist subscriber flowable integer wo new defaultsubscriber flowable integer override public void onnext flowable integer args final subscriber object mo testhelper mocksubscriber values add mo args subscribe mo override public void onerror throwable e subscriber onerror e override public void oncomplete subscriber oncomplete source window boundary subscribe wo int n 30 for int i 0 i n i source onnext i if i 3 2 i n 1 boundary onnext i 3 source oncomplete verify subscriber never onerror any throwable class assertequals n 3 values size int j 0 for subscriber object mo values verify mo never onerror any throwable class for int i 0 i 3 i verify mo onnext j i verify mo oncomplete j 3 verify subscriber oncomplete 
publishprocessor integer source publishprocessor create publishprocessor integer boundary publishprocessor create final subscriber object subscriber testhelper mocksubscriber final list subscriber object values new arraylist subscriber flowable integer wo new defaultsubscriber flowable integer override public void onnext flowable integer args final subscriber object mo testhelper mocksubscriber values add mo args subscribe mo override public void onerror throwable e subscriber onerror e override public void oncomplete subscriber oncomplete source window boundary subscribe wo int n 30 for int i 0 i n i source onnext i if i 3 2 i n 1 boundary onnext i 3 boundary oncomplete assertequals n 3 values size int j 0 for subscriber object mo values for int i 0 i 3 i verify mo onnext j i verify mo oncomplete verify mo never onerror any throwable class j 3 verify subscriber oncomplete verify subscriber never onerror any throwable class 
publishprocessor integer source publishprocessor create publishprocessor integer boundary publishprocessor create final subscriber object subscriber testhelper mocksubscriber final list subscriber object values new arraylist subscriber flowable integer wo new defaultsubscriber flowable integer override public void onnext flowable integer args final subscriber object mo testhelper mocksubscriber values add mo args subscribe mo override public void onerror throwable e subscriber onerror e override public void oncomplete subscriber oncomplete source window boundary subscribe wo source onnext 0 source onnext 1 source onnext 2 boundary onerror new testexception assertequals 1 values size subscriber object mo values get 0 verify mo onnext 0 verify mo onnext 1 verify mo onnext 2 verify mo onerror any testexception class verify subscriber never oncomplete verify subscriber onerror any testexception class 
publishprocessor integer source publishprocessor create publishprocessor integer boundary publishprocessor create final subscriber object subscriber testhelper mocksubscriber final list subscriber object values new arraylist subscriber flowable integer wo new defaultsubscriber flowable integer override public void onnext flowable integer args final subscriber object mo testhelper mocksubscriber values add mo args subscribe mo override public void onerror throwable e subscriber onerror e override public void oncomplete subscriber oncomplete source window boundary subscribe wo source onnext 0 source onnext 1 source onnext 2 source onerror new testexception assertequals 1 values size subscriber object mo values get 0 verify mo onnext 0 verify mo onnext 1 verify mo onnext 2 verify mo onerror any testexception class verify subscriber never oncomplete verify subscriber onerror any testexception class 
testhelper checkdisposed flowable never window flowable never 
testsubscriberex object ts flowable error new testexception window flowable never flatmap functions flowable object identity true to testhelper object testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist ts errors get 0 testhelper asserterror errors 0 testexception class 
testhelper new function flowable integer object override public object apply flowable integer f throws exception return flowable just 1 window f flatmap new function flowable integer flowable integer override public flowable integer apply flowable integer v throws exception return v false 1 1 object null 
final flowableprocessor integer ps publishprocessor integer create testsubscriber integer ts new testsubscriber integer override public void onnext integer t super onnext t if t 1 ps onnext 2 ps oncomplete ps window behaviorprocessor createdefault 1 flatmap new function flowable integer flowable integer override public flowable integer apply flowable integer v throws exception return v subscribe ts ps onnext 1 ts awaitdone 1 timeunit seconds assertresult 1 2 
testhelper new function flowable object object override public object apply flowable object f throws exception return f window flowable never flatmap new function flowable object flowable object override public flowable object apply flowable object v throws exception return v false 1 1 1 
list throwable errors testhelper trackpluginerrors try behaviorprocessor create window flowable error new testexception test 0 assertfailure class testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try behaviorprocessor createdefault 1 window flowable error new testexception test 0 assertfailure class testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
behaviorprocessor createdefault 1 window flowable just 1 test 1 asserterror class assertnotcomplete 
testhelper new function flowable object publisher flowable object override public publisher flowable object apply flowable object f throws exception return f window flowable never takelast 1 
publishprocessor integer source publishprocessor create publishprocessor integer boundary publishprocessor create testsubscriber integer ts source window boundary take 1 flatmap new function flowable integer flowable integer override public flowable integer apply flowable integer w throws exception return w take 1 test source onnext 1 assertfalse source not disposed source hassubscribers assertfalse boundary not disposed boundary hassubscribers ts assertresult 1 
list throwable errors testhelper trackpluginerrors try final atomicreference subscriber super object ref new atomicreference testsubscriberex flowable object ts flowable error new testexception main window new flowable object override protected void subscribeactual subscriber super object subscriber subscriber onsubscribe new booleansubscription ref set subscriber doonnext new consumer flowable object override public void accept flowable object w throws throwable w subscribe functions emptyconsumer functions emptyconsumer to testhelper flowable object testconsumer ts assertvaluecount 1 asserterror testexception class asserterrormessage main assertnotcomplete ref get onerror new testexception inner testhelper assertundeliverable errors 0 testexception class inner finally rxjavaplugins reset 
final testexception ex new testexception for int i 0 i testhelper race long loops i list throwable errors testhelper trackpluginerrors try final atomicreference subscriber super object refmain new atomicreference final atomicreference subscriber super object ref new atomicreference testsubscriberex flowable object ts new flowable object override protected void subscribeactual subscriber super object subscriber subscriber onsubscribe new booleansubscription refmain set subscriber window new flowable object override protected void subscribeactual subscriber super object subscriber subscriber onsubscribe new booleansubscription ref set subscriber to testhelper flowable object testconsumer runnable r1 new runnable override public void run refmain get oncomplete runnable r2 new runnable override public void run ref get onerror ex testhelper race r1 r2 ts assertvaluecount 1 assertterminated if errors isempty testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
for int i 0 i testhelper race long loops i final atomicreference subscriber super object refmain new atomicreference final atomicreference subscriber super object ref new atomicreference testsubscriber flowable object ts new flowable object override protected void subscribeactual subscriber super object subscriber subscriber onsubscribe new booleansubscription refmain set subscriber window new flowable object override protected void subscribeactual subscriber super object subscriber subscriber onsubscribe new booleansubscription ref set subscriber test runnable r1 new runnable override public void run refmain get onnext 1 runnable r2 new runnable override public void run ref get onnext 1 testhelper race r1 r2 ts assertvaluecount 2 assertnotcomplete assertnoerrors 
final atomicreference subscriber super object refmain new atomicreference final atomicreference subscriber super object ref new atomicreference testsubscriberex flowable object ts new flowable object override protected void subscribeactual subscriber super object subscriber subscriber onsubscribe new booleansubscription refmain set subscriber window new flowable object override protected void subscribeactual subscriber super object subscriber subscriber onsubscribe new booleansubscription ref set subscriber to testhelper flowable object testconsumer ts assertvaluecount 1 assertnotterminated cancel ref get onnext 1 ts assertvaluecount 1 assertnotterminated 
for int i 0 i testhelper race long loops i final atomicreference subscriber super object refmain new atomicreference final atomicreference subscriber super object ref new atomicreference final testsubscriber flowable object ts new flowable object override protected void subscribeactual subscriber super object subscriber subscriber onsubscribe new booleansubscription refmain set subscriber window new flowable object override protected void subscribeactual subscriber super object subscriber final atomicinteger counter new atomicinteger subscriber onsubscribe new subscription override public void cancel for int i 0 i 100 i counter incrementandget override public void request long n ref set subscriber test runnable r1 new runnable override public void run ts cancel runnable r2 new runnable override public void run subscriber object subscriber ref get subscriber onnext 1 subscriber oncomplete testhelper race r1 r2 
final testexception ex new testexception for int i 0 i testhelper race long loops i final atomicreference subscriber super object refmain new atomicreference final atomicreference subscriber super object ref new atomicreference final testsubscriber flowable object ts new flowable object override protected void subscribeactual subscriber super object subscriber subscriber onsubscribe new booleansubscription refmain set subscriber window new flowable object override protected void subscribeactual subscriber super object subscriber final atomicinteger counter new atomicinteger subscriber onsubscribe new subscription override public void cancel for int i 0 i 100 i counter incrementandget override public void request long n ref set subscriber test runnable r1 new runnable override public void run ts cancel runnable r2 new runnable override public void run subscriber object subscriber ref get subscriber onnext 1 subscriber onerror ex testhelper race r1 r2 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp window flowable just 1 concatwith flowable integer never take 1 flatmap new function flowable integer publisher integer override public publisher integer apply flowable integer w throws throwable return w take 1 test asserttrue pp hassubscribers pp onnext 1 ts assertresult 1 assertfalse processor still has subscribers pp hassubscribers 
publishprocessor integer pp publishprocessor create final atomicreference flowable integer inner new atomicreference testsubscriber flowable integer ts pp window flowable integer never doonnext new consumer flowable integer override public void accept flowable integer v throws throwable inner set v test asserttrue pp hassubscribers ts assertvaluecount 1 pp onnext 1 asserttrue pp hassubscribers ts cancel ts assertvaluecount 1 assertnoerrors assertnotcomplete assertfalse processor still has subscribers pp hassubscribers inner get test assertresult 
return new function integer flowable t override public flowable t apply integer t1 return flowable 
mockitoannotations openmocks this 
publishprocessor integer source1 publishprocessor create publishprocessor integer source2 publishprocessor create flowable integer m source1 join source2 just flowable never just flowable never add m subscribe subscriber source1 onnext 1 source1 onnext 2 source1 onnext 4 source2 onnext 16 source2 onnext 32 source2 onnext 64 source1 oncomplete source2 oncomplete verify subscriber times 1 onnext 17 verify subscriber times 1 onnext 18 verify subscriber times 1 onnext 20 verify subscriber times 1 onnext 33 verify subscriber times 1 onnext 34 verify subscriber times 1 onnext 36 verify subscriber times 1 onnext 65 verify subscriber times 1 onnext 66 verify subscriber times 1 onnext 68 verify subscriber times 1 oncomplete verify subscriber never onerror any throwable class 
publishprocessor integer source1 publishprocessor create publishprocessor integer source2 publishprocessor create publishprocessor integer duration1 publishprocessor create flowable integer m source1 join source2 just duration1 just flowable never add m subscribe subscriber source1 onnext 1 source1 onnext 2 source2 onnext 16 duration1 onnext 1 source1 onnext 4 source1 onnext 8 source1 oncomplete source2 oncomplete verify subscriber times 1 onnext 17 verify subscriber times 1 onnext 18 verify subscriber times 1 onnext 20 verify subscriber times 1 onnext 24 verify subscriber times 1 oncomplete verify subscriber never onerror any throwable class 
publishprocessor integer source1 publishprocessor create publishprocessor integer source2 publishprocessor create flowable integer m source1 join source2 just flowable never just flowable never add m subscribe subscriber source1 onnext 1 source1 onnext 2 source1 oncomplete source2 onnext 16 source2 onnext 32 source2 onnext 64 source2 oncomplete verify subscriber times 1 onnext 17 verify subscriber times 1 onnext 18 verify subscriber times 1 onnext 33 verify subscriber times 1 onnext 34 verify subscriber times 1 onnext 65 verify subscriber times 1 onnext 66 verify subscriber times 1 oncomplete verify subscriber never onerror any throwable class 
publishprocessor integer source1 publishprocessor create publishprocessor integer source2 publishprocessor create flowable integer m source1 join source2 just flowable never just flowable never add m subscribe subscriber source2 onnext 1 source1 onerror new runtimeexception forced failure verify subscriber times 1 onerror any throwable class verify subscriber never oncomplete verify subscriber never onnext any 
publishprocessor integer source1 publishprocessor create publishprocessor integer source2 publishprocessor create flowable integer m source1 join source2 just flowable never just flowable never add m subscribe subscriber source1 onnext 1 source2 onerror new runtimeexception forced failure verify subscriber times 1 onerror any throwable class verify subscriber never oncomplete verify subscriber never onnext any 
publishprocessor integer source1 publishprocessor create publishprocessor integer source2 publishprocessor create flowable integer duration1 flowable integer error new runtimeexception forced failure flowable integer m source1 join source2 just duration1 just flowable never add m subscribe subscriber source1 onnext 1 verify subscriber times 1 onerror any throwable class verify subscriber never oncomplete verify subscriber never onnext any 
publishprocessor integer source1 publishprocessor create publishprocessor integer source2 publishprocessor create flowable integer duration1 flowable integer error new runtimeexception forced failure flowable integer m source1 join source2 just flowable never just duration1 add m subscribe subscriber source2 onnext 1 verify subscriber times 1 onerror any throwable class verify subscriber never oncomplete verify subscriber never onnext any 
publishprocessor integer source1 publishprocessor create publishprocessor integer source2 publishprocessor create function integer flowable integer fail new function integer flowable integer override public flowable integer apply integer t1 throw new runtimeexception forced failure flowable integer m source1 join source2 fail just flowable never add m subscribe subscriber source1 onnext 1 verify subscriber times 1 onerror any throwable class verify subscriber never oncomplete verify subscriber never onnext any 
publishprocessor integer source1 publishprocessor create publishprocessor integer source2 publishprocessor create function integer flowable integer fail new function integer flowable integer override public flowable integer apply integer t1 throw new runtimeexception forced failure flowable integer m source1 join source2 just flowable never fail add m subscribe subscriber source2 onnext 1 verify subscriber times 1 onerror any throwable class verify subscriber never oncomplete verify subscriber never onnext any 
publishprocessor integer source1 publishprocessor create publishprocessor integer source2 publishprocessor create bifunction integer integer integer fail new bifunction integer integer integer override public integer apply integer t1 integer t2 throw new runtimeexception forced failure flowable integer m source1 join source2 just flowable never just flowable never fail m subscribe subscriber source1 onnext 1 source2 onnext 2 verify subscriber times 1 onerror any throwable class verify subscriber never oncomplete verify subscriber never onnext any 
testhelper checkdisposed publishprocessor integer create join flowable just 1 functions justfunction flowable never functions justfunction flowable never new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b 
flowable just 1 join flowable just 2 functions justfunction flowable never functions justfunction flowable never new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b take 1 test assertresult 3 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp join flowable just 2 functions justfunction flowable never functions justfunction flowable empty new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b test assertempty pp onnext 1 ts assertempty 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp join flowable just 2 functions justfunction flowable never functions justfunction flowable never new bifunction integer integer integer override public integer apply integer a integer b throws exception throw new testexception test pp onnext 1 pp oncomplete ts assertfailure testexception class 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onerror new testexception first subscriber onerror new testexception second join flowable just 2 functions justfunction flowable never functions justfunction flowable never new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b to testhelper integer testconsumer testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try suppresswarnings rawtypes final subscriber o null testsubscriberex integer ts flowable just 1 join flowable just 2 functions justfunction flowable never functions justfunction new flowable integer override protected void subscribeactual subscriber super integer subscriber o 0 subscriber subscriber onsubscribe new booleansubscription subscriber onerror new testexception first new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b to testhelper integer testconsumer o 0 onerror new testexception second ts testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
publishprocessor integer pp1 publishprocessor create publishprocessor integer pp2 publishprocessor create testsubscriber object ts pp1 join pp2 functions justfunction flowable never functions justfunction flowable never new bifunction integer integer object override public object apply integer a integer b throws exception return a b test 0l pp1 onnext 1 pp2 onnext 2 ts assertfailure class 
publishprocessor integer pp1 publishprocessor create publishprocessor integer pp2 publishprocessor create testsubscriber object ts pp1 join pp2 functions justfunction flowable never functions justfunction flowable never new bifunction integer integer object override public object apply integer a integer b throws exception return a b test 0l pp2 onnext 2 pp1 onnext 1 ts assertfailure class 
publishprocessor integer pp1 publishprocessor create publishprocessor integer pp2 publishprocessor create testhelper pp1 join pp2 functions justfunction flowable never functions justfunction flowable never a b a b 
publishprocessor integer pp1 publishprocessor create publishprocessor integer pp2 publishprocessor create testsubscriber integer ts pp1 join pp2 v flowable never v flowable never a b a b doonnext v pp1 oncomplete pp2 onnext 2 pp2 oncomplete test pp1 onnext 0 pp2 onnext 1 ts assertcomplete 
subscriber string subscriber testhelper mocksubscriber flowable integer flowable flowable just 1 2 3 flowable string m flowable scan new bifunction string integer string override public string apply string s integer n return s n tostring m subscribe subscriber verify subscriber never onerror any throwable class verify subscriber times 1 onnext verify subscriber times 1 onnext 1 verify subscriber times 1 onnext 12 verify subscriber times 1 onnext 123 verify subscriber times 4 onnext anystring verify subscriber times 1 oncomplete verify subscriber never onerror any throwable class 
subscriber integer subscriber testhelper mocksubscriber flowable integer flowable flowable just 1 2 3 flowable integer m flowable scan new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 t2 m subscribe subscriber verify subscriber never onerror any throwable class verify subscriber never onnext 0 verify subscriber times 1 onnext 1 verify subscriber times 1 onnext 3 verify subscriber times 1 onnext 6 verify subscriber times 3 onnext anyint verify subscriber times 1 oncomplete verify subscriber never onerror any throwable class 
subscriber integer subscriber testhelper mocksubscriber flowable integer flowable flowable just 1 flowable integer m flowable scan new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 t2 m subscribe subscriber verify subscriber never onerror any throwable class verify subscriber never onnext 0 verify subscriber times 1 onnext 1 verify subscriber times 1 onnext anyint verify subscriber times 1 oncomplete verify subscriber never onerror any throwable class 
testsubscriber integer ts new testsubscriber flowable range 1 100 scan 0 new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 t2 filter new predicate integer override public boolean test integer t1 return t1 0 subscribe ts assertequals 100 ts values size 
final atomicinteger count new atomicinteger flowable range 1 100 scan 0 new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 t2 subscribe new defaultsubscriber integer override public void onstart request 10 override public void oncomplete override public void onerror throwable e assert fail e getmessage e printstacktrace override public void onnext integer t count incrementandget assertequals 10 count get 
final atomicinteger count new atomicinteger flowable range 1 100 scan new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 t2 subscribe new defaultsubscriber integer override public void onstart request 10 override public void oncomplete override public void onerror throwable e assert fail e getmessage e printstacktrace override public void onnext integer t count incrementandget assertequals 10 count get 
final atomicinteger count new atomicinteger flowable range 1 100 scan 0 new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 t2 subscribe new defaultsubscriber integer override public void oncomplete override public void onerror throwable e assert fail e getmessage e printstacktrace override public void onnext integer t count incrementandget assertequals 101 count get 
single list integer o flowable range 1 10 collect new supplier list integer override public list integer get return new arraylist new biconsumer list integer integer override public void accept list integer list integer t2 list add t2 assertequals arrays aslist 1 2 3 4 5 6 7 8 9 10 o blockingget assertequals arrays aslist 1 2 3 4 5 6 7 8 9 10 o blockingget 
flowable list integer f flowable range 1 10 collect new supplier list integer override public list integer get return new arraylist new biconsumer list integer integer override public void accept list integer list integer t2 list add t2 toflowable takelast 1 assertequals arrays aslist 1 2 3 4 5 6 7 8 9 10 f blockingsingle assertequals arrays aslist 1 2 3 4 5 6 7 8 9 10 f blockingsingle 
flowable integer f flowable just 1 2 scan 0 new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 t2 take 1 testsubscriberex integer subscriber new testsubscriberex f subscribe subscriber subscriber assertvalue 0 subscriber assertterminated subscriber assertnoerrors 
final atomicreference subscription producer new atomicreference flowable integer f flowable unsafecreate new publisher integer override public void subscribe final subscriber super integer subscriber subscription p spy new subscription private atomicboolean requested new atomicboolean false override public void request long n if requested compareandset false true subscriber onnext 1 subscriber oncomplete override public void cancel producer set p subscriber onsubscribe p scan 100 new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 t2 f subscribe new testsubscriber integer 1l override public void onnext integer integer request 1 verify producer get never request 0 verify producer get times 1 request flowable buffersize 1 
testhelper checkdisposed publishprocessor create scan new bifunction object object object override public object apply object a object b throws exception return a testhelper checkdisposed publishprocessor integer create scan 0 new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f scan new bifunction object object object override public object apply object a object b throws exception return a testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f scan 0 new bifunction object object object override public object apply object a object b throws exception return a 
flowable error new testexception scan new bifunction object object object override public object apply object a object b throws exception return a test assertfailure testexception class 
flowable integer never scan 0 new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b test assertvalue 0 assertnoerrors assertnotcomplete 
flowableeventstream geteventstream http clusterb 20 scan new hashmap new bifunction hashmap string string event hashmap string string override public hashmap string string apply hashmap string string accum event perinstanceevent accum put instance perinstanceevent instanceid return accum take 10 blockingforeach new consumer hashmap string string override public void accept hashmap string string v system out println v 
final list throwable list new copyonwritearraylist consumer throwable errorconsumer new consumer throwable override public void accept throwable t throws exception list add t try rxjavaplugins seterrorhandler errorconsumer final runtimeexception e new runtimeexception final runtimeexception e2 new runtimeexception burst items 1 error e2 scan 0 throwingbifunction e test assertvalues 0 asserterror e assertequals list 1 list size asserttrue list list get 0 instanceof assertequals e2 list get 0 getcause finally rxjavaplugins reset 
final runtimeexception e new runtimeexception burst item 1 create scan 0 throwingbifunction e test assertvalue 0 asserterror e 
final runtimeexception e new runtimeexception final atomicinteger count new atomicinteger burst items 1 2 create scan 0 new bifunction integer integer integer override public integer apply integer n1 integer n2 throws exception count incrementandget throw e test assertvalues 0 asserterror e assertequals 1 count get 
flowable just 1 2 3 scan 0 sum test assertvalues 0 1 3 6 assertcomplete 
final runtimeexception e new runtimeexception flowable just 1 2 3 scanwith throwingsupplier e sum test asserterror e assertnovalues 
flowable just 1 2 3 scan sum test assertvalues 1 3 6 assertcomplete 
final list throwable list new copyonwritearraylist consumer throwable errorconsumer new consumer throwable override public void accept throwable t throws exception list add t try rxjavaplugins seterrorhandler errorconsumer final runtimeexception e new runtimeexception final runtimeexception e2 new runtimeexception burst items 1 2 error e2 scan throwingbifunction e test assertvalue 1 asserterror e assertequals list 1 list size asserttrue list list get 0 instanceof assertequals e2 list get 0 getcause finally rxjavaplugins reset 
final runtimeexception e new runtimeexception burst items 1 2 create scan throwingbifunction e test assertvalue 1 asserterror e 
final runtimeexception e new runtimeexception final atomicinteger count new atomicinteger burst items 1 2 3 create scan new bifunction integer integer integer override public integer apply integer n1 integer n2 throws exception count incrementandget throw e test assertvalue 1 asserterror e assertequals 1 count get 
return new bifunction integer integer integer override public integer apply integer n1 integer n2 throws exception throw e 
return new supplier integer override public integer get throws exception throw e 
flowable integer empty scan 0 sum test 1 assertresult 0 
flowable integer error new testexception scan 0 sum test 0 assertfailure testexception class 
testsubscriber integer ts new testsubscriber integer override public void onnext integer t super onnext t oncomplete cancel flowable range 1 10 scan 0 sum subscribe ts ts assertresult 0 
int n 2 flowable buffersize for int b 1 b n b 2 list integer list flowable range 1 n scan 0 new bifunction integer integer integer override public integer apply integer a integer b throws exception return b rebatchrequests b tolist blockingget for int i 0 i n i assertequals i list get i intvalue 
testhelper flowable integer never scanwith 1 a b a b 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp scanwith 0 a b a b doonnext v if v 1 pp onnext 2 pp oncomplete test pp onnext 1 ts assertresult 0 1 3 
flowable notification integer notifications flowable just 1 2 materialize flowable integer dematerialize notifications dematerialize functions notification integer identity subscriber integer subscriber testhelper mocksubscriber dematerialize subscribe subscriber verify subscriber times 1 onnext 1 verify subscriber times 1 onnext 2 verify subscriber times 1 oncomplete verify subscriber never onerror any throwable class 
flowable just 1 2 materialize dematerialize new function notification integer notification object override public notification object apply notification integer v throws exception throw new testexception test assertfailure testexception class 
flowable just 1 2 materialize dematerialize new function notification integer notification object override public notification object apply notification integer v throws exception return null test assertfailure nullpointerexception class 
flowable notification integer notifications flowable just 1 2 materialize flowable integer dematerialize notifications dematerialize functions notification integer identity subscriber integer subscriber testhelper mocksubscriber dematerialize subscribe subscriber verify subscriber times 1 onnext 1 verify subscriber times 1 onnext 2 verify subscriber times 1 oncomplete verify subscriber never onerror any throwable class 
throwable exception new throwable test flowable integer flowable flowable error exception flowable integer dematerialize flowable materialize dematerialize functions notification integer identity subscriber integer subscriber testhelper mocksubscriber dematerialize subscribe subscriber verify subscriber times 1 onerror exception verify subscriber times 0 oncomplete verify subscriber times 0 onnext any integer class 
exception exception new exception test flowable integer flowable flowable error exception flowable integer dematerialize flowable materialize dematerialize functions notification integer identity subscriber integer subscriber testhelper mocksubscriber dematerialize subscribe subscriber verify subscriber times 1 onerror exception verify subscriber times 0 oncomplete verify subscriber times 0 onnext any integer class 
exception exception new exception test flowable notification integer flowable flowable error exception flowable integer dematerialize flowable dematerialize functions notification integer identity subscriber integer subscriber testhelper mocksubscriber dematerialize subscribe subscriber verify subscriber times 1 onerror exception verify subscriber times 0 oncomplete verify subscriber times 0 onnext any integer class 
flowable notification integer flowable flowable empty flowable integer dematerialize flowable dematerialize functions notification integer identity subscriber integer subscriber testhelper mocksubscriber testsubscriberex integer ts new testsubscriberex subscriber dematerialize subscribe ts system out println ts errors verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete verify subscriber times 0 onnext any integer class 
flowable integer source flowable just 1 flowable integer result source materialize dematerialize functions notification integer identity subscriber integer subscriber testhelper mocksubscriber result subscribe subscriber verify subscriber onnext 1 verify subscriber oncomplete verify subscriber never onerror any throwable class 
flowable integer source flowable error new testexception flowable integer result source materialize dematerialize functions notification integer identity subscriber integer subscriber testhelper mocksubscriber result subscribe subscriber verify subscriber never onnext any integer class verify subscriber never oncomplete verify subscriber onerror any testexception class 
testhelper checkdisposed flowable just notification createoncomplete dematerialize functions notification object identity 
testhelper new function flowable notification object flowable object override public flowable object apply flowable notification object f throws exception return f dematerialize functions notification object identity 
list throwable errors testhelper trackpluginerrors try new flowable notification object override protected void subscribeactual subscriber super notification object subscriber subscriber onsubscribe new booleansubscription subscriber onnext notification createoncomplete subscriber onnext notification object createonnext 1 subscriber onnext notification createonerror new testexception first subscriber onerror new testexception second dematerialize functions notification object identity test assertresult testhelper assertundeliverable errors 0 testexception class first testhelper assertundeliverable errors 1 testexception class second finally rxjavaplugins reset 
new flowable notification object override protected void subscribeactual subscriber super notification object subscriber subscriber onsubscribe new booleansubscription subscriber onnext notification createoncomplete subscriber onnext notification object createonnext 1 dematerialize functions notification object identity test assertresult 
new flowable object override protected void subscribeactual subscriber super object subscriber subscriber onsubscribe new booleansubscription subscriber onnext notification createoncomplete subscriber onnext 1 dematerialize v notification object v test assertresult 
testsubscriberex integer ts new testsubscriberex flowable range 1 5 onbackpressurereduce test int reducer subscribe ts ts assertnoerrors ts assertterminated ts assertvalues 1 2 3 4 5 
testsubscriberex integer ts new testsubscriberex flowable range 1 5 concatwith flowable error new testexception onbackpressurereduce test int reducer subscribe ts ts assertterminated ts asserterror testexception class ts assertvalues 1 2 3 4 5 
testsubscriber integer ts new testsubscriber 2l flowable range 1 5 onbackpressurereduce test int reducer subscribe ts ts assertnoerrors ts assertvalues 1 2 ts assertnotcomplete 
publishprocessor integer source publishprocessor create testsubscriberex integer ts new testsubscriberex 0l source onbackpressurereduce test int reducer subscribe ts ts assertnovalues source onnext 1 ts request 2 ts assertvalue 1 source onnext 2 ts assertvalues 1 2 source onnext 3 source onnext 4 source onnext 5 source onnext 6 ts request 2 ts assertvalues 1 2 168 source onnext 7 ts assertvalues 1 2 168 7 source onnext 8 source onnext 9 source oncomplete ts request 1 ts assertvalues 1 2 168 7 67 ts assertnoerrors ts assertterminated 
publishprocessor integer source publishprocessor create testsubscriberex integer ts new testsubscriberex 0l source onbackpressurereduce integer sum subscribe ts source onnext 1 source onnext 2 source onnext 3 ts request 1 ts assertvaluesonly 6 source onnext 4 source oncomplete ts assertvaluesonly 6 ts request 1 ts assertresult 6 4 
return new testsubscriberex t 1l final random rnd new random override public void onnext t t super onnext t if rnd nextdouble 0 001 try thread sleep 1 catch interruptedexception ex ex printstacktrace request 1 
int previous 0 for integer current ts values assert asserttrue the sequence must be increasing current value previous previous value current previous current previous current 
testsubscriberex integer ts int m flowable range 1 m subscribeon schedulers computation onbackpressurereduce previous current return current observeon schedulers io subscribe ts ts awaitdone 2 timeunit seconds ts assertterminated assertvaluesdropped ts m ts 
testsubscriberex long ts int m flowable rangelong 1 m subscribeon schedulers computation onbackpressurereduce long sum observeon schedulers io subscribe ts ts awaitdone 2 timeunit seconds ts assertterminated assertvaluesdropped ts m long sum 0 for long i ts values sum i assert assertequals wrong sum sum sum 
publishprocessor integer source publishprocessor create testsubscriberex integer ts new testsubscriberex 0 source onbackpressurereduce l r null subscribe ts source onnext 1 source onnext 2 testhelper asserterror ts errors 0 nullpointerexception class the reducer returned a null value 
publishprocessor integer source publishprocessor create testsubscriberex integer ts new testsubscriberex 0 source onbackpressurereduce l r throw new testexception test exception subscribe ts source onnext 1 source onnext 2 testhelper asserterror ts errors 0 testexception class test exception 
testhelper f f onbackpressurereduce test object reducer 
flowable just 1 2 onbackpressurereduce test int reducer take 1 test assertresult 1 
testhelper checkdisposed flowable never onbackpressurereduce test object reducer 
testhelper flowable never onbackpressurereduce test object reducer 
flowable string obs flowable just one future string f obs tofuture assertequals one f get 
flowable string obs flowable just one two three future list string f obs tolist tofuture assertequals one f get get 0 assertequals two f get get 1 assertequals three f get get 2 
flowable string obs flowable just one two future string f obs tofuture try f get fail should have thrown catch executionexception e throw e getcause 
flowable string obs flowable unsafecreate new publisher string override public void subscribe subscriber super string subscriber subscriber onsubscribe new booleansubscription subscriber onnext one subscriber onerror new testexception future string f obs tofuture try f get fail expected exception catch throwable e assertequals testexception class e getcause getclass 
flowable string obs flowable never future string f obs tofuture boolean cancelled f cancel true asserttrue cancelled f get 
flowable string obs flowable never future string f obs tofuture boolean cancelled f cancel true asserttrue cancelled f get long max value timeunit nanoseconds 
flowable string obs flowable empty future string f obs tofuture try f get catch executionexception e throw e getcause 
performtestusing false 
performtestusing true 
false 
true 
$EMPTY$
false 
true 
false 
true 
final list string events new arraylist supplier resource resourcefactory events final action completion events final action unsub createunsubaction events function resource flowable string observablefactory new function resource flowable string override public flowable string apply resource resource return flowable fromarray resource gettextfromweb split subscriber string subscriber testhelper mocksubscriber flowable string flowable flowable using resourcefactory observablefactory new disposeaction true dooncancel unsub dooncomplete completion flowable safesubscribe subscriber assertequals arrays aslist disposed completed events 
final list string events new arraylist supplier resource resourcefactory events final action completion events final action unsub createunsubaction events function resource flowable string observablefactory new function resource flowable string override public flowable string apply resource resource return flowable fromarray resource gettextfromweb split subscriber string subscriber testhelper mocksubscriber flowable string flowable flowable using resourcefactory observablefactory new disposeaction false dooncancel unsub dooncomplete completion flowable safesubscribe subscriber assertequals arrays aslist completed disposed events 
final list string events new arraylist supplier resource resourcefactory events final consumer throwable onerror createonerroraction events final action unsub createunsubaction events function resource flowable string observablefactory new function resource flowable string override public flowable string apply resource resource return flowable fromarray resource gettextfromweb split concatwith flowable string error new runtimeexception subscriber string subscriber testhelper mocksubscriber flowable string flowable flowable using resourcefactory observablefactory new disposeaction true dooncancel unsub doonerror onerror flowable safesubscribe subscriber assertequals arrays aslist disposed error events 
final list string events new arraylist final supplier resource resourcefactory events final consumer throwable onerror createonerroraction events final action unsub createunsubaction events function resource flowable string observablefactory new function resource flowable string override public flowable string apply resource resource return flowable fromarray resource gettextfromweb split concatwith flowable string error new runtimeexception subscriber string subscriber testhelper mocksubscriber flowable string flowable flowable using resourcefactory observablefactory new disposeaction false dooncancel unsub doonerror onerror flowable safesubscribe subscriber assertequals arrays aslist error disposed events 
return new action override public void run events add unsub 
return new consumer throwable override public void accept throwable t events add error 
return new supplier resource override public resource get return new resource override public string gettextfromweb return hello world override public void dispose events add disposed 
return new action override public void run events add completed 
testsubscriber integer ts testsubscriber create final atomicinteger count new atomicinteger flowable integer integer using new supplier integer override public integer get return 1 new function integer flowable integer override public flowable integer apply integer v throw new testexception forced failure new consumer integer override public void accept integer c count incrementandget subscribe ts ts asserterror testexception class assert assertequals 1 count get 
testsubscriber integer ts testsubscriber create final atomicinteger count new atomicinteger flowable integer integer using new supplier integer override public integer get return 1 new function integer flowable integer override public flowable integer apply integer v return flowable just v new consumer integer override public void accept integer c count incrementandget false subscribe ts ts assertvalue 1 ts assertnoerrors ts assertcomplete assert assertequals 1 count get 
testsubscriberex object ts flowable using new supplier object override public object get throws exception return 1 new function object flowable object override public flowable object apply object v throws exception throw new testexception first new consumer object override public void accept object e throws exception throw new testexception second to testhelper object testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist ts errors get 0 testhelper asserterror errors 0 testexception class first testhelper asserterror errors 1 testexception class second 
throw new testexception second 
testsubscriberex object ts flowable using new supplier object override public object get throws exception return 1 new function object flowable object override public flowable object apply object v throws exception return flowable error new testexception first new consumer object override public void accept object e throws exception throw new testexception second to testhelper object testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist ts errors get 0 testhelper asserterror errors 0 testexception class first testhelper asserterror errors 1 testexception class second 
flowable using new supplier object override public object get throws exception return 1 new function object flowable object override public flowable object apply object v throws exception return flowable empty new consumer object override public void accept object e throws exception throw new testexception second to testhelper object testconsumer testexception class second 
list throwable errors testhelper trackpluginerrors try flowable using new supplier object override public object get throws exception return 1 new function object flowable object override public flowable object apply object v throws exception return flowable empty new consumer object override public void accept object e throws exception throw new testexception second false test assertresult testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
flowable using functions justsupplier 1 functions justfunction publisher object null functions emptyconsumer to testhelper object testconsumer nullpointerexception class the sourcesupplier returned a null publisher 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return flowable using functions justsupplier 1 functions justfunction f functions emptyconsumer 
final testsubscriber integer ts new testsubscriber flowable using functions justsupplier 1 functions justfunction new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription ts cancel subscriber oncomplete functions emptyconsumer true subscribe ts 
final testsubscriber integer ts new testsubscriber flowable using functions justsupplier 1 functions justfunction new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription ts cancel subscriber onerror new testexception functions emptyconsumer true subscribe ts 
final stringbuilder sb new stringbuilder flowable using functions justsupplier 1 new function integer flowable integer override public flowable integer apply integer t throws throwable return flowable range 1 2 dooncancel new action override public void run throws throwable sb append cancel new consumer integer override public void accept integer t throws throwable sb append resource true take 1 test assertresult 1 assertequals resourcecancel sb tostring 
final stringbuilder sb new stringbuilder flowable using functions justsupplier 1 new function integer flowable integer override public flowable integer apply integer t throws throwable return flowable range 1 2 dooncancel new action override public void run throws throwable sb append cancel new consumer integer override public void accept integer t throws throwable sb append resource false take 1 test assertresult 1 assertequals cancelresource sb tostring 
stringsubscriber testhelper mocksubscriber stringsubscriber2 testhelper mocksubscriber 
map string string m1 getmap one map string string m2 getmap two flowable map string string flowable flowable just m1 m2 flowable string m flowable map new function map string string string override public string apply map string string map return map get firstname m subscribe stringsubscriber verify stringsubscriber never onerror any throwable class verify stringsubscriber times 1 onnext onefirst verify stringsubscriber times 1 onnext twofirst verify stringsubscriber times 1 oncomplete 
flowable integer ids flowable just 1 2 flowable string m ids flatmap new function integer flowable string override public flowable string apply integer id flowable map string string subflowable null if id 1 map string string m1 getmap one map string string m2 getmap two subflowable flowable just m1 m2 else map string string m3 getmap three map string string m4 getmap four subflowable flowable just m3 m4 return subflowable map new function map string string string override public string apply map string string map return map get firstname m subscribe stringsubscriber verify stringsubscriber never onerror any throwable class verify stringsubscriber times 1 onnext onefirst verify stringsubscriber times 1 onnext twofirst verify stringsubscriber times 1 onnext threefirst verify stringsubscriber times 1 onnext fourfirst verify stringsubscriber times 1 oncomplete 
map string string m1 getmap one map string string m2 getmap two flowable map string string flowable1 flowable just m1 m2 map string string m3 getmap three map string string m4 getmap four flowable map string string flowable2 flowable just m3 m4 flowable flowable map string string f flowable just flowable1 flowable2 flowable string m f flatmap new function flowable map string string flowable string override public flowable string apply flowable map string string f return f map new function map string string string override public string apply map string string map return map get firstname m subscribe stringsubscriber verify stringsubscriber never onerror any throwable class verify stringsubscriber times 1 onnext onefirst verify stringsubscriber times 1 onnext twofirst verify stringsubscriber times 1 onnext threefirst verify stringsubscriber times 1 onnext fourfirst verify stringsubscriber times 1 oncomplete 
final list throwable errors new arraylist flowable string w flowable just one fail two three fail flowable string m w map new function string string override public string apply string s if fail equals s throw new testexception forced failure return s doonerror new consumer throwable override public void accept throwable t1 errors add t1 m subscribe stringsubscriber verify stringsubscriber times 1 onnext one verify stringsubscriber never onnext two verify stringsubscriber never onnext three verify stringsubscriber never oncomplete verify stringsubscriber times 1 onerror any testexception class testhelper asserterror errors 0 testexception class forced failure 
flowable just 1 observeon schedulers computation map new function integer integer override public integer apply integer arg0 throw new any error blockingsingle 
flowable string m flowable just one observeon schedulers computation map new function string string override public string apply string arg0 throw new any error m blockinglast 
assertnull flowable range 1 0 lastelement map new function integer integer override public integer apply integer i return i blockingget 
flowable error new map new function object object override public object apply object i return i blockingsingle 
flowable range 1 1 lastelement map new function integer integer override public integer apply integer i return i 0 blockingget 
map string string m new hashmap m put firstname prefix first m put lastname prefix last return m 
publishprocessor integer pp publishprocessor create testsubscriber integer ts new testsubscriber pp map new function integer integer override public integer apply integer v throw new testexception subscribe ts assert asserttrue not subscribed pp hassubscribers pp onnext 1 assert assertfalse subscribed pp hassubscribers ts asserterror testexception class 
flowable range 1 2 map new function integer integer override public integer apply integer v throws exception return v 1 filter new predicate integer override public boolean test integer v throws exception return true test assertresult 2 3 
flowable range 1 2 map new function integer integer override public integer apply integer v throws exception throw new testexception filter new predicate integer override public boolean test integer v throws exception return true test assertfailure testexception class 
flowable range 1 2 hide map new function integer integer override public integer apply integer v throws exception return v 1 filter new predicate integer override public boolean test integer v throws exception return true test assertresult 2 3 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable range 1 2 map new function integer integer override public integer apply integer v throws exception return v 1 filter new predicate integer override public boolean test integer v throws exception return true subscribe ts ts assertfuseable assertfusionmode queuefuseable sync assertresult 2 3 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable range 1 2 hide map new function integer integer override public integer apply integer v throws exception return v 1 filter new predicate integer override public boolean test integer v throws exception return true subscribe ts ts assertfuseable assertfusionmode queuefuseable none assertresult 2 3 
list throwable errors testhelper trackpluginerrors try flowable frompublisher new publisher integer override public void subscribe subscriber super integer s s onsubscribe new booleansubscription s onnext 1 s onnext 2 s onerror new ioexception s oncomplete map new function integer object override public object apply integer v throws exception throw new testexception test assertfailure testexception class testhelper assertundeliverable errors 0 ioexception class finally rxjavaplugins reset 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable range 1 2 hide map new function integer integer override public integer apply integer v throws exception throw new testexception filter new predicate integer override public boolean test integer v throws exception return true subscribe ts ts assertfuseable assertfusionmode queuefuseable none assertfailure testexception class 
list throwable errors testhelper trackpluginerrors try flowable frompublisher new publisher integer override public void subscribe subscriber super integer s s onsubscribe new booleansubscription s onnext 1 s onnext 2 s onerror new ioexception s oncomplete map new function integer integer override public integer apply integer v throws exception throw new testexception filter new predicate integer override public boolean test integer v throws exception return true test assertfailure testexception class testhelper assertundeliverable errors 0 ioexception class finally rxjavaplugins reset 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any unicastprocessor integer up unicastprocessor create up map new function integer integer override public integer apply integer v throws exception return v 1 filter new predicate integer override public boolean test integer v throws exception return true subscribe ts up onnext 1 up onnext 2 up oncomplete ts assertfuseable assertfusionmode queuefuseable async assertresult 2 3 
list throwable errors testhelper trackpluginerrors try flowable frompublisher new publisher integer override public void subscribe subscriber super integer s super integer cs super integer s cs onsubscribe new booleansubscription cs tryonnext 1 cs tryonnext 2 cs onerror new ioexception cs oncomplete map new function integer integer override public integer apply integer v throws exception throw new testexception filter new predicate integer override public boolean test integer v throws exception return true test assertfailure testexception class testhelper assertundeliverable errors 0 ioexception class finally rxjavaplugins reset 
testhelper checkdisposed flowable range 1 5 map functions identity 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f map functions identity 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable range 1 5 map functions integer identity subscribe ts ts assertfusionmode queuefuseable sync assertresult 1 2 3 4 5 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any unicastprocessor integer up unicastprocessor create up map functions integer identity subscribe ts testhelper emit up 1 2 3 4 5 ts assertfusionmode queuefuseable async assertresult 1 2 3 4 5 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any queuefuseable boundary flowable range 1 5 map functions integer identity subscribe ts ts assertfusionmode queuefuseable none assertresult 1 2 3 4 5 
testhelper new function flowable object object override public object apply flowable object f throws exception return f map functions identity false 1 1 1 
testsubscriberex object ts new testsubscriberex setinitialfusionmode queuefuseable any flowable empty observeon instance filter v true map v v filter v true subscribe ts ts assertresult 
final atomicinteger atomicinteger new atomicinteger flowable fromcompletable completable fromaction new action override public void run throws exception atomicinteger incrementandget test assertresult assertequals 1 atomicinteger get 
final atomicinteger atomicinteger new atomicinteger action run new action override public void run throws exception atomicinteger incrementandget flowable fromcompletable completable fromaction run test assertresult assertequals 1 atomicinteger get flowable fromcompletable completable fromaction run test assertresult assertequals 2 atomicinteger get 
final atomicinteger atomicinteger new atomicinteger flowable object source flowable fromcompletable completable fromaction new action override public void run throws exception atomicinteger incrementandget assertequals 0 atomicinteger get source test assertresult assertequals 1 atomicinteger get 
flowable fromcompletable completable fromaction new action override public void run throws exception throw new test assertfailure class 
list throwable errors testhelper trackpluginerrors try final countdownlatch cdl1 new countdownlatch 1 final countdownlatch cdl2 new countdownlatch 1 testsubscriber object ts flowable fromcompletable completable fromaction new action override public void run throws exception cdl1 countdown cdl2 await 5 timeunit seconds subscribeon schedulers single test asserttrue cdl1 await 5 timeunit seconds ts cancel int timeout 10 while timeout 0 errors isempty thread sleep 100 testhelper assertundeliverable errors 0 interruptedexception class finally rxjavaplugins reset 
action run mock action class flowable fromcompletable completable fromaction run test 1l true assertempty verify run never run 
final testsubscriber object ts new testsubscriber flowable fromcompletable completable fromaction new action override public void run throws exception ts cancel subscribewith ts assertempty asserttrue ts iscancelled 
testsubscriberex object ts new testsubscriberex ts setinitialfusionmode queuefuseable async action action mock action class flowable fromcompletable completable fromaction action subscribe ts ts assertfusionmode queuefuseable async assertresult verify action run 
testsubscriberex object ts new testsubscriberex ts setinitialfusionmode queuefuseable sync action action mock action class flowable fromcompletable completable fromaction action subscribe ts ts assertfusionmode queuefuseable none assertresult verify action run 
flowable f flowable fromcompletable completable never asserttrue f instanceof assertsame completable never f source 
flowable range 1 5 reducewith functions justsupplier 1 new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b test assertresult 16 
testhelper checkdisposed flowable range 1 5 reducewith functions justsupplier 1 new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b 
testsubscriberex integer s new testsubscriberex flowable range 1 10 takelast 1 subscribe s s assertvalue 10 s assertnoerrors s assertterminated 
testsubscriberex object s new testsubscriberex flowable empty takelast 1 subscribe s s assertnovalues s assertnoerrors s assertterminated 
testsubscriberex integer s new testsubscriberex flowable just 1 takelast 1 subscribe s s assertvalue 1 s assertnoerrors s assertterminated 
final atomicboolean unsubscribed new atomicboolean false action unsubscribeaction new action override public void run unsubscribed set true flowable just 1 concatwith flowable integer never dooncancel unsubscribeaction takelast 1 subscribe dispose asserttrue unsubscribed get 
mysubscriber integer s new mysubscriber 0 flowable just 1 takelast 1 subscribe s assertequals 0 s list size s requestmore 1 assertequals 1 s list size 
final atomicinteger upstreamcount new atomicinteger final int num 10 long count flowable range 1 num doonnext new consumer integer override public void accept integer t upstreamcount incrementandget takelast 0 count blockingget assertequals num upstreamcount get assertequals 0l count 
if initialrequest 0 request initialrequest 
$EMPTY$
$EMPTY$
testhelper checkdisposed flowable just 1 takelast 1 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f takelast 1 
flowable error new testexception takelast 1 test assertfailure testexception class 
flowable string flowable flowable fromiterable arrays string aslist one two three subscriber string subscriber testhelper mocksubscriber flowable subscribe subscriber verify subscriber times 1 onnext one verify subscriber times 1 onnext two verify subscriber times 1 onnext three verify subscriber mockito never onerror any throwable class verify subscriber times 1 oncomplete 
iterable string it new iterable string override public iterator string iterator return new iterator string int i override public boolean hasnext return i 3 override public string next return string valueof i override public void remove flowable string flowable flowable fromiterable it subscriber string subscriber testhelper mocksubscriber flowable subscribe subscriber verify subscriber times 1 onnext 1 verify subscriber times 1 onnext 2 verify subscriber times 1 onnext 3 verify subscriber mockito never onerror any throwable class verify subscriber times 1 oncomplete 
flowable string flowable flowable fromiterable arrays string aslist one two three subscriber string subscriber testhelper mocksubscriber flowable subscribe subscriber verify subscriber times 1 onnext one verify subscriber times 1 onnext two verify subscriber times 1 onnext three verify subscriber mockito never onerror any throwable class verify subscriber times 1 oncomplete 
arraylist integer list new arraylist flowable buffersize for int i 1 i flowable buffersize 1 i list add i flowable integer f flowable fromiterable list testsubscriberex integer ts new testsubscriberex 0l ts assertnovalues ts request 1 f subscribe ts ts assertvalue 1 ts request 2 ts assertvalues 1 2 3 ts request 3 ts assertvalues 1 2 3 4 5 6 ts request list size ts assertterminated 
flowable integer f flowable fromiterable arrays aslist 1 2 3 4 5 testsubscriberex integer ts new testsubscriberex 0l ts assertnovalues ts request long max value f subscribe ts ts assertvalues 1 2 3 4 5 ts assertterminated 
flowable integer f flowable fromiterable arrays aslist 1 2 3 for int i 0 i 10 i testsubscriber integer ts new testsubscriber f subscribe ts ts assertvalues 1 2 3 ts assertnoerrors ts assertcomplete 
flowable integer f flowable fromiterable arrays aslist 1 2 3 4 final int expectedcount 4 final countdownlatch latch new countdownlatch expectedcount f subscribeon schedulers computation subscribe new defaultsubscriber integer override public void onstart request 2 override public void oncomplete override public void onerror throwable e throw new runtimeexception e override public void onnext integer t latch countdown request long max value 1 asserttrue latch await 10 timeunit seconds 
final atomicboolean completed new atomicboolean false flowable fromiterable collections emptylist subscribe new defaultsubscriber object override public void onstart override public void oncomplete completed set true override public void onerror throwable e override public void onnext object t asserttrue completed get 
final atomicboolean called new atomicboolean false iterable integer iterable new iterable integer override public iterator integer iterator return new iterator integer int count 1 override public void remove override public boolean hasnext if count 1 called set true return false return true override public integer next return count flowable fromiterable iterable take 1 subscribe assertfalse called get 
final atomicboolean called new atomicboolean false iterable integer iterable new iterable integer override public iterator integer iterator return new iterator integer override public void remove int count 1 override public boolean hasnext if count 1 called set true return false return true override public integer next return count flowable fromiterable iterable subscribe new defaultsubscriber integer override public void oncomplete override public void onerror throwable e override public void onnext integer t cancel assertfalse called get 
iterable integer it new iterable integer override public iterator integer iterator throw new testexception forced failure testsubscriber integer ts new testsubscriber flowable fromiterable it subscribe ts ts assertnovalues ts asserterror testexception class ts assertnotcomplete 
iterable integer it new iterable integer override public iterator integer iterator return new iterator integer override public boolean hasnext throw new testexception forced failure override public integer next return null override public void remove testsubscriber integer ts new testsubscriber flowable fromiterable it subscribe ts ts assertnovalues ts asserterror testexception class ts assertnotcomplete 
iterable integer it new iterable integer override public iterator integer iterator return new iterator integer int count override public boolean hasnext if count 2 throw new testexception forced failure return true override public integer next return 1 override public void remove testsubscriber integer ts new testsubscriber flowable fromiterable it subscribe ts ts assertvalues 1 ts asserterror testexception class ts assertnotcomplete 
iterable integer it new iterable integer override public iterator integer iterator return new iterator integer int count override public boolean hasnext if count 2 throw new testexception forced failure return true override public integer next return 1 override public void remove testsubscriber integer ts new testsubscriber 5 flowable fromiterable it subscribe ts ts assertvalues 1 ts asserterror testexception class ts assertnotcomplete 
iterable integer it new iterable integer override public iterator integer iterator return new iterator integer override public boolean hasnext return true override public integer next throw new testexception forced failure override public void remove testsubscriber integer ts new testsubscriber flowable fromiterable it subscribe ts ts assertnovalues ts asserterror testexception class ts assertnotcomplete 
iterable integer it new iterable integer override public iterator integer iterator return new iterator integer override public boolean hasnext return true override public integer next throw new testexception forced failure override public void remove testsubscriber integer ts new testsubscriber 5 flowable fromiterable it subscribe ts ts assertnovalues ts asserterror testexception class ts assertnotcomplete 
iterable integer it new iterable integer override public iterator integer iterator return new iterator integer override public boolean hasnext return true override public integer next throw new override public void remove testsubscriber integer ts new testsubscriber 5 ts cancel flowable fromiterable it subscribe ts ts assertnovalues ts assertnoerrors ts assertnotcomplete 
testsubscriber integer ts new testsubscriber flowable fromiterable arrays aslist 1 2 3 4 concatmap new function integer flowable integer override public flowable integer apply integer v return flowable range v 2 subscribe ts ts assertvalues 1 2 2 3 3 4 4 5 ts assertnoerrors ts assertcomplete 
flowable fromiterable arrays aslist 1 2 3 subscribe new flowablesubscriber integer override public void onsubscribe subscription s suppresswarnings unchecked queuesubscription integer qs queuesubscription integer s assertfalse qs isempty try assertequals 1 qs poll intvalue catch throwable ex throw new assertionerror ex assertfalse qs isempty qs clear list throwable errors testhelper trackpluginerrors try qs request 99 testhelper asserterror errors 0 class n 0 required but it was 99 finally rxjavaplugins reset override public void onnext integer t override public void onerror throwable t override public void oncomplete 
flowable fromiterable arrays aslist 1 2 3 4 5 filter functions alwaystrue test assertresult 1 2 3 4 5 
flowable fromiterable arrays aslist 1 2 3 4 5 filter functions alwaystrue test 5l assertresult 1 2 3 4 5 
flowable fromiterable arrays aslist 1 2 3 4 5 filter functions alwaystrue to testhelper integer testsubscriber 4l assertsubscribed assertvalues 1 2 3 4 assertnoerrors assertnotcomplete 
flowable fromiterable arrays aslist 1 2 3 4 5 filter functions alwaysfalse test assertresult 
flowable fromiterable arrays aslist 1 null 3 4 5 filter functions alwaystrue test assertfailure nullpointerexception class 1 
flowable fromiterable arrays aslist 1 null 3 4 5 filter functions alwaystrue test 5l assertfailure nullpointerexception class 1 
flowable fromiterable new crashingiterable 100 2 100 filter functions alwaystrue test assertfailure testexception class 0 
flowable fromiterable new crashingiterable 100 100 2 filter functions alwaystrue test assertfailure testexception class 0 
flowable fromiterable new crashingiterable 100 2 100 filter functions alwaystrue test 5l assertfailure testexception class 0 
flowable fromiterable new crashingiterable 100 100 2 filter functions alwaystrue test 5l assertfailure testexception class 0 
flowable fromiterable new crashingiterable 100 10 1000 1000 10 1000 1000 filter functions alwaystrue take 1000 1000 to testhelper integer testconsumer assertsubscribed assertvaluecount 1000 1000 assertnoerrors assertcomplete 
flowable fromiterable new crashingiterable 100 10 1000 1000 10 1000 1000 filter functions alwaystrue rebatchrequests 128 take 1000 1000 to testhelper integer testconsumer assertsubscribed assertvaluecount 1000 1000 assertnoerrors assertcomplete 
for int i 0 i testhelper race default loops i final testsubscriber integer ts new testsubscriber 0l runnable r new runnable override public void run ts request 1 flowable fromiterable arrays aslist 1 2 3 4 filter functions alwaystrue subscribe ts testhelper race r r 
for int i 0 i testhelper race default loops i final testsubscriber integer ts new testsubscriber 0l runnable r new runnable override public void run ts request 1 flowable fromiterable arrays aslist 1 2 3 4 filter functions alwaysfalse subscribe ts testhelper race r r 
for int i 0 i testhelper race default loops i final testsubscriber integer ts new testsubscriber 0l runnable r1 new runnable override public void run ts request 1 runnable r2 new runnable override public void run ts cancel flowable fromiterable arrays aslist 1 2 3 4 filter functions alwaystrue subscribe ts testhelper race r1 r2 
for int i 0 i testhelper race default loops i final testsubscriber integer ts new testsubscriber 0l runnable r1 new runnable override public void run ts request long max value runnable r2 new runnable override public void run ts cancel flowable fromiterable arrays aslist 1 2 3 4 filter functions alwaystrue subscribe ts testhelper race r1 r2 
for int i 0 i testhelper race default loops i final testsubscriber integer ts new testsubscriber 0l runnable r1 new runnable override public void run ts request 1 runnable r2 new runnable override public void run ts cancel flowable fromiterable arrays aslist 1 2 3 4 subscribe ts testhelper race r1 r2 
for int i 0 i testhelper race default loops i final testsubscriber integer ts new testsubscriber 0l runnable r1 new runnable override public void run ts request long max value runnable r2 new runnable override public void run ts cancel flowable fromiterable arrays aslist 1 2 3 4 subscribe ts testhelper race r1 r2 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable async flowable fromiterable arrays aslist 1 2 3 subscribe ts ts assertfusionmode queuefuseable none assertresult 1 2 3 
flowable fromiterable arrays aslist 1 2 3 subscribe new flowablesubscriber integer override public void onsubscribe subscription s suppresswarnings unchecked queuesubscription integer qs queuesubscription integer s qs requestfusion queuefuseable any try assertequals 1 qs poll intvalue catch throwable ex fail ex tostring qs clear try assertnull qs poll catch throwable ex fail ex tostring override public void onnext integer value override public void onerror throwable e override public void oncomplete 
flowable fromiterable new crashingiterable 1 100 100 to testhelper integer testconsumer testexception class iterator 
flowable fromiterable new crashingiterable 100 2 100 to testhelper integer testconsumer testexception class hasnext 0 
final testsubscriber integer ts new testsubscriber flowable fromiterable new iterable integer override public iterator integer iterator return new iterator integer int count override public boolean hasnext if count 2 ts cancel return true override public integer next return 1 override public void remove throw new subscribe ts ts assertvalue 1 assertnoerrors assertnotcomplete 
final testsubscriber integer ts new testsubscriber flowable fromiterable new iterable integer override public iterator integer iterator return new iterator integer int count override public boolean hasnext if count 2 ts cancel return false return true override public integer next return 1 override public void remove throw new subscribe ts ts assertvalue 1 assertnoerrors assertnotcomplete 
final testsubscriber integer ts new testsubscriber 10l flowable fromiterable new iterable integer override public iterator integer iterator return new iterator integer int count override public boolean hasnext if count 2 ts cancel return false return true override public integer next return 1 override public void remove throw new subscribe ts ts assertvalue 1 assertnoerrors assertnotcomplete 
final testsubscriber integer ts new testsubscriber flowable fromiterable new iterable integer override public iterator integer iterator return new iterator integer int count override public boolean hasnext if count 2 ts cancel return false return true override public integer next return 1 override public void remove throw new filter v true subscribe ts ts assertvalue 1 assertnoerrors assertnotcomplete 
final testsubscriber integer ts new testsubscriber 10 flowable fromiterable new iterable integer override public iterator integer iterator return new iterator integer int count override public boolean hasnext if count 2 ts cancel return false return true override public integer next return 1 override public void remove throw new filter v true subscribe ts ts assertvalue 1 assertnoerrors assertnotcomplete 
atomicreference simplequeue queue new atomicreference flowable fromiterable arrays aslist 1 subscribe new flowablesubscriber integer override public void onsubscribe nonnull subscription s queue set simplequeue s queuesubscription s requestfusion queuefuseable any override public void onnext integer t override public void onerror throwable t override public void oncomplete simplequeue q queue get assertfalse q isempty assertequals 1 q poll asserttrue q isempty q clear asserttrue q isempty 
final testsubscriber integer ts new testsubscriber 10 flowable fromiterable new iterable integer override public iterator integer iterator return new iterator integer override public boolean hasnext return true override public integer next ts cancel return 1 override public void remove throw new subscribe ts ts assertempty 
final testsubscriber integer ts new testsubscriber 10 flowable fromiterable new iterable integer override public iterator integer iterator return new iterator integer override public boolean hasnext return true override public integer next ts cancel return 1 override public void remove throw new filter v true subscribe ts ts assertempty 
subscription s mock subscription class testobservable f new testobservable s one fail two three flowable string w flowable unsafecreate f flowable string resume flowable just tworesume threeresume flowable string flowable w onerrorresumewith resume subscriber string subscriber testhelper mocksubscriber flowable subscribe subscriber try f t join catch interruptedexception e fail e getmessage verify subscriber mockito never onerror any throwable class verify subscriber times 1 oncomplete verify subscriber times 1 onnext one verify subscriber mockito never onnext two verify subscriber mockito never onnext three verify subscriber times 1 onnext tworesume verify subscriber times 1 onnext threeresume 
subscription sr mock subscription class flowable string w flowable just one fail two three fail testobservable f new testobservable sr tworesume threeresume flowable string resume flowable unsafecreate f w w map new function string string override public string apply string s if fail equals s throw new runtimeexception forced failure system out println badmapper s return s flowable string flowable w onerrorresumewith resume subscriber string subscriber testhelper mocksubscriber flowable subscribe subscriber try f t join catch interruptedexception e fail e getmessage verify subscriber mockito never onerror any throwable class verify subscriber times 1 oncomplete verify subscriber times 1 onnext one verify subscriber mockito never onnext two verify subscriber mockito never onnext three verify subscriber times 1 onnext tworesume verify subscriber times 1 onnext threeresume 
system out println testobservable subscribed to subscriber onsubscribe upstream t new thread new runnable override public void run try system out println running testobservable thread for string s values if fail equals s throw new runtimeexception forced failure system out println testobservable onnext s subscriber onnext s system out println testobservable oncomplete subscriber oncomplete catch throwable e system out println testobservable onerror e subscriber onerror e system out println starting testobservable thread t start system out println done starting testobservable thread 
testsubscriber integer ts new testsubscriber flowable range 0 onerrorresumewith flowable just 1 observeon schedulers computation map new function integer integer int c override public integer apply integer t1 if c 1 try thread sleep 500 catch interruptedexception e e printstacktrace return t1 subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors 
testsubscriber integer ts testsubscriber create 0 publishprocessor integer pp publishprocessor create pp onerrorresumewith flowable range 3 2 subscribe ts ts request 2 pp onnext 1 pp onnext 2 pp onerror new testexception forced failure ts assertvalues 1 2 ts assertnoerrors ts assertnotcomplete ts request 2 ts assertvalues 1 2 3 4 ts assertnoerrors ts assertcomplete 
testsubscriber long ts new testsubscriber 0l ts request 100 infinite take 500 subscribe ts assertequals 500 ts values size ts assertnoerrors 
testsubscriber integer ts new testsubscriber flowable range 0 flowable buffersize 10 onbackpressuredrop observeon schedulers io subscribe ts ts awaitdone 5 timeunit seconds 
final countdownlatch l1 new countdownlatch 100 final countdownlatch l2 new countdownlatch 150 testsubscriber long ts new testsubscriber new defaultsubscriber long override protected void onstart override public void oncomplete override public void onerror throwable e override public void onnext long t l1 countdown l2 countdown 0l ts request 100 infinite subscribeon schedulers computation onbackpressuredrop take 500 subscribe ts l1 await assertequals 100 ts values size ts request 50 l2 await assertequals 150 ts values size ts request 350 ts awaitdone 5 timeunit seconds assertequals 500 ts values size ts assertnoerrors assertequals 0 ts values get 0 intvalue 
final atomicinteger count new atomicinteger int n 10 range n onbackpressuredrop subscribe new defaultsubscriber long override public void onstart request 10 override public void oncomplete override public void onerror throwable e throw new runtimeexception e override public void onnext long t count incrementandget request long max value 1 assertequals n count get 
final atomicboolean erroroccurred new atomicboolean false testsubscriber long ts testsubscriber create 0 range 2 doonerror new consumer throwable override public void accept throwable t erroroccurred set true onbackpressuredrop throw non fatal subscribe ts assertfalse erroroccurred get 
testhelper new function flowable integer object override public object apply flowable integer f throws exception return f onbackpressuredrop false 1 1 1 
testhelper new function flowable object publisher object override public publisher object apply flowable object f throws exception return f onbackpressuredrop 
testhelper flowable just 1 onbackpressuredrop 
flowable range 1 10 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just v test assertresult 1 2 3 4 5 6 7 8 9 10 
flowable range 1 10 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just v true integer max value test assertresult 1 2 3 4 5 6 7 8 9 10 
testsubscriberex integer ts flowable range 1 10 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just v subscribeon schedulers computation to testhelper integer testconsumer awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 10 assertnoerrors assertcomplete testhelper assertvalueset ts 1 2 3 4 5 6 7 8 9 10 
testsubscriberex integer ts flowable range 1 10 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just v subscribeon schedulers computation false 3 to testhelper integer testconsumer awaitdone 5 timeunit seconds assertsubscribed assertnoerrors assertcomplete testhelper assertvalueset ts 1 2 3 4 5 6 7 8 9 10 
flowable range 1 10 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just v subscribeon schedulers computation false 1 test awaitdone 5 timeunit seconds assertresult 1 2 3 4 5 6 7 8 9 10 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception throw new testexception test asserttrue pp hassubscribers pp onnext 1 ts assertfailure testexception class assertfalse pp hassubscribers 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return null test asserttrue pp hassubscribers pp onnext 1 ts assertfailure nullpointerexception class assertfalse pp hassubscribers 
testsubscriberex integer ts flowable range 1 10 concatwith flowable integer error new testexception flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single error new testexception true integer max value to testhelper integer testconsumer assertfailure compositeexception class list throwable errors testhelper compositelist ts errors get 0 for int i 0 i 11 i testhelper asserterror errors i testexception class 
flowable range 1 10 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just v rebatchrequests 1 test assertresult 1 2 3 4 5 6 7 8 9 10 
flowable range 1 10 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just v false 1 rebatchrequests 1 test assertresult 1 2 3 4 5 6 7 8 9 10 
flowable range 1 10 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just v false 2 rebatchrequests 1 test assertresult 1 2 3 4 5 6 7 8 9 10 
testsubscriberex integer ts flowable range 1 10 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just v subscribeon schedulers computation take 2 to testhelper integer testconsumer awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 2 assertnoerrors assertcomplete testhelper assertvalueset ts 1 2 3 4 5 6 7 8 9 10 
flowable range 1 10 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just v take 2 test assertresult 1 2 
flowable fromarray new string 1 a 2 flatmapsingle new function string singlesource integer override public singlesource integer apply final string s throws return single fromcallable new callable integer override public integer call throws return integer valueof s test assertfailure class 1 
flowable range 1 1000 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single just 1 subscribeon schedulers computation take 500 to testhelper integer testconsumer awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 500 assertnoerrors assertcomplete 
final publishprocessor integer pp publishprocessor create testsubscriber integer ts flowable range 1 2 flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception if v 2 return pp singleorerror return single error new testexception true integer max value test pp onnext 1 pp oncomplete ts assertfailure testexception class 1 
testhelper checkdisposed publishprocessor integer create flatmapsingle new function integer singlesource integer override public singlesource integer apply integer v throws exception return single integer just 1 
testhelper new function flowable object flowable integer override public flowable integer apply flowable object f throws exception return f flatmapsingle functions justfunction single just 2 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onerror new testexception first subscriber onerror new testexception second flatmapsingle functions justfunction single just 2 to testhelper integer testconsumer testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try flowable just 1 flatmapsingle functions justfunction new single integer override protected void subscribeactual singleobserver super integer observer observer onsubscribe disposable empty observer onerror new testexception first observer onerror new testexception second to testhelper integer testconsumer testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
final publishprocessor integer pp1 publishprocessor create final publishprocessor integer pp2 publishprocessor create testsubscriber integer ts new testsubscriber integer override public void onnext integer t super onnext t if t 1 pp2 onnext 2 pp2 oncomplete flowable just pp1 pp2 flatmapsingle new function publishprocessor integer singlesource integer override public singlesource integer apply publishprocessor integer v throws exception return v singleorerror subscribe ts pp1 onnext 1 pp1 oncomplete ts assertresult 1 2 
final testsubscriber object ts new testsubscriber flowable just 1 flatmapsingle new function integer singlesource object override public singlesource object apply integer v throws exception return new single object override protected void subscribeactual singleobserver super object observer observer onsubscribe disposable empty assertfalse disposable observer isdisposed ts cancel asserttrue disposable observer isdisposed subscribe ts ts assertempty 
publishprocessor integer pp publishprocessor create testsubscriber integer ts flowable just 1 flatmapsingle functions justfunction pp singleorerror test pp onnext 2 pp oncomplete ts assertresult 2 
testsubscriber integer ts flowable just 1 flatmapsingle functions justfunction single just 2 test 0l assertempty ts request 1 ts assertresult 2 
flowable just 1 flatmapsingle functions justfunction single integer error new testexception test 0l assertfailure testexception class 
flowable just 1 flatmapsingle functions justfunction single integer error new testexception true 16 test 0l assertfailure testexception class 
for int i 0 i testhelper race default loops i final testsubscriber integer ts flowable just 1 concatwith flowable integer never flatmapsingle functions justfunction single just 2 test 0 runnable r1 new runnable override public void run ts request 1 runnable r2 new runnable override public void run ts cancel testhelper race r1 r2 
flowable range 1 1000 flatmapmaybe new function integer maybesource integer override public maybesource integer apply integer v throws exception return maybe integer error new testexception subscribeon schedulers computation true 128 take 500 test awaitdone 5 timeunit seconds assertfailure compositeexception class 
testhelper new flowableconverter integer flowable integer override public flowable integer apply flowable integer upstream return upstream flatmapsingle new function integer single integer override public single integer apply integer v throws throwable return single just v hide 
testhelper new flowableconverter integer flowable integer override public flowable integer apply flowable integer upstream return upstream flatmapsingle new function integer single integer override public single integer apply integer v throws throwable return single just v hide true 2 
testhelper flowable never flatmapsingle v single never 
for int i 0 i testhelper race default loops i singlesubject integer ss1 singlesubject create singlesubject integer ss2 singlesubject create testsubscriber integer ts flowable just ss1 ss2 flatmapsingle v v test testhelper race ss1 onsuccess 1 ss2 onsuccess 1 ts assertresult 1 1 
singlesubject integer ss1 singlesubject create testsubscriber integer ts flowable just ss1 hide flatmapsingle v v test ss1 onsuccess 1 ts assertresult 1 
multicastprocessor integer mp new multicastprocessor 128 true unicastprocessor integer up unicastprocessor create up subscribe mp testsubscriber integer ts1 mp test testsubscriber integer ts2 mp take 1 test up onnext 1 up onnext 2 up oncomplete ts1 assertresult 1 2 ts2 assertresult 1 
multicastprocessor integer mp new multicastprocessor 128 true mp onsubscribe new queuesubscription integer override public int requestfusion int mode return 0 override public boolean offer integer value return false override public boolean offer integer v1 integer v2 return false override public integer poll throws exception return null override public boolean isempty return false override public void clear override public void request long n override public void cancel testsubscriber integer ts mp test mp onnext 1 mp onnext 2 mp oncomplete ts assertresult 1 2 
for int i 0 i testhelper race long loops i final multicastprocessor integer mp new multicastprocessor 128 true final integer ms1 new null mp final integer ms2 new null mp asserttrue mp add ms1 runnable r1 new runnable override public void run mp remove ms1 runnable r2 new runnable override public void run mp add ms2 testhelper race r1 r2 
multicastprocessor integer mp new multicastprocessor 128 true integer ms1 new null mp asserttrue mp add ms1 mp remove null 
multicastprocessor integer mp new multicastprocessor 128 true integer ms1 new null mp asserttrue mp add ms1 ms1 set long min value mp errorall null 
multicastprocessor integer mp new multicastprocessor 128 true integer ms1 new null mp asserttrue mp add ms1 ms1 set long min value mp completeall 
final multicastprocessor integer mp new multicastprocessor 128 true final integer ms1 new null mp asserttrue mp add ms1 mp onsubscribe new booleansubscription ms1 set long min value mp drain 
final multicastprocessor integer mp new multicastprocessor 128 true final integer ms1 new null mp list throwable errors testhelper trackpluginerrors try ms1 request 1 testhelper asserterror errors 0 class finally rxjavaplugins reset 
testhelper doubleonsubscribe new outputcanceller new testsubscriber null 
final multicastprocessor integer mp new multicastprocessor 128 true mp onsubscribe new booleansubscription mp onnext 1 testsubscriber integer ts new testsubscriber final integer ms1 new ts mp ts onsubscribe ms1 asserttrue mp add ms1 ms1 set long min value mp drain assertfalse mp queue isempty 
publishprocessor integer source publishprocessor create publishprocessor integer other publishprocessor create subscriber integer subscriber testhelper mocksubscriber inorder inorder inorder subscriber flowable integer result source withlatestfrom other combiner result subscribe subscriber source onnext 1 inorder verify subscriber never onnext anyint other onnext 1 inorder verify subscriber never onnext anyint source onnext 2 inorder verify subscriber onnext 2 8 1 other onnext 2 inorder verify subscriber never onnext anyint other oncomplete inorder verify subscriber never oncomplete source onnext 3 inorder verify subscriber onnext 3 8 2 source oncomplete inorder verify subscriber oncomplete verify subscriber never onerror any throwable class 
publishprocessor integer source publishprocessor create publishprocessor integer other publishprocessor create flowable integer result source withlatestfrom other combiner testsubscriberex integer ts new testsubscriberex result subscribe ts asserttrue source hassubscribers asserttrue other hassubscribers other onnext 1 source oncomplete ts assertnoerrors ts assertterminated ts assertnovalues assertfalse source hassubscribers assertfalse other hassubscribers 
publishprocessor integer source publishprocessor create publishprocessor integer other publishprocessor create flowable integer result source withlatestfrom other combiner testsubscriberex integer ts new testsubscriberex result subscribe ts asserttrue source hassubscribers asserttrue other hassubscribers source onnext 1 source oncomplete ts assertnoerrors ts assertterminated ts assertnovalues assertfalse source hassubscribers assertfalse other hassubscribers 
publishprocessor integer source publishprocessor create publishprocessor integer other publishprocessor create flowable integer result source withlatestfrom other combiner testsubscriber integer ts new testsubscriber result subscribe ts asserttrue source hassubscribers asserttrue other hassubscribers other onnext 1 source onnext 1 ts cancel ts assertvalue 1 8 1 ts assertnoerrors ts assertnotcomplete assertfalse source hassubscribers assertfalse other hassubscribers 
publishprocessor integer source publishprocessor create publishprocessor integer other publishprocessor create flowable integer result source withlatestfrom other combiner testsubscriberex integer ts new testsubscriberex result subscribe ts asserttrue source hassubscribers asserttrue other hassubscribers other onnext 1 source onnext 1 source onerror new testexception ts assertterminated ts assertvalue 1 8 1 ts asserterror testexception class ts assertnotcomplete assertfalse source hassubscribers assertfalse other hassubscribers 
publishprocessor integer source publishprocessor create publishprocessor integer other publishprocessor create flowable integer result source withlatestfrom other combiner testsubscriberex integer ts new testsubscriberex result subscribe ts asserttrue source hassubscribers asserttrue other hassubscribers other onnext 1 source onnext 1 other onerror new testexception ts assertterminated ts assertvalue 1 8 1 ts assertnotcomplete ts asserterror testexception class assertfalse source hassubscribers assertfalse other hassubscribers 
publishprocessor integer source publishprocessor create publishprocessor integer other publishprocessor create flowable integer result source withlatestfrom other combiner error testsubscriberex integer ts new testsubscriberex result subscribe ts asserttrue source hassubscribers asserttrue other hassubscribers other onnext 1 source onnext 1 ts assertterminated ts assertnotcomplete ts assertnovalues ts asserterror testexception class assertfalse source hassubscribers assertfalse other hassubscribers 
publishprocessor integer source publishprocessor create publishprocessor integer other publishprocessor create flowable integer result source withlatestfrom other combiner testsubscriber integer ts new testsubscriber result subscribe ts source oncomplete assertfalse ts iscancelled 
publishprocessor integer source publishprocessor create publishprocessor integer other publishprocessor create flowable integer result source withlatestfrom other combiner testsubscriber integer ts new testsubscriber 0l result subscribe ts asserttrue other has no observers other hassubscribers ts request 1 source onnext 1 asserttrue other has no observers other hassubscribers ts assertnovalues other onnext 1 source onnext 2 ts assertvalue 2 8 1 ts request 5 source onnext 3 source onnext 4 source onnext 5 source onnext 6 source onnext 7 ts assertvalues 2 8 1 3 8 1 4 8 1 5 8 1 6 8 1 7 8 1 ts cancel assertfalse other has observers other hassubscribers ts assertnoerrors 
publishprocessor string pp1 publishprocessor create publishprocessor string pp2 publishprocessor create publishprocessor string pp3 publishprocessor create publishprocessor string main publishprocessor create testsubscriber string ts new testsubscriber main withlatestfrom new flowable pp1 pp2 pp3 toarray subscribe ts main onnext 1 ts assertnovalues pp1 onnext a ts assertnovalues pp2 onnext a ts assertnovalues pp3 onnext ts assertnovalues main onnext 2 ts assertvalues 2 a a pp2 onnext b ts assertvalues 2 a a pp3 oncomplete ts assertvalues 2 a a pp1 onnext b main onnext 3 ts assertvalues 2 a a 3 b b main oncomplete ts assertvalues 2 a a 3 b b ts assertnoerrors ts assertcomplete assertfalse ps1 has subscribers pp1 hassubscribers assertfalse ps2 has subscribers pp2 hassubscribers assertfalse ps3 has subscribers pp3 hassubscribers 
publishprocessor string pp1 publishprocessor create publishprocessor string pp2 publishprocessor create publishprocessor string pp3 publishprocessor create publishprocessor string main publishprocessor create testsubscriber string ts new testsubscriber main withlatestfrom arrays flowable aslist pp1 pp2 pp3 toarray subscribe ts main onnext 1 ts assertnovalues pp1 onnext a ts assertnovalues pp2 onnext a ts assertnovalues pp3 onnext ts assertnovalues main onnext 2 ts assertvalues 2 a a pp2 onnext b ts assertvalues 2 a a pp3 oncomplete ts assertvalues 2 a a pp1 onnext b main onnext 3 ts assertvalues 2 a a 3 b b main oncomplete ts assertvalues 2 a a 3 b b ts assertnoerrors ts assertcomplete assertfalse ps1 has subscribers pp1 hassubscribers assertfalse ps2 has subscribers pp2 hassubscribers assertfalse ps3 has subscribers pp3 hassubscribers 
for string val new string 1 int n 35 for int i 0 i n i list flowable sources new arraylist list string expected new arraylist expected add val for int j 0 j i j sources add flowable just val expected add string valueof val testsubscriber string ts new testsubscriber publishprocessor string main publishprocessor create main withlatestfrom sources toarray subscribe ts ts assertnovalues main onnext val main oncomplete ts assertvalue expected tostring ts assertnoerrors ts assertcomplete 
publishprocessor string pp1 publishprocessor create publishprocessor string pp2 publishprocessor create testsubscriber string ts new testsubscriber 0 flowable range 1 10 withlatestfrom new flowable pp1 pp2 toarray subscribe ts ts assertnovalues ts request 1 ts assertnovalues ts assertnoerrors ts assertcomplete assertfalse ps1 has subscribers pp1 hassubscribers assertfalse ps2 has subscribers pp2 hassubscribers 
publishprocessor string pp1 publishprocessor create publishprocessor string pp2 publishprocessor create testsubscriber string ts new testsubscriber 0 flowable range 1 3 withlatestfrom new flowable pp1 pp2 toarray subscribe ts ts assertnovalues pp1 onnext 1 pp2 onnext 1 ts request 1 ts assertvalue 1 1 1 ts request 1 ts assertvalues 1 1 1 2 1 1 ts request 1 ts assertvalues 1 1 1 2 1 1 3 1 1 ts assertnoerrors ts assertcomplete assertfalse ps1 has subscribers pp1 hassubscribers assertfalse ps2 has subscribers pp2 hassubscribers 
testsubscriber string ts new testsubscriber 0 flowable range 1 3 withlatestfrom new flowable flowable just 1 flowable empty toarray subscribe ts ts assertnovalues ts assertnoerrors ts assertcomplete 
testsubscriber string ts new testsubscriber 0 flowable range 1 3 withlatestfrom new flowable flowable just 1 flowable error new testexception toarray subscribe ts ts assertnovalues ts asserterror testexception class ts assertnotcomplete 
testsubscriber string ts new testsubscriber 0 flowable error new testexception withlatestfrom new flowable flowable just 1 flowable just 1 toarray subscribe ts ts assertnovalues ts asserterror testexception class ts assertnotcomplete 
flowable integer just flowable just 1 testsubscriber list integer ts new testsubscriber just withlatestfrom just just new function3 integer integer integer list integer override public list integer apply integer a integer b integer c return arrays aslist a b c subscribe ts ts assertvalue arrays aslist 1 1 1 ts assertnoerrors ts assertcomplete 
flowable integer just flowable just 1 testsubscriber list integer ts new testsubscriber just withlatestfrom just just just new function4 integer integer integer integer list integer override public list integer apply integer a integer b integer c integer d return arrays aslist a b c d subscribe ts ts assertvalue arrays aslist 1 1 1 1 ts assertnoerrors ts assertcomplete 
flowable integer just flowable just 1 testsubscriber list integer ts new testsubscriber just withlatestfrom just just just just new function5 integer integer integer integer integer list integer override public list integer apply integer a integer b integer c integer d integer e return arrays aslist a b c d e subscribe ts ts assertvalue arrays aslist 1 1 1 1 1 ts assertnoerrors ts assertcomplete 
testhelper checkdisposed flowable just 1 withlatestfrom flowable just 2 new bifunction integer integer object override public object apply integer a integer b throws exception return a testhelper checkdisposed flowable just 1 withlatestfrom flowable just 2 flowable just 3 new function3 integer integer integer object override public object apply integer a integer b integer c throws exception return a 
flowable just 1 withlatestfrom new 1 100 100 new function integer flowable integer override public flowable integer apply integer v throws exception return flowable just 2 new function object object override public object apply object a throws exception return a to testhelper testconsumer testexception class iterator 
flowable just 1 withlatestfrom flowable just 2 flowable just 3 new function3 integer integer integer object override public object apply integer a integer b integer c throws exception throw new testexception test assertfailure testexception class 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onerror new testexception first subscriber onnext 1 subscriber onerror new testexception second subscriber oncomplete withlatestfrom flowable just 2 flowable just 3 new function3 integer integer integer object override public object apply integer a integer b integer c throws exception return a to testhelper testconsumer testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try flowable just 1 withlatestfrom new flowable integer override protected void subscribeactual subscriber super integer s s onsubscribe new booleansubscription s onerror new testexception first s onerror new testexception second new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b to testhelper integer testconsumer testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
flowable just 1 withlatestfrom flowable just 2 new bifunction integer integer object override public object apply integer a integer b throws exception return null test assertfailure nullpointerexception class 
flowable just 1 withlatestfrom arrays aslist flowable just 2 flowable just 3 new function object object override public object apply object o throws exception return null test assertfailure nullpointerexception class 
flowable just 1 withlatestfrom new flowable 0 functions justfunction null to testhelper testconsumer nullpointerexception class the combiner returned a null value 
publishprocessor integer source publishprocessor create publishprocessor integer other publishprocessor create flowable integer result source withlatestfrom other combiner testsubscriber integer ts new testsubscriber 0l result subscribe ts ts request 1 source onnext 1 ts assertnovalues other onnext 1 ts assertnovalues source onnext 2 ts assertvalue 2 8 1 
flowable range 1 10 withlatestfrom flowable never new bifunction integer object object override public object apply integer a object b throws exception return a test 1 assertresult 
flowable range 1 10 withlatestfrom flowable never flowable never flowable never new function4 integer object object object object override public object apply integer a object b object c object d throws exception return a test 1 assertresult 
for int i 0 i testhelper race default loops i final publishprocessor integer pp0 publishprocessor create final publishprocessor integer pp1 publishprocessor create final publishprocessor integer pp2 publishprocessor create final publishprocessor integer pp3 publishprocessor create final flowable object source pp0 withlatestfrom pp1 pp2 pp3 new function4 object integer integer integer object override public object apply object a integer b integer c integer d throws exception return a final testsubscriber object ts new testsubscriber runnable r1 new runnable override public void run source subscribe ts runnable r2 new runnable override public void run ts cancel testhelper race r1 r2 ts assertempty assertfalse pp0 hassubscribers assertfalse pp1 hassubscribers assertfalse pp2 hassubscribers assertfalse pp3 hassubscribers 
for int i 0 i testhelper race default loops i final publishprocessor integer pp0 publishprocessor create final publishprocessor integer pp1 publishprocessor create final publishprocessor integer pp2 publishprocessor create final publishprocessor integer pp3 publishprocessor create final flowable object source pp0 withlatestfrom pp1 pp2 pp3 new function4 object integer integer integer object override public object apply object a integer b integer c integer d throws exception return a final testsubscriber object ts new testsubscriber runnable r1 new runnable override public void run source subscribe ts runnable r2 new runnable override public void run pp1 oncomplete testhelper race r1 r2 ts assertresult assertfalse pp0 hassubscribers assertfalse pp1 hassubscribers assertfalse pp2 hassubscribers assertfalse pp3 hassubscribers 
scheduler new testscheduler innerscheduler scheduler createworker subscriber testhelper mocksubscriber subscriber2 testhelper mocksubscriber 
flowable long source flowable unsafecreate new publisher long override public void subscribe final subscriber super long subscriber1 subscriber1 onsubscribe new booleansubscription innerscheduler schedule new runnable override public void run subscriber1 onnext 1l 1 timeunit seconds innerscheduler schedule new runnable override public void run subscriber1 onnext 2l 2 timeunit seconds innerscheduler schedule new runnable override public void run subscriber1 oncomplete 3 timeunit seconds flowable long sampled source sample 400l timeunit milliseconds scheduler sampled subscribe subscriber inorder inorder inorder subscriber scheduler advancetimeto 800l timeunit milliseconds verify subscriber never onnext any long class verify subscriber never oncomplete verify subscriber never onerror any throwable class scheduler advancetimeto 1200l timeunit milliseconds inorder verify subscriber times 1 onnext 1l verify subscriber never onnext 2l verify subscriber never oncomplete verify subscriber never onerror any throwable class scheduler advancetimeto 1600l timeunit milliseconds inorder verify subscriber never onnext 1l verify subscriber never onnext 2l verify subscriber never oncomplete verify subscriber never onerror any throwable class scheduler advancetimeto 2000l timeunit milliseconds inorder verify subscriber never onnext 1l inorder verify subscriber times 1 onnext 2l verify subscriber never oncomplete verify subscriber never onerror any throwable class scheduler advancetimeto 3000l timeunit milliseconds inorder verify subscriber never onnext 1l inorder verify subscriber never onnext 2l verify subscriber times 1 oncomplete verify subscriber never onerror any throwable class 
publishprocessor integer source publishprocessor create publishprocessor integer sampler publishprocessor create flowable integer m source sample sampler m subscribe subscriber2 source onnext 1 source onnext 2 sampler onnext 1 source onnext 3 source onnext 4 sampler onnext 2 source oncomplete sampler onnext 3 inorder inorder inorder subscriber2 inorder verify subscriber2 never onnext 1 inorder verify subscriber2 times 1 onnext 2 inorder verify subscriber2 never onnext 3 inorder verify subscriber2 times 1 onnext 4 inorder verify subscriber2 times 1 oncomplete verify subscriber never onerror any throwable class 
publishprocessor integer source publishprocessor create publishprocessor integer sampler publishprocessor create flowable integer m source sample sampler m subscribe subscriber2 source onnext 1 source onnext 2 sampler onnext 1 sampler onnext 1 source onnext 3 source onnext 4 sampler onnext 2 sampler onnext 2 source oncomplete sampler onnext 3 inorder inorder inorder subscriber2 inorder verify subscriber2 never onnext 1 inorder verify subscriber2 times 1 onnext 2 inorder verify subscriber2 never onnext 3 inorder verify subscriber2 times 1 onnext 4 inorder verify subscriber2 times 1 oncomplete verify subscriber never onerror any throwable class 
publishprocessor integer source publishprocessor create publishprocessor integer sampler publishprocessor create flowable integer m source sample sampler m subscribe subscriber2 source onnext 1 source onnext 2 sampler onnext 1 sampler oncomplete source onnext 3 source onnext 4 inorder inorder inorder subscriber2 inorder verify subscriber2 never onnext 1 inorder verify subscriber2 times 1 onnext 2 inorder verify subscriber2 times 1 oncomplete inorder verify subscriber2 never onnext any verify subscriber never onerror any throwable class 
publishprocessor integer source publishprocessor create publishprocessor integer sampler publishprocessor create flowable integer m source sample sampler m subscribe subscriber2 source onnext 1 source onnext 2 sampler onnext 1 source onnext 3 source oncomplete sampler onnext 2 sampler oncomplete inorder inorder inorder subscriber2 inorder verify subscriber2 never onnext 1 inorder verify subscriber2 times 1 onnext 2 inorder verify subscriber2 never onnext 3 inorder verify subscriber2 times 1 oncomplete inorder verify subscriber2 never onnext any verify subscriber never onerror any throwable class 
publishprocessor integer source publishprocessor create publishprocessor integer sampler publishprocessor create flowable integer m source sample sampler m subscribe subscriber2 source oncomplete sampler onnext 1 inorder inorder inorder subscriber2 inorder verify subscriber2 times 1 oncomplete verify subscriber2 never onnext any verify subscriber never onerror any throwable class 
publishprocessor integer source publishprocessor create publishprocessor integer sampler publishprocessor create flowable integer m source sample sampler m subscribe subscriber2 source onnext 1 source onerror new runtimeexception forced failure sampler onnext 1 inorder inorder inorder subscriber2 inorder verify subscriber2 times 1 onerror any throwable class verify subscriber2 never onnext any verify subscriber never oncomplete 
publishprocessor integer source publishprocessor create publishprocessor integer sampler publishprocessor create flowable integer m source sample sampler m subscribe subscriber2 source onnext 1 sampler onnext 1 sampler onerror new runtimeexception forced failure inorder inorder inorder subscriber2 inorder verify subscriber2 times 1 onnext 1 inorder verify subscriber2 times 1 onerror any runtimeexception class verify subscriber never oncomplete 
final subscription s mock subscription class flowable integer f flowable unsafecreate new publisher integer override public void subscribe subscriber super integer subscriber subscriber onsubscribe s f throttlelast 1 timeunit milliseconds subscribe dispose verify s cancel 
testhelper checkdisposed publishprocessor create sample 1 timeunit seconds new testscheduler testhelper checkdisposed publishprocessor create sample flowable never 
flowable error new testexception sample 1 timeunit seconds test assertfailure testexception class 
behaviorprocessor createdefault 1 sample 1 timeunit milliseconds test 0l awaitdone 5 timeunit seconds assertfailure class 
publishprocessor integer pp1 publishprocessor create publishprocessor integer pp2 publishprocessor create testsubscriber integer ts pp1 sample pp2 test 0l pp1 onnext 1 pp2 onnext 2 ts assertfailure class assertfalse pp1 hassubscribers assertfalse pp2 hassubscribers 
flowable just 1 sample 1 timeunit days true test assertresult 1 
flowable empty sample 1 timeunit days true test assertresult 
flowable just 1 sample 1 timeunit days schedulers single true test assertresult 1 
for int i 0 i testhelper race default loops i final testscheduler scheduler new testscheduler final publishprocessor integer pp publishprocessor create testsubscriber integer ts pp sample 1 timeunit seconds scheduler true test pp onnext 1 runnable r1 new runnable override public void run pp oncomplete runnable r2 new runnable override public void run scheduler advancetimeby 1 timeunit seconds testhelper race r1 r2 ts assertresult 1 
flowable just 1 sample flowable timer 1 timeunit days true test assertresult 1 
flowable empty sample flowable timer 1 timeunit days true test assertresult 
for int i 0 i testhelper race default loops i final publishprocessor integer pp publishprocessor create final publishprocessor integer sampler publishprocessor create testsubscriber integer ts pp sample sampler true test pp onnext 1 runnable r1 new runnable override public void run pp oncomplete runnable r2 new runnable override public void run sampler onnext 1 testhelper race r1 r2 ts assertresult 1 
for int i 0 i testhelper race default loops i final publishprocessor integer pp publishprocessor create final publishprocessor integer sampler publishprocessor create testsubscriber integer ts pp sample sampler true test pp onnext 1 runnable r1 new runnable override public void run pp oncomplete runnable r2 new runnable override public void run sampler oncomplete testhelper race r1 r2 ts assertresult 1 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f sample 1 timeunit seconds testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f sample publishprocessor create 
testhelper publishprocessor create sample publishprocessor create 
testhelper publishprocessor create sample 1 timeunit minutes 
assertequals 1 flowable range 1 10 subscribeon schedulers computation blockingfirst intvalue 
assertequals 1 flowable integer empty subscribeon schedulers computation blockingfirst 1 intvalue 
final list integer list new arraylist flowable range 1 5 subscribeon schedulers computation blockingsubscribe new consumer integer override public void accept integer v throws exception list add v assertequals arrays aslist 1 2 3 4 5 list 
final list integer list new arraylist flowable range 1 5 subscribeon schedulers computation blockingsubscribe new consumer integer override public void accept integer v throws exception list add v 128 assertequals arrays aslist 1 2 3 4 5 list 
final list integer list new arraylist flowable range 1 5 subscribeon schedulers computation blockingsubscribe new consumer integer override public void accept integer v throws exception list add v 3 assertequals arrays aslist 1 2 3 4 5 list 
final list object list new arraylist flowable range 1 5 subscribeon schedulers computation blockingsubscribe new consumer integer override public void accept integer v throws exception list add v functions emptyconsumer assertequals arrays aslist 1 2 3 4 5 list 
final list object list new arraylist flowable range 1 5 subscribeon schedulers computation blockingsubscribe new consumer integer override public void accept integer v throws exception list add v functions emptyconsumer 128 assertequals arrays aslist 1 2 3 4 5 list 
final list object list new arraylist flowable range 1 5 subscribeon schedulers computation blockingsubscribe new consumer integer override public void accept integer v throws exception list add v functions emptyconsumer 3 assertequals arrays aslist 1 2 3 4 5 list 
final list object list new arraylist testexception ex new testexception consumer object cons new consumer object override public void accept object v throws exception list add v flowable range 1 5 concatwith flowable integer error ex subscribeon schedulers computation blockingsubscribe cons cons assertequals arrays aslist 1 2 3 4 5 ex list 
final list object list new arraylist testexception ex new testexception consumer object cons new consumer object override public void accept object v throws exception list add v flowable range 1 5 concatwith flowable integer error ex subscribeon schedulers computation blockingsubscribe cons cons 128 assertequals arrays aslist 1 2 3 4 5 ex list 
final list object list new arraylist consumer object cons new consumer object override public void accept object v throws exception list add v flowable range 1 5 subscribeon schedulers computation blockingsubscribe cons cons new action override public void run throws exception list add 100 assertequals arrays aslist 1 2 3 4 5 100 list 
final list object list new arraylist consumer object cons new consumer object override public void accept object v throws exception list add v action action new action override public void run throws exception list add 100 flowable range 1 5 subscribeon schedulers computation blockingsubscribe cons cons action 128 assertequals arrays aslist 1 2 3 4 5 100 list 
final list object list new arraylist consumer object cons new consumer object override public void accept object v throws exception list add v action action new action override public void run throws exception list add 100 flowable range 1 5 subscribeon schedulers computation blockingsubscribe cons cons action 3 assertequals arrays aslist 1 2 3 4 5 100 list 
final list object list new arraylist consumer object cons new consumer object override public void accept object v throws exception list add v action action new action override public void run throws exception list add flowable range 1 subscribeon schedulers computation blockingsubscribe cons cons action 128 assertequals 1 list size 
final list object list new arraylist flowable range 1 5 subscribeon schedulers computation blockingsubscribe new flowablesubscriber object override public void onsubscribe subscription s s request long max value override public void onnext object value list add value override public void onerror throwable e list add e override public void oncomplete list add 100 assertequals arrays aslist 1 2 3 4 5 100 list 
final list object list new arraylist final testexception ex new testexception flowable range 1 5 concatwith flowable integer error ex subscribeon schedulers computation blockingsubscribe new flowablesubscriber object override public void onsubscribe subscription s s request long max value override public void onnext object value list add value override public void onerror throwable e list add e override public void oncomplete list add 100 assertequals arrays aslist 1 2 3 4 5 ex list 
flowable just 1 blockingforeach new consumer integer override public void accept integer e throws exception throw new testexception 
flowable empty blockingfirst 
flowable empty blockinglast 
assertequals 1 flowable just 1 2 blockingfirst 3 intvalue 
assertequals 2 flowable just 1 2 blockinglast 3 intvalue 
flowable integer source flowable frompublisher new publisher integer override public void subscribe subscriber super integer s s onsubscribe new booleansubscription s onnext 1 s onnext 2 assertequals 1 source blockingfirst intvalue 
list throwable list testhelper trackpluginerrors try flowable integer source flowable frompublisher new publisher integer override public void subscribe subscriber super integer s s onsubscribe new booleansubscription s onnext 1 s onerror new testexception assertequals 1 source blockingfirst intvalue testhelper assertundeliverable list 0 testexception class finally rxjavaplugins reset 
flowable integer source flowable frompublisher new publisher integer override public void subscribe subscriber super integer s s onsubscribe new booleansubscription s onerror new testexception source blockingfirst 
testsubscriber integer ts new testsubscriber 0l thread currentthread interrupt try flowable just 1 blockingsubscribe ts ts assertfailure interruptedexception class finally thread interrupted 
flowable empty blockingsingle 
testsubscriber object ts new testsubscriber flowable empty delay 100 timeunit milliseconds blockingsubscribe ts ts assertresult 
testhelper checkutilityclass class 
testsubscriber object ts new testsubscriber ts cancel flowable just 1 blockingsubscribe ts ts assertempty 
final testsubscriber object ts new testsubscriber final subscriber s null schedulers single scheduledirect new runnable suppresswarnings unchecked override public void run ts cancel s 0 onnext 1 200 timeunit milliseconds new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription s 0 subscriber blockingsubscribe ts while ts iscancelled thread sleep 100 ts assertempty 
for int i 0 i testhelper race default loops i final testsubscriber integer ts new testsubscriber final publishprocessor integer pp publishprocessor create final runnable r1 new runnable override public void run ts cancel final runnable r2 new runnable override public void run pp onnext 1 final atomicinteger c new atomicinteger 2 schedulers computation scheduledirect new runnable override public void run c decrementandget while c get 0 pp hassubscribers testhelper race r1 r2 c decrementandget while c get 0 pp blockingsubscribe ts 
for int i 0 i 100 i list flowable string os new arraylist os add flowable just one two three four five subscribeon schedulers newthread os add flowable just one two three four five subscribeon schedulers newthread os add flowable just one two three four five subscribeon schedulers newthread list string expected arrays aslist one two three four five one two three four five one two three four five iterator string iter flowable merge os 1 blockingiterable iterator list string actual new arraylist while iter hasnext actual add iter next assertequals expected actual 
for int times 0 times 100 times int observablecount 100 int maxconcurrent 2 times 10 atomicinteger subscriptioncount new atomicinteger 0 list flowable string os new arraylist list scos new arraylist for int i 0 i observablecount i sco new subscriptioncount maxconcurrent scos add sco os add flowable unsafecreate sco iterator string iter flowable merge os maxconcurrent blockingiterable iterator list string actual new arraylist while iter hasnext actual add iter next assertequals 5 observablecount actual size for sco scos assertfalse sco failed 
t1 onsubscribe new booleansubscription new thread new runnable override public void run if subscriptioncount incrementandget maxconcurrent failed true t1 onnext one t1 onnext two t1 onnext three t1 onnext four t1 onnext five subscriptioncount decrementandget t1 oncomplete start 
int n list flowable integer sourcelist new arraylist n for int i 0 i n i sourcelist add flowable just i iterator integer it flowable merge flowable fromiterable sourcelist 1 blockingiterable iterator int j 0 while it hasnext assertequals integer j it next j assertequals j n 
int n list flowable integer sourcelist new arraylist n for int i 0 i n i sourcelist add flowable just i iterator integer it flowable merge flowable fromiterable sourcelist 1 take n 2 blockingiterable iterator int j 0 while it hasnext assertequals integer j it next j assertequals j n 2 
for int i 1 i 100 i testsubscriberex integer ts new testsubscriberex list flowable integer sourcelist new arraylist i list integer result new arraylist i for int j 1 j i j sourcelist add flowable just j result add j flowable merge sourcelist i subscribe ts ts assertnoerrors ts assertterminated ts assertvaluesequence result 
for int i 2 i 100 i testsubscriberex integer ts new testsubscriberex list flowable integer sourcelist new arraylist i list integer result new arraylist i for int j 1 j i j sourcelist add flowable just j result add j flowable merge sourcelist i 1 subscribe ts ts assertnoerrors ts assertterminated ts assertvaluesequence result 
ioscheduler ios ioscheduler schedulers io int c ios size for int i 0 i 200 i simpleasync int c1 ios size if c 60 c1 throw new assertionerror worker leak c c1 
for int i 1 i 50 i testsubscriber integer ts new testsubscriber list flowable integer sourcelist new arraylist i set integer expected new hashset i for int j 1 j i j sourcelist add flowable just j subscribeon schedulers io expected add j flowable merge sourcelist i subscribe ts ts awaitdone 1 timeunit seconds ts assertnoerrors set integer actual new hashset ts values assertequals expected actual 
for int i 0 i 200 i simpleonelessasync 
long t system currenttimemillis for int i 2 i 50 i if system currenttimemillis t timeunit seconds tomillis 9 break testsubscriber integer ts new testsubscriber list flowable integer sourcelist new arraylist i set integer expected new hashset i for int j 1 j i j sourcelist add flowable just j subscribeon schedulers io expected add j flowable merge sourcelist i 1 subscribe ts ts awaitdone 1 timeunit seconds ts assertnoerrors set integer actual new hashset ts values assertequals expected actual 
list flowable integer sourcelist new arraylist 3 sourcelist add flowable range 0 subscribeon schedulers io sourcelist add flowable range 0 subscribeon schedulers io sourcelist add flowable range 0 subscribeon schedulers io final countdownlatch cdl new countdownlatch 5 testsubscriber integer ts new testsubscriber integer 0l override public void onnext integer t super onnext t cdl countdown flowable merge sourcelist 2 subscribe ts ts request 5 cdl await ts assertnoerrors ts assertvaluecount 5 ts assertnotcomplete ts cancel 
list flowable integer sourcelist new arraylist 3 sourcelist add flowable range 0 subscribeon schedulers io sourcelist add flowable range 0 subscribeon schedulers io sourcelist add flowable range 0 subscribeon schedulers io testsubscriber integer ts new testsubscriber flowable merge sourcelist 2 take 5 subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors ts assertvaluecount 5 
list throwable errors testhelper trackpluginerrors try final disposable d disposable empty flowable integer create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception e setdisposable d e onnext 1 e onnext 2 e onnext 3 e oncomplete e onerror new testexception first e onnext 4 e onerror new testexception second e oncomplete backpressurestrategy buffer test assertresult 1 2 3 asserttrue d isdisposed testhelper assertundeliverable errors 0 testexception class first testhelper assertundeliverable errors 1 testexception class second finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try final disposable d1 disposable empty final disposable d2 disposable empty flowable integer create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception e setdisposable d1 e setcancellable new cancellable override public void cancel throws exception d2 dispose e onnext 1 e onnext 2 e onnext 3 e oncomplete e onerror new testexception first e onnext 4 e onerror new testexception second e oncomplete backpressurestrategy buffer test assertresult 1 2 3 asserttrue d1 isdisposed asserttrue d2 isdisposed testhelper assertundeliverable errors 0 testexception class first testhelper assertundeliverable errors 1 testexception class second finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try final disposable d disposable empty flowable integer create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception e setdisposable d e onnext 1 e onnext 2 e onnext 3 e onerror new testexception e oncomplete e onnext 4 e onerror new testexception second backpressurestrategy buffer test assertfailure testexception class 1 2 3 asserttrue d isdisposed testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try final disposable d disposable empty flowable integer create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception e e serialize e setdisposable d e onnext 1 e onnext 2 e onnext 3 e oncomplete e onerror new testexception first e onnext 4 e onerror new testexception second e oncomplete backpressurestrategy buffer test assertresult 1 2 3 asserttrue d isdisposed testhelper assertundeliverable errors 0 testexception class first testhelper assertundeliverable errors 1 testexception class second finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try final disposable d disposable empty flowable integer create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception e e serialize e setdisposable d e onnext 1 e onnext 2 e onnext 3 e onerror new testexception e oncomplete e onnext 4 e onerror new testexception second backpressurestrategy buffer test assertfailure testexception class 1 2 3 asserttrue d isdisposed testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
flowable frompublisher new publisher integer override public void subscribe subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onnext 1 subscriber onnext 2 subscriber onnext 3 subscriber onnext 4 subscriber onnext 5 subscriber oncomplete test assertresult 1 2 3 4 5 
flowable unsafecreate new publisher integer override public void subscribe subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onnext 1 subscriber onnext 2 subscriber onnext 3 subscriber onnext 4 subscriber onnext 5 subscriber oncomplete test assertresult 1 2 3 4 5 
flowable unsafecreate flowable just 1 
list throwable errors testhelper trackpluginerrors try final throwable error null flowable create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception try e onnext null e onnext 1 e onerror new testexception e oncomplete catch throwable ex error 0 ex backpressurestrategy buffer test assertfailure nullpointerexception class assertnull error 0 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try final throwable error null flowable create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception try e onnext null e onnext 1 e onerror new testexception e oncomplete catch throwable ex error 0 ex backpressurestrategy latest test assertfailure nullpointerexception class assertnull error 0 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try final throwable error null flowable create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception try e onnext null e onnext 1 e onerror new testexception e oncomplete catch throwable ex error 0 ex backpressurestrategy error test assertfailure nullpointerexception class assertnull error 0 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try final throwable error null flowable create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception try e onnext null e onnext 1 e onerror new testexception e oncomplete catch throwable ex error 0 ex backpressurestrategy drop test assertfailure nullpointerexception class assertnull error 0 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try final throwable error null flowable create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception try e onnext null e onnext 1 e onerror new testexception e oncomplete catch throwable ex error 0 ex backpressurestrategy missing test assertfailure nullpointerexception class assertnull error 0 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try final throwable error null flowable create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception e e serialize try e onnext null e onnext 1 e onerror new testexception e oncomplete catch throwable ex error 0 ex backpressurestrategy buffer test assertfailure nullpointerexception class assertnull error 0 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try final throwable error null flowable create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception e e serialize try e onnext null e onnext 1 e onerror new testexception e oncomplete catch throwable ex error 0 ex backpressurestrategy latest test assertfailure nullpointerexception class assertnull error 0 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try final throwable error null flowable create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception e e serialize try e onnext null e onnext 1 e onerror new testexception e oncomplete catch throwable ex error 0 ex backpressurestrategy error test assertfailure nullpointerexception class assertnull error 0 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try final throwable error null flowable create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception e e serialize try e onnext null e onnext 1 e onerror new testexception e oncomplete catch throwable ex error 0 ex backpressurestrategy drop test assertfailure nullpointerexception class assertnull error 0 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try final throwable error null flowable create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception e e serialize try e onnext null e onnext 1 e onerror new testexception e oncomplete catch throwable ex error 0 ex backpressurestrategy missing test assertfailure nullpointerexception class assertnull error 0 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
for backpressurestrategy m backpressurestrategy values flowable object source flowable create new flowableonsubscribe object override public void subscribe flowableemitter object e throws exception final flowableemitter object f e serialize final testexception ex new testexception runnable r1 new runnable override public void run f onerror null runnable r2 new runnable override public void run f onerror ex testhelper race r1 r2 m list throwable errors testhelper trackpluginerrors try for int i 0 i testhelper race default loops i source test assertfailure throwable class finally rxjavaplugins reset assertfalse errors isempty 
for backpressurestrategy m backpressurestrategy values flowable object source flowable create new flowableonsubscribe object override public void subscribe flowableemitter object e throws exception final flowableemitter object f e serialize runnable r1 new runnable override public void run f oncomplete runnable r2 new runnable override public void run f oncomplete testhelper race r1 r2 m for int i 0 i testhelper race default loops i source test assertresult 
for backpressurestrategy m backpressurestrategy values flowable create new flowableonsubscribe object override public void subscribe flowableemitter object e throws exception e onnext null m test assertfailure nullpointerexception class 
for backpressurestrategy m backpressurestrategy values system out println m flowable create new flowableonsubscribe object override public void subscribe flowableemitter object e throws exception e onerror null m test assertfailure nullpointerexception class 
for backpressurestrategy m backpressurestrategy values flowable create new flowableonsubscribe object override public void subscribe flowableemitter object e throws exception final flowableemitter object f e serialize runnable r1 new runnable override public void run for int i 0 i 1000 i f onnext 1 runnable r2 new runnable override public void run for int i 0 i 100 i f onnext 1 f onerror new testexception testhelper race r1 r2 m to testhelper object testconsumer assertsubscribed assertnotcomplete asserterror testexception class 
for backpressurestrategy m backpressurestrategy values flowable create new flowableonsubscribe object override public void subscribe flowableemitter object e throws exception throw new testexception m test assertfailure testexception class 
for backpressurestrategy m backpressurestrategy values flowable create new flowableonsubscribe object override public void subscribe flowableemitter object e throws exception e serialize onnext null m test assertfailure nullpointerexception class 
for backpressurestrategy m backpressurestrategy values list throwable errors testhelper trackpluginerrors try final throwable error null flowable create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception try e onnext null e onnext 1 e onerror new testexception e oncomplete catch throwable ex error 0 ex m test assertfailure nullpointerexception class assertnull error 0 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
for backpressurestrategy m backpressurestrategy values flowable create new flowableonsubscribe object override public void subscribe flowableemitter object e throws exception disposable d disposable empty e setdisposable d try e onerror new ioexception fail should have thrown catch testexception ex asserttrue d isdisposed m subscribe new flowablesubscriber object override public void onsubscribe subscription s override public void onnext object value override public void onerror throwable e throw new testexception override public void oncomplete 
for backpressurestrategy m backpressurestrategy values flowable create new flowableonsubscribe object override public void subscribe flowableemitter object e throws exception disposable d disposable empty e setdisposable d try e oncomplete fail should have thrown catch testexception ex asserttrue d isdisposed m subscribe new flowablesubscriber object override public void onsubscribe subscription s override public void onnext object value override public void onerror throwable e override public void oncomplete throw new testexception 
for backpressurestrategy m backpressurestrategy values list throwable errors testhelper trackpluginerrors try final throwable error null flowable create new flowableonsubscribe integer override public void subscribe flowableemitter integer e throws exception e e serialize try e onnext null e onnext 1 e onerror new testexception e oncomplete catch throwable ex error 0 ex m test assertfailure nullpointerexception class assertnull error 0 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
for backpressurestrategy m backpressurestrategy values flowable create new flowableonsubscribe object override public void subscribe flowableemitter object e throws exception e serialize onerror null m test assertfailure nullpointerexception class 
for backpressurestrategy m backpressurestrategy values flowable create new flowableonsubscribe object override public void subscribe flowableemitter object e throws exception final flowableemitter object f e serialize runnable r1 new runnable override public void run for int i 0 i testhelper race default loops i f onnext 1 testhelper race r1 r1 m take testhelper race default loops to testhelper object testconsumer assertsubscribed assertvaluecount testhelper race default loops assertcomplete assertnoerrors 
for backpressurestrategy m backpressurestrategy values testsubscriberex object ts flowable create new flowableonsubscribe object override public void subscribe flowableemitter object e throws exception final flowableemitter object f e serialize runnable r1 new runnable override public void run for int i 0 i 1000 i f onnext 1 runnable r2 new runnable override public void run for int i 0 i 100 i f onnext 1 f oncomplete testhelper race r1 r2 m to testhelper object testconsumer assertsubscribed assertcomplete assertnoerrors int c ts values size asserttrue c c 100 
for backpressurestrategy m backpressurestrategy values list throwable errors testhelper trackpluginerrors try flowable create new flowableonsubscribe object override public void subscribe flowableemitter object e throws exception flowableemitter object f e serialize assertsame f f serialize assertfalse f iscancelled final int calls 0 f setcancellable new cancellable override public void cancel throws exception calls 0 e oncomplete asserttrue f iscancelled assertequals 1 calls 0 m test assertresult asserttrue errors tostring errors isempty finally rxjavaplugins reset 
for backpressurestrategy strategy backpressurestrategy values list throwable errors testhelper trackpluginerrors try final boolean response null flowable create new flowableonsubscribe object override public void subscribe flowableemitter object e throws exception e onnext 1 response 0 e tryonerror new testexception strategy take 1 test withtag strategy tostring assertresult 1 assertfalse response 0 asserttrue strategy errors tostring errors isempty finally rxjavaplugins reset 
for backpressurestrategy strategy backpressurestrategy values list throwable errors testhelper trackpluginerrors try final boolean response null flowable create new flowableonsubscribe object override public void subscribe flowableemitter object e throws exception e e serialize e onnext 1 response 0 e tryonerror new testexception strategy take 1 test withtag strategy tostring assertresult 1 assertfalse response 0 asserttrue strategy errors tostring errors isempty finally rxjavaplugins reset 
map backpressurestrategy class extends flowableemitter emittermap new hashmap emittermap put backpressurestrategy missing flowablecreate missingemitter class emittermap put backpressurestrategy error flowablecreate errorasyncemitter class emittermap put backpressurestrategy drop flowablecreate dropasyncemitter class emittermap put backpressurestrategy latest flowablecreate latestasyncemitter class emittermap put backpressurestrategy buffer flowablecreate bufferasyncemitter class for final map entry backpressurestrategy class extends flowableemitter entry emittermap entryset flowable create new flowableonsubscribe object override public void subscribe flowableemitter object emitter throws exception asserttrue emitter tostring contains entry getvalue getsimplename asserttrue emitter serialize tostring contains entry getvalue getsimplename entry getkey test assertempty 
atomicreference flowableemitter integer ref new atomicreference flowable integer create emitter emitter emitter serialize ref set emitter assertequals long max value emitter requested emitter onnext 1 backpressurestrategy missing doonnext v if v 1 ref get onnext 2 ref get oncomplete test assertresult 1 2 
testhelper flowable create e backpressurestrategy buffer 
flowable create emitter emitter tryonerror null backpressurestrategy missing test assertfailure nullpointerexception class 
testsubscriber integer ts new testsubscriber flowable integer create emitter emitter emitter serialize emitter oncomplete emitter onnext 1 backpressurestrategy missing subscribe ts ts assertresult 
testsubscriber integer ts new testsubscriber flowable integer create emitter emitter emitter serialize ts cancel emitter onnext 1 backpressurestrategy missing subscribe ts ts assertempty 
subscriber testhelper mocksubscriber subscriber2 testhelper mocksubscriber scheduler new testscheduler 
flowable long source flowable interval 1l timeunit seconds scheduler take 3 flowable long delayed source delay 500l timeunit milliseconds scheduler delayed subscribe subscriber inorder inorder inorder subscriber scheduler advancetimeto 1499l timeunit milliseconds verify subscriber never onnext anylong verify subscriber never oncomplete verify subscriber never onerror any throwable class scheduler advancetimeto 1500l timeunit milliseconds inorder verify subscriber times 1 onnext 0l inorder verify subscriber never onnext anylong verify subscriber never oncomplete verify subscriber never onerror any throwable class scheduler advancetimeto 2400l timeunit milliseconds inorder verify subscriber never onnext anylong verify subscriber never oncomplete verify subscriber never onerror any throwable class scheduler advancetimeto 2500l timeunit milliseconds inorder verify subscriber times 1 onnext 1l inorder verify subscriber never onnext anylong verify subscriber never oncomplete verify subscriber never onerror any throwable class scheduler advancetimeto 3400l timeunit milliseconds inorder verify subscriber never onnext anylong verify subscriber never oncomplete verify subscriber never onerror any throwable class scheduler advancetimeto 3500l timeunit milliseconds inorder verify subscriber times 1 onnext 2l verify subscriber times 1 oncomplete verify subscriber never onerror any throwable class 
flowable long source flowable interval 1l timeunit seconds scheduler take 3 flowable long delayed source delay 5l timeunit seconds scheduler delayed subscribe subscriber inorder inorder inorder subscriber scheduler advancetimeto 5999l timeunit milliseconds verify subscriber never onnext anylong verify subscriber never oncomplete verify subscriber never onerror any throwable class scheduler advancetimeto 6000l timeunit milliseconds inorder verify subscriber times 1 onnext 0l scheduler advancetimeto 6999l timeunit milliseconds inorder verify subscriber never onnext anylong scheduler advancetimeto 7000l timeunit milliseconds inorder verify subscriber times 1 onnext 1l scheduler advancetimeto 7999l timeunit milliseconds inorder verify subscriber never onnext anylong scheduler advancetimeto 8000l timeunit milliseconds inorder verify subscriber times 1 onnext 2l inorder verify subscriber times 1 oncomplete inorder verify subscriber never onnext anylong inorder verify subscriber never oncomplete verify subscriber never onerror any throwable class 
flowable long source flowable interval 1l timeunit seconds scheduler map new function long long override public long apply long value if value 1l throw new runtimeexception error return value flowable long delayed source delay 1l timeunit seconds scheduler delayed subscribe subscriber inorder inorder inorder subscriber scheduler advancetimeto 1999l timeunit milliseconds verify subscriber never onnext anylong verify subscriber never oncomplete verify subscriber never onerror any throwable class scheduler advancetimeto 2000l timeunit milliseconds inorder verify subscriber times 1 onerror any throwable class inorder verify subscriber never onnext anylong verify subscriber never oncomplete scheduler advancetimeto 5000l timeunit milliseconds inorder verify subscriber never onnext anylong inorder verify subscriber never onerror any throwable class verify subscriber never oncomplete 
flowable long source flowable interval 1l timeunit seconds scheduler take 3 flowable long delayed source delay 500l timeunit milliseconds scheduler delayed subscribe subscriber delayed subscribe subscriber2 inorder inorder inorder subscriber inorder inorder2 inorder subscriber2 scheduler advancetimeto 1499l timeunit milliseconds verify subscriber never onnext anylong verify subscriber2 never onnext anylong scheduler advancetimeto 1500l timeunit milliseconds inorder verify subscriber times 1 onnext 0l inorder2 verify subscriber2 times 1 onnext 0l scheduler advancetimeto 2499l timeunit milliseconds inorder verify subscriber never onnext anylong inorder2 verify subscriber2 never onnext anylong scheduler advancetimeto 2500l timeunit milliseconds inorder verify subscriber times 1 onnext 1l inorder2 verify subscriber2 times 1 onnext 1l verify subscriber never oncomplete verify subscriber2 never oncomplete scheduler advancetimeto 3500l timeunit milliseconds inorder verify subscriber times 1 onnext 2l inorder2 verify subscriber2 times 1 onnext 2l inorder verify subscriber never onnext anylong inorder2 verify subscriber2 never onnext anylong inorder verify subscriber times 1 oncomplete inorder2 verify subscriber2 times 1 oncomplete verify subscriber never onerror any throwable class verify subscriber2 never onerror any throwable class 
flowable integer result flowable just 1 2 3 delaysubscription 100 timeunit milliseconds scheduler subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber result subscribe subscriber inorder verify subscriber never onnext any inorder verify subscriber never oncomplete scheduler advancetimeby 100 timeunit milliseconds inorder verify subscriber times 1 onnext 1 inorder verify subscriber times 1 onnext 2 inorder verify subscriber times 1 onnext 3 inorder verify subscriber times 1 oncomplete verify subscriber never onerror any throwable class 
flowable integer result flowable just 1 2 3 delaysubscription 100 timeunit milliseconds scheduler subscriber object subscriber testhelper mocksubscriber testsubscriber object ts new testsubscriber subscriber result subscribe ts ts cancel scheduler advancetimeby 100 timeunit milliseconds verify subscriber never onnext any verify subscriber never oncomplete verify subscriber never onerror any throwable class 
publishprocessor integer source publishprocessor create final list publishprocessor integer delays new arraylist final int n 10 for int i 0 i n i publishprocessor integer delay publishprocessor create delays add delay function integer flowable integer delayfunc new function integer flowable integer override public flowable integer apply integer t1 return delays get t1 subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber source delay delayfunc subscribe subscriber for int i 0 i n i source onnext i delays get i onnext i inorder verify subscriber onnext i source oncomplete inorder verify subscriber oncomplete inorder verify subscriber never onerror any throwable class 
publishprocessor integer source publishprocessor create final publishprocessor integer delay publishprocessor create function integer flowable integer delayfunc new function integer flowable integer override public flowable integer apply integer t1 return delay subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber source delay delayfunc subscribe subscriber source onnext 1 delay onnext 1 delay onnext 2 inorder verify subscriber onnext 1 inorder verify subscriber never onerror any throwable class 
publishprocessor integer source publishprocessor create final publishprocessor integer delay publishprocessor create function integer flowable integer delayfunc new function integer flowable integer override public flowable integer apply integer t1 return delay subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber source delay delayfunc subscribe subscriber source onnext 1 source onerror new testexception delay onnext 1 inorder verify subscriber onerror any testexception class inorder verify subscriber never onnext any verify subscriber never oncomplete 
publishprocessor integer source publishprocessor create function integer flowable integer delayfunc new function integer flowable integer override public flowable integer apply integer t1 throw new testexception subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber source delay delayfunc subscribe subscriber source onnext 1 inorder verify subscriber onerror any testexception class inorder verify subscriber never onnext any verify subscriber never oncomplete 
publishprocessor integer source publishprocessor create final publishprocessor integer delay publishprocessor create function integer flowable integer delayfunc new function integer flowable integer override public flowable integer apply integer t1 return delay subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber source delay delayfunc subscribe subscriber source onnext 1 delay onerror new testexception inorder verify subscriber onerror any testexception class inorder verify subscriber never onnext any verify subscriber never oncomplete 
publishprocessor integer source publishprocessor create final publishprocessor integer delay publishprocessor create function integer flowable integer delayfunc new function integer flowable integer override public flowable integer apply integer t1 return delay subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber source delay delay delayfunc subscribe subscriber source onnext 1 delay onnext 1 source onnext 2 delay onnext 2 inorder verify subscriber onnext 2 inorder verify subscriber never onerror any throwable class verify subscriber never oncomplete 
publishprocessor integer source publishprocessor create final publishprocessor integer delay publishprocessor create supplier flowable integer subfunc new supplier flowable integer override public flowable integer get throw new testexception function integer flowable integer delayfunc new function integer flowable integer override public flowable integer apply integer t1 return delay subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber source delay flowable defer subfunc delayfunc subscribe subscriber source onnext 1 delay onnext 1 source onnext 2 inorder verify subscriber onerror any testexception class inorder verify subscriber never onnext any verify subscriber never oncomplete 
publishprocessor integer source publishprocessor create final publishprocessor integer delay publishprocessor create supplier flowable integer subfunc new supplier flowable integer override public flowable integer get return delay function integer flowable integer delayfunc new function integer flowable integer override public flowable integer apply integer t1 return delay subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber source delay flowable defer subfunc delayfunc subscribe subscriber source onnext 1 delay onerror new testexception source onnext 2 inorder verify subscriber onerror any testexception class inorder verify subscriber never onnext any verify subscriber never oncomplete 
publishprocessor integer source publishprocessor create function integer flowable integer delayfunc new function integer flowable integer override public flowable integer apply integer t1 return flowable empty subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber source delay delayfunc subscribe subscriber source onnext 1 source oncomplete inorder verify subscriber onnext 1 inorder verify subscriber oncomplete inorder verify subscriber never onerror any throwable class 
publishprocessor integer source publishprocessor create final publishprocessor integer sdelay publishprocessor create final publishprocessor integer delay publishprocessor create supplier flowable integer subfunc new supplier flowable integer override public flowable integer get return sdelay function integer flowable integer delayfunc new function integer flowable integer override public flowable integer apply integer t1 return delay subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber source delay flowable defer subfunc delayfunc subscribe subscriber source onnext 1 sdelay oncomplete source onnext 2 delay onnext 2 inorder verify subscriber onnext 2 inorder verify subscriber never onerror any throwable class verify subscriber never oncomplete 
flowable long source flowable interval 1l timeunit seconds scheduler take 3 final flowable long delayer flowable timer 500l timeunit milliseconds scheduler function long flowable long delayfunc new function long flowable long override public flowable long apply long t1 return delayer flowable long delayed source delay delayfunc delayed subscribe subscriber inorder inorder inorder subscriber scheduler advancetimeto 1499l timeunit milliseconds verify subscriber never onnext anylong verify subscriber never oncomplete verify subscriber never onerror any throwable class scheduler advancetimeto 1500l timeunit milliseconds inorder verify subscriber times 1 onnext 0l inorder verify subscriber never onnext anylong verify subscriber never oncomplete verify subscriber never onerror any throwable class scheduler advancetimeto 2400l timeunit milliseconds inorder verify subscriber never onnext anylong verify subscriber never oncomplete verify subscriber never onerror any throwable class scheduler advancetimeto 2500l timeunit milliseconds inorder verify subscriber times 1 onnext 1l inorder verify subscriber never onnext anylong verify subscriber never oncomplete verify subscriber never onerror any throwable class scheduler advancetimeto 3400l timeunit milliseconds inorder verify subscriber never onnext anylong verify subscriber never oncomplete verify subscriber never onerror any throwable class scheduler advancetimeto 3500l timeunit milliseconds inorder verify subscriber times 1 onnext 2l verify subscriber times 1 oncomplete verify subscriber never onerror any throwable class 
int n 3 publishprocessor integer source publishprocessor create final list publishprocessor integer subjects new arraylist for int i 0 i n i subjects add publishprocessor integer create flowable integer result source delay new function integer flowable integer override public flowable integer apply integer t1 return subjects get t1 subscriber object subscriber testhelper mocksubscriber inorder inorder inorder subscriber result subscribe subscriber for int i 0 i n i source onnext i source oncomplete inorder verify subscriber never onnext anyint inorder verify subscriber never oncomplete for int i n 1 i 0 i subjects get i oncomplete inorder verify subscriber onnext i inorder verify subscriber oncomplete verify subscriber never onerror any throwable class 
flowable integer source flowable range 1 5 flowable integer delayed source delay 500l timeunit milliseconds scheduler delayed delayed dooneach new consumer notification integer override public void accept notification integer t1 system out println t1 testsubscriber integer ts new testsubscriber delayed subscribe ts scheduler advancetimeby 500l timeunit milliseconds ts assertvalues 1 2 3 4 5 
testsubscriber integer ts new testsubscriber flowable range 1 flowable buffersize 2 delay 100 timeunit milliseconds observeon schedulers computation map new function integer integer int c override public integer apply integer t if c 0 try thread sleep 500 catch interruptedexception e return t subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors assertequals flowable buffersize 2 ts values size 
testsubscriber integer ts new testsubscriber flowable range 1 flowable buffersize 2 delaysubscription 100 timeunit milliseconds delay 100 timeunit milliseconds observeon schedulers computation map new function integer integer int c override public integer apply integer t if c 0 try thread sleep 500 catch interruptedexception e return t subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors assertequals flowable buffersize 2 ts values size 
testsubscriber integer ts new testsubscriber flowable range 1 flowable buffersize 2 delay new function integer flowable long override public flowable long apply integer i return flowable timer 100 timeunit milliseconds observeon schedulers computation map new function integer integer int c override public integer apply integer t if c 0 try thread sleep 500 catch interruptedexception e return t subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors assertequals flowable buffersize 2 ts values size 
testsubscriber integer ts new testsubscriber flowable range 1 flowable buffersize 2 delay flowable defer new supplier flowable long override public flowable long get return flowable timer 500 timeunit milliseconds new function integer flowable long override public flowable long apply integer i return flowable timer 100 timeunit milliseconds observeon schedulers computation map new function integer integer int c override public integer apply integer t if c 0 try thread sleep 500 catch interruptedexception e return t subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors assertequals flowable buffersize 2 ts values size 
testscheduler test new testscheduler publishprocessor integer pp publishprocessor create testsubscriber integer ts new testsubscriber pp delay 1 timeunit seconds test subscribe ts pp onnext 1 test advancetimeby 500 timeunit milliseconds pp onerror new testexception test advancetimeby 1 timeunit seconds ts assertnovalues ts asserterror testexception class ts assertnotcomplete 
final publishprocessor integer pp publishprocessor create flowable integer source flowable range 1 5 testsubscriber integer ts new testsubscriber source delaysubscription flowable defer new supplier publisher integer override public publisher integer get return pp subscribe ts ts assertnovalues ts assertnoerrors ts assertnotcomplete pp onnext 1 ts assertvalues 1 2 3 4 5 ts assertcomplete ts assertnoerrors 
final publishprocessor integer pp publishprocessor create flowable integer source flowable range 1 5 testsubscriber integer ts new testsubscriber source delaysubscription flowable defer new supplier publisher integer override public publisher integer get return pp subscribe ts ts assertnovalues ts assertnoerrors ts assertnotcomplete pp oncomplete ts assertvalues 1 2 3 4 5 ts assertcomplete ts assertnoerrors 
final publishprocessor integer pp publishprocessor create flowable integer source flowable range 1 5 testsubscriber integer ts new testsubscriber source delaysubscription flowable defer new supplier publisher integer override public publisher integer get return pp subscribe ts ts assertnovalues ts assertnoerrors ts assertnotcomplete pp onerror new testexception ts assertnovalues ts assertnotcomplete ts asserterror testexception class 
publishprocessor integer delayuntil publishprocessor create publishprocessor integer interrupt publishprocessor create final atomicboolean subscribed new atomicboolean false flowable just 1 doonsubscribe new consumer object override public void accept object o subscribed set true delaysubscription delayuntil takeuntil interrupt subscribe interrupt onnext 9000 delayuntil onnext 1 assert assertfalse subscribed get 
flowable just 1 concatwith flowable integer error new testexception delay 100 timeunit milliseconds true test awaitdone 5 timeunit seconds assertfailure testexception class 1 
flowable integer result flowable just 1 2 3 delaysubscription 100 timeunit milliseconds scheduler subscriber object subscriber testhelper mocksubscriber testsubscriber object ts new testsubscriber subscriber result subscribe ts ts cancel scheduler advancetimeby 100 timeunit milliseconds verify subscriber never onnext any verify subscriber never oncomplete verify subscriber never onerror any throwable class 
final countdownlatch latch new countdownlatch 1 final atomicreference thread thread new atomicreference flowable string error new exception delay 0 timeunit milliseconds schedulers newthread doonerror new consumer throwable override public void accept throwable throwable throws exception thread set thread currentthread latch countdown onerrorresumewith flowable string empty subscribe latch await assertnotequals thread currentthread thread get 
testhelper checkdisposed publishprocessor create delay 1 timeunit seconds testhelper checkdisposed publishprocessor create delay functions justfunction flowable never 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f delay 1 timeunit seconds testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f delay functions justfunction flowable never 
testscheduler scheduler new testscheduler flowable empty delay 1 timeunit milliseconds scheduler subscribe new disposablesubscriber object override public void onnext object value override public void onerror throwable e override public void oncomplete throw new testexception try scheduler advancetimeby 1 timeunit seconds fail should have thrown catch testexception ex 
testscheduler scheduler new testscheduler flowable error new testexception delay 1 timeunit milliseconds scheduler subscribe new disposablesubscriber object override public void onnext object value override public void onerror throwable e throw new testexception override public void oncomplete try scheduler advancetimeby 1 timeunit seconds fail should have thrown catch testexception ex 
flowable just 1 delay new function integer publisher object override public publisher object apply integer t throws exception return null to testhelper integer testconsumer nullpointerexception class the itemdelay returned a null publisher 
final atomicinteger atomicinteger new atomicinteger flowable fromrunnable new runnable override public void run atomicinteger incrementandget test assertresult assertequals 1 atomicinteger get 
final atomicinteger atomicinteger new atomicinteger runnable run new runnable override public void run atomicinteger incrementandget flowable fromrunnable run test assertresult assertequals 1 atomicinteger get flowable fromrunnable run test assertresult assertequals 2 atomicinteger get 
final atomicinteger atomicinteger new atomicinteger flowable object source flowable fromrunnable new runnable override public void run atomicinteger incrementandget assertequals 0 atomicinteger get source test assertresult assertequals 1 atomicinteger get 
flowable fromrunnable new runnable override public void run throw new test assertfailure class 
final int counter 0 flowable void m flowable fromrunnable new runnable override public void run counter 0 asserttrue m getclass tostring m instanceof supplier assertnull supplier void m get assertequals 1 counter 0 
list throwable errors testhelper trackpluginerrors try final countdownlatch cdl1 new countdownlatch 1 final countdownlatch cdl2 new countdownlatch 1 testsubscriber object ts flowable fromrunnable new runnable override public void run cdl1 countdown try cdl2 await 5 timeunit seconds catch interruptedexception e e printstacktrace throw new testexception e subscribeon schedulers single test asserttrue cdl1 await 5 timeunit seconds ts cancel int timeout 10 while timeout 0 errors isempty thread sleep 100 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
runnable run mock runnable class flowable fromrunnable run test 1l true assertempty verify run never run 
final testsubscriber object ts new testsubscriber flowable fromrunnable new runnable override public void run ts cancel subscribewith ts assertempty asserttrue ts iscancelled 
testsubscriberex object ts new testsubscriberex ts setinitialfusionmode queuefuseable async runnable action mock runnable class flowable fromrunnable action subscribe ts ts assertfusionmode queuefuseable async assertresult verify action run 
testsubscriberex object ts new testsubscriberex ts setinitialfusionmode queuefuseable sync runnable action mock runnable class flowable fromrunnable action subscribe ts ts assertfusionmode queuefuseable none assertresult verify action run 
asserttrue flowable empty ignoreelements toflowable isempty blockingget 
asserttrue flowable just 1 2 3 ignoreelements toflowable isempty blockingget 
final int num 10 final atomicinteger upstreamcount new atomicinteger long count flowable range 1 num doonnext new consumer integer override public void accept integer t upstreamcount incrementandget ignoreelements toflowable count blockingget assertequals num upstreamcount get assertequals 0 count 
testsubscriberex object ts new testsubscriberex flowable range 1 10 ignoreelements toflowable subscribe ts ts assertnoerrors ts assertnovalues ts assertterminated 
testsubscriberex object ts new testsubscriberex testexception ex new testexception boo flowable error ex ignoreelements toflowable subscribe ts ts assertnovalues ts assertterminated ts asserterror testexception class ts asserterrormessage boo 
final atomicboolean unsub new atomicboolean flowable range 1 10 concatwith flowable integer never dooncancel new action override public void run unsub set true ignoreelements toflowable subscribe dispose asserttrue unsub get 
final atomicinteger upstreamcount new atomicinteger final atomicinteger count new atomicinteger 0 int num 10 flowable range 1 num doonnext new consumer integer override public void accept integer t upstreamcount incrementandget ignoreelements integer toflowable doonnext new consumer integer override public void accept integer t upstreamcount incrementandget subscribe new defaultsubscriber integer override public void onstart request 1 override public void oncomplete override public void onerror throwable e override public void onnext integer t count incrementandget assertequals num upstreamcount get assertequals 0 count get 
flowable empty ignoreelements blockingawait 
flowable just 1 2 3 ignoreelements blockingawait 
final int num 10 final atomicinteger upstreamcount new atomicinteger flowable range 1 num doonnext new consumer integer override public void accept integer t upstreamcount incrementandget ignoreelements blockingawait assertequals num upstreamcount get 
testobserverex object to new testobserverex flowable range 1 10 ignoreelements subscribe to to assertnoerrors to assertnovalues to assertterminated 
testobserverex object to new testobserverex testexception ex new testexception boo flowable error ex ignoreelements subscribe to to assertnovalues to assertterminated to asserterror testexception class to asserterrormessage boo 
final atomicboolean unsub new atomicboolean flowable range 1 10 concatwith flowable integer never dooncancel new action override public void run unsub set true ignoreelements subscribe dispose asserttrue unsub get 
final atomicinteger upstreamcount new atomicinteger final atomicinteger count new atomicinteger 0 int num 10 flowable range 1 num doonnext new consumer integer override public void accept integer t upstreamcount incrementandget ignoreelements subscribe new override public void oncomplete override public void onerror throwable e assertequals num upstreamcount get assertequals 0 count get 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp ignoreelements integer toflowable test asserttrue pp hassubscribers ts cancel assertfalse pp hassubscribers 
testsubscriberex integer ts new testsubscriberex integer setinitialfusionmode queuefuseable any flowable just 1 hide ignoreelements integer toflowable subscribe ts ts assertfuseable assertfusionmode queuefuseable async assertresult 
flowable just 1 hide ignoreelements integer toflowable subscribe new flowablesubscriber integer override public void onsubscribe subscription s suppresswarnings unchecked queuesubscription integer qs queuesubscription integer s try assertnull qs poll catch throwable ex throw new assertionerror ex asserttrue qs isempty qs clear asserttrue qs isempty try assertnull qs poll catch throwable ex throw new assertionerror ex try qs offer 1 fail should have thrown catch ex try qs offer 1 2 fail should have thrown catch ex override public void onnext integer t override public void onerror throwable t override public void oncomplete 
testhelper checkdisposed flowable just 1 ignoreelements testhelper checkdisposed flowable just 1 ignoreelements toflowable 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f ignoreelements toflowable testhelper new function flowable object completable override public completable apply flowable object f throws exception return f ignoreelements 
assert assertequals 0 flowable empty count toflowable blockinglast intvalue assert assertequals 1 flowable just 1 count toflowable blockinglast intvalue assert assertequals 10 flowable range 1 10 count toflowable blockinglast intvalue 
assert assertequals 0 flowable empty count blockingget intvalue assert assertequals 1 flowable just 1 count blockingget intvalue assert assertequals 10 flowable range 1 10 count blockingget intvalue 
testhelper checkdisposed flowable just 1 count testhelper checkdisposed flowable just 1 count toflowable 
testhelper new function flowable object flowable long override public flowable long apply flowable object f throws exception return f count toflowable testhelper new function flowable object singlesource long override public singlesource long apply flowable object f throws exception return f count 
scheduler new testscheduler innerscheduler scheduler createworker subscriber testhelper mocksubscriber 
flowable string source flowable unsafecreate new publisher string override public void subscribe subscriber super string subscriber subscriber onsubscribe new booleansubscription publishnext subscriber 100 one publishnext subscriber 300 two publishnext subscriber 900 three publishnext subscriber 905 four publishcompleted subscriber 1000 flowable string sampled source throttlefirst 400 timeunit milliseconds scheduler sampled subscribe subscriber inorder inorder inorder subscriber scheduler advancetimeto 1000 timeunit milliseconds inorder verify subscriber times 1 onnext one inorder verify subscriber times 0 onnext two inorder verify subscriber times 1 onnext three inorder verify subscriber times 0 onnext four inorder verify subscriber times 1 oncomplete inorder 
flowable string source flowable unsafecreate new publisher string override public void subscribe subscriber super string subscriber subscriber onsubscribe new booleansubscription exception error new testexception publishnext subscriber 100 one publishnext subscriber 200 two publisherror subscriber 300 error flowable string sampled source throttlefirst 400 timeunit milliseconds scheduler sampled subscribe subscriber inorder inorder inorder subscriber scheduler advancetimeto 400 timeunit milliseconds inorder verify subscriber onnext one inorder verify subscriber onerror any testexception class inorder 
subscriber integer subscriber testhelper mocksubscriber testscheduler s new testscheduler publishprocessor integer o publishprocessor create o throttlefirst 500 timeunit milliseconds s subscribe subscriber s advancetimeto 0 timeunit milliseconds o onnext 1 o onnext 2 s advancetimeto 501 timeunit milliseconds o onnext 3 s advancetimeto 600 timeunit milliseconds o onnext 4 s advancetimeto 700 timeunit milliseconds o onnext 5 o onnext 6 s advancetimeto 1001 timeunit milliseconds o onnext 7 s advancetimeto 1501 timeunit milliseconds o oncomplete inorder inorder inorder subscriber inorder verify subscriber onnext 1 inorder verify subscriber onnext 3 inorder verify subscriber onnext 7 inorder verify subscriber oncomplete inorder 
flowable just 1 throttlefirst 100 timeunit milliseconds test awaitdone 5 timeunit seconds assertresult 1 
testhelper checkdisposed flowable just 1 throttlefirst 1 timeunit days 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onnext 1 subscriber onnext 2 subscriber oncomplete subscriber onnext 3 subscriber onerror new testexception subscriber oncomplete throttlefirst 1 timeunit days test assertresult 1 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
flowable range 1 3 throttlefirst 1 timeunit minutes test 0l assertfailure class 
testhelper flowable never throttlefirst 1 timeunit minutes 
testhelper f f throttlefirst 1 timeunit minutes 
suppresswarnings unchecked future object future mock future class object value new object when future get thenreturn value subscriber object subscriber testhelper mocksubscriber testsubscriber object ts new testsubscriber subscriber flowable fromfuture future subscribe ts ts cancel verify subscriber times 1 onnext value verify subscriber times 1 oncomplete verify subscriber never onerror any throwable class verify future never cancel anyboolean 
suppresswarnings unchecked future object future mock future class object value new object when future get thenreturn value subscriber object subscriber testhelper mocksubscriber testscheduler scheduler new testscheduler testsubscriber object ts new testsubscriber subscriber flowable fromfuture future subscribeon scheduler subscribe ts verify subscriber never onnext value scheduler triggeractions verify subscriber times 1 onnext value 
suppresswarnings unchecked future object future mock future class runtimeexception e new runtimeexception when future get thenthrow e subscriber object subscriber testhelper mocksubscriber testsubscriber object ts new testsubscriber subscriber flowable fromfuture future subscribe ts ts cancel verify subscriber never onnext null verify subscriber never oncomplete verify subscriber times 1 onerror e verify future never cancel anyboolean 
suppresswarnings unchecked future object future mock future class e new unit test synthetic cancellation when future get thenthrow e subscriber object subscriber testhelper mocksubscriber testsubscriber object ts new testsubscriber subscriber ts cancel flowable fromfuture future subscribe ts ts assertnoerrors ts assertnotcomplete 
future object future new future object private atomicboolean iscancelled new atomicboolean false private atomicboolean isdone new atomicboolean false override public boolean cancel boolean iscancelled compareandset false true return true override public boolean iscancelled return iscancelled get override public boolean isdone return iscancelled isdone get override public object get throws interruptedexception executionexception thread sleep 500 isdone compareandset false true return foo override public object get long timeout timeunit unit throws interruptedexception executionexception timeoutexception return get subscriber object subscriber testhelper mocksubscriber testsubscriber object ts new testsubscriber subscriber flowable object futureobservable flowable fromfuture future futureobservable subscribeon schedulers computation subscribe ts thread sleep 100 ts cancel ts assertnoerrors ts assertnovalues ts assertnotcomplete 
testsubscriber integer ts new testsubscriber 0 futuretask integer f new futuretask new runnable override public void run 1 f run flowable fromfuture f subscribe ts ts assertnovalues ts request 1 ts assertvalue 1 ts assertnoerrors ts assertcomplete 
futuretask integer task new futuretask new runnable override public void run 1 task run testsubscriber integer ts testsubscriber create flowable fromfuture task 1 timeunit seconds subscribe ts ts assertvalue 1 ts assertnoerrors ts assertcomplete 
futuretask integer task new futuretask new runnable override public void run 1 testsubscriber integer ts testsubscriber create flowable fromfuture task 10 timeunit milliseconds subscribe ts ts assertnovalues ts asserterror timeoutexception class ts assertnotcomplete 
futuretask integer task new futuretask new runnable override public void run 1 testsubscriber integer ts testsubscriber create flowable fromfuture task subscribeon schedulers computation subscribe ts task run ts awaitdone 5 timeunit seconds ts assertvalue 1 ts assertnoerrors ts assertcomplete 
final testsubscriber integer ts new testsubscriber flowable range 1 5 concatwith single just 100 subscribe ts ts assertresult 1 2 3 4 5 100 
flowable range 1 5 concatwith single just 100 test 0 assertempty requestmore 3 assertvalues 1 2 3 requestmore 2 assertvalues 1 2 3 4 5 requestmore 1 assertresult 1 2 3 4 5 100 
final testsubscriber integer ts new testsubscriber flowable integer error new testexception concatwith single just 100 subscribe ts ts assertfailure testexception class 
final testsubscriber integer ts new testsubscriber flowable range 1 5 concatwith single integer error new testexception subscribe ts ts assertfailure testexception class 1 2 3 4 5 
final testsubscriber integer ts new testsubscriber flowable range 1 5 concatwith single just 100 take 3 subscribe ts ts assertresult 1 2 3 
singlesubject object other singlesubject create testsubscriber object ts flowable empty concatwith other test asserttrue other hasobservers ts cancel assertfalse other hasobservers 
w testhelper mocksubscriber wo testhelper mocksingleobserver wm testhelper mockmaybeobserver 
flowable string src flowable empty src first default toflowable subscribe w verify w times 1 onnext anystring verify w times 1 onnext default verify w never onerror any throwable class verify w times 1 oncomplete 
flowable string src flowable just a b c src first default toflowable subscribe w verify w times 1 onnext anystring verify w times 1 onnext a verify w never onerror any throwable class verify w times 1 oncomplete 
flowable string src flowable just a b c src filter is d first default toflowable subscribe w verify w times 1 onnext anystring verify w times 1 onnext default verify w never onerror any throwable class verify w times 1 oncomplete 
flowable string src flowable just a b c d e f src filter is d first default toflowable subscribe w verify w times 1 onnext anystring verify w times 1 onnext d verify w never onerror any throwable class verify w times 1 oncomplete 
flowable integer flowable flowable just 1 2 3 firstelement toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onnext 1 inorder verify subscriber times 1 oncomplete inorder 
flowable integer flowable flowable just 1 firstelement toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onnext 1 inorder verify subscriber times 1 oncomplete inorder 
flowable integer flowable flowable integer empty firstelement toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber oncomplete inorder verify subscriber never onerror any throwable class inorder 
flowable integer flowable flowable just 1 2 3 4 5 6 filter new predicate integer override public boolean test integer t1 return t1 2 0 firstelement toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onnext 2 inorder verify subscriber times 1 oncomplete inorder 
flowable integer flowable flowable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 firstelement toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onnext 2 inorder verify subscriber times 1 oncomplete inorder 
flowable integer flowable flowable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 firstelement toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber oncomplete inorder verify subscriber never onerror any throwable class inorder 
flowable integer flowable flowable just 1 2 3 first 4 toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onnext 1 inorder verify subscriber times 1 oncomplete inorder 
flowable integer flowable flowable just 1 first 2 toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onnext 1 inorder verify subscriber times 1 oncomplete inorder 
flowable integer flowable flowable integer empty first 1 toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onnext 1 inorder verify subscriber times 1 oncomplete inorder 
flowable integer flowable flowable just 1 2 3 4 5 6 filter new predicate integer override public boolean test integer t1 return t1 2 0 first 8 toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onnext 2 inorder verify subscriber times 1 oncomplete inorder 
flowable integer flowable flowable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 first 4 toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onnext 2 inorder verify subscriber times 1 oncomplete inorder 
flowable integer flowable flowable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 first 2 toflowable subscriber integer subscriber testhelper mocksubscriber flowable subscribe subscriber inorder inorder inorder subscriber inorder verify subscriber times 1 onnext 2 inorder verify subscriber times 1 oncomplete inorder 
flowable string src flowable empty src first default subscribe wo verify wo times 1 onsuccess anystring verify wo times 1 onsuccess default verify wo never onerror any throwable class 
flowable string src flowable just a b c src first default subscribe wo verify wo times 1 onsuccess anystring verify wo times 1 onsuccess a verify wo never onerror any throwable class 
flowable string src flowable just a b c src filter is d first default subscribe wo verify wo times 1 onsuccess anystring verify wo times 1 onsuccess default verify wo never onerror any throwable class 
flowable string src flowable just a b c d e f src filter is d first default subscribe wo verify wo times 1 onsuccess anystring verify wo times 1 onsuccess d verify wo never onerror any throwable class 
maybe integer maybe flowable just 1 2 3 firstelement maybe subscribe wm inorder inorder inorder wm inorder verify wm times 1 onsuccess 1 inorder 
maybe integer maybe flowable just 1 firstelement maybe subscribe wm inorder inorder inorder wm inorder verify wm times 1 onsuccess 1 inorder 
maybe integer maybe flowable integer empty firstelement maybe subscribe wm inorder inorder inorder wm inorder verify wm oncomplete inorder verify wm never onerror any throwable class inorder 
maybe integer maybe flowable just 1 2 3 4 5 6 filter new predicate integer override public boolean test integer t1 return t1 2 0 firstelement maybe subscribe wm inorder inorder inorder wm inorder verify wm times 1 onsuccess 2 inorder 
maybe integer maybe flowable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 firstelement maybe subscribe wm inorder inorder inorder wm inorder verify wm times 1 onsuccess 2 inorder 
maybe integer maybe flowable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 firstelement maybe subscribe wm inorder inorder inorder wm inorder verify wm oncomplete inorder verify wm never onerror any throwable class inorder 
single integer single flowable just 1 2 3 first 4 single subscribe wo inorder inorder inorder wo inorder verify wo times 1 onsuccess 1 inorder 
single integer single flowable just 1 first 2 single subscribe wo inorder inorder inorder wo inorder verify wo times 1 onsuccess 1 inorder 
single integer single flowable integer empty first 1 single subscribe wo inorder inorder inorder wo inorder verify wo times 1 onsuccess 1 inorder 
single integer single flowable just 1 2 3 4 5 6 filter new predicate integer override public boolean test integer t1 return t1 2 0 first 8 single subscribe wo inorder inorder inorder wo inorder verify wo times 1 onsuccess 2 inorder 
single integer single flowable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 first 4 single subscribe wo inorder inorder inorder wo inorder verify wo times 1 onsuccess 2 inorder 
single integer single flowable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 first 2 single subscribe wo inorder inorder inorder wo inorder verify wo times 1 onsuccess 2 inorder 
flowable empty firstorerror test assertnovalues asserterror class 
flowable just 1 firstorerror test assertnoerrors assertvalue 1 
flowable just 1 2 3 firstorerror test assertnoerrors assertvalue 1 
flowable error new runtimeexception error firstorerror to testhelper testconsumer assertnovalues asserterrormessage error asserterror runtimeexception class 
flowable empty firstorerror toflowable test assertnovalues asserterror class 
flowable just 1 firstorerror toflowable test assertnoerrors assertvalue 1 
flowable just 1 2 3 firstorerror toflowable test assertnoerrors assertvalue 1 
flowable error new runtimeexception error firstorerror toflowable to testhelper testconsumer assertnovalues asserterrormessage error asserterror runtimeexception class 
subscriber object subscriber testhelper mocksubscriber final list integer list arrays aslist 1 2 3 function integer list integer func new function integer list integer override public list integer apply integer t1 return list bifunction integer integer integer resfunc new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 t2 list integer source arrays aslist 16 32 64 flowable fromiterable source flatmapiterable func resfunc subscribe subscriber for integer s source for integer v list verify subscriber onnext s v verify subscriber oncomplete verify subscriber never onerror any throwable class 
subscriber object subscriber testhelper mocksubscriber function integer list integer func new function integer list integer override public list integer apply integer t1 throw new testexception bifunction integer integer integer resfunc new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 t2 list integer source arrays aslist 16 32 64 flowable fromiterable source flatmapiterable func resfunc subscribe subscriber verify subscriber never oncomplete verify subscriber never onnext any verify subscriber onerror any testexception class 
subscriber object subscriber testhelper mocksubscriber final list integer list arrays aslist 1 2 3 function integer list integer func new function integer list integer override public list integer apply integer t1 return list bifunction integer integer integer resfunc new bifunction integer integer integer override public integer apply integer t1 integer t2 throw new testexception list integer source arrays aslist 16 32 64 flowable fromiterable source flatmapiterable func resfunc subscribe subscriber verify subscriber never oncomplete verify subscriber never onnext any verify subscriber onerror any testexception class 
subscriber object subscriber testhelper mocksubscriber function integer flowable integer func new function integer flowable integer override public flowable integer apply integer t1 return flowable error new testexception bifunction integer integer integer resfunc new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 t2 list integer source arrays aslist 16 32 64 flowable fromiterable source flatmap func resfunc subscribe subscriber verify subscriber never oncomplete verify subscriber never onnext any verify subscriber onerror any testexception class 
return value 
flowable integer onnext flowable fromiterable arrays aslist 1 2 3 flowable integer oncomplete flowable fromiterable arrays aslist 4 flowable integer onerror flowable fromiterable arrays aslist 5 flowable integer source flowable fromiterable arrays aslist 10 20 30 subscriber object subscriber testhelper mocksubscriber source flatmap just onnext just onerror just0 oncomplete subscribe subscriber verify subscriber times 3 onnext 1 verify subscriber times 3 onnext 2 verify subscriber times 3 onnext 3 verify subscriber onnext 4 verify subscriber oncomplete verify subscriber never onnext 5 verify subscriber never onerror any throwable class 
flowable integer onnext flowable fromiterable arrays aslist 1 2 3 flowable integer oncomplete flowable fromiterable arrays aslist 4 flowable integer onerror flowable fromiterable arrays aslist 5 flowable integer source flowable concat flowable fromiterable arrays aslist 10 20 30 flowable integer error new runtimeexception forced failure subscriber object subscriber testhelper mocksubscriber source flatmap just onnext just onerror just0 oncomplete subscribe subscriber verify subscriber times 3 onnext 1 verify subscriber times 3 onnext 2 verify subscriber times 3 onnext 3 verify subscriber onnext 5 verify subscriber oncomplete verify subscriber never onnext 4 verify subscriber never onerror any throwable class 
throw new testexception 
list throwable errors testhelper trackpluginerrors try flowable integer oncomplete flowable fromiterable arrays aslist 4 flowable integer onerror flowable fromiterable arrays aslist 5 flowable integer source flowable fromiterable arrays aslist 10 20 30 subscriber object subscriber testhelper mocksubscriber source flatmap functhrow 1 onerror just onerror just0 oncomplete subscribe subscriber verify subscriber onerror any testexception class verify subscriber never onnext any verify subscriber never oncomplete testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
flowable integer onnext flowable fromiterable arrays aslist 1 2 3 flowable integer oncomplete flowable fromiterable arrays aslist 4 flowable integer onerror flowable fromiterable arrays aslist 5 flowable integer source flowable error new testexception subscriber object subscriber testhelper mocksubscriber source flatmap just onnext functhrow throwable null onerror just0 oncomplete subscribe subscriber verify subscriber onerror any compositeexception class verify subscriber never onnext any verify subscriber never oncomplete 
flowable integer onnext flowable fromiterable arrays aslist 1 2 3 flowable integer oncomplete flowable fromiterable arrays aslist 4 flowable integer onerror flowable fromiterable arrays aslist 5 flowable integer source flowable fromiterable arrays integer aslist subscriber object subscriber testhelper mocksubscriber source flatmap just onnext just onerror functhrow0 oncomplete subscribe subscriber verify subscriber onerror any testexception class verify subscriber never onnext any verify subscriber never oncomplete 
flowable integer onnext flowable error new testexception flowable integer oncomplete flowable fromiterable arrays aslist 4 flowable integer onerror flowable fromiterable arrays aslist 5 flowable integer source flowable fromiterable arrays aslist 10 20 30 subscriber object subscriber testhelper mocksubscriber source flatmap just onnext just onerror functhrow0 oncomplete subscribe subscriber verify subscriber onerror any testexception class verify subscriber never onnext any verify subscriber never oncomplete 
final int m 4 final atomicinteger subscriptioncount new atomicinteger flowable integer source flowable range 1 10 flatmap new function integer flowable integer override public flowable integer apply integer t1 return composer flowable range t1 10 2 subscriptioncount m subscribeon schedulers computation m testsubscriber integer ts new testsubscriber source subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors set integer expected new hashset arrays aslist 10 11 20 21 30 31 40 41 50 51 60 61 70 71 80 81 90 91 100 101 assert assertequals expected size ts values size assert asserttrue expected containsall ts values 
final int m 4 final atomicinteger subscriptioncount new atomicinteger flowable integer source flowable range 1 10 flatmap new function integer flowable integer override public flowable integer apply integer t1 return composer flowable range t1 10 2 subscriptioncount m subscribeon schedulers computation new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 1000 t2 m testsubscriber integer ts new testsubscriber source subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors set integer expected new hashset arrays aslist 1010 1011 2020 2021 3030 3031 4040 4041 5050 5051 6060 6061 7070 7071 8080 8081 9090 9091 assert assertequals expected size ts values size system out println ts values assert asserttrue expected containsall ts values 
for int i 0 i 1000 i if i 100 0 system out println i 
final int m 2 final atomicinteger subscriptioncount new atomicinteger flowable integer onnext composer flowable fromiterable arrays aslist 1 2 3 observeon schedulers computation subscriptioncount m subscribeon schedulers computation flowable integer oncomplete composer flowable fromiterable arrays aslist 4 subscriptioncount m subscribeon schedulers computation flowable integer onerror flowable fromiterable arrays aslist 5 flowable integer source flowable fromiterable arrays aslist 10 20 30 subscriber object subscriber testhelper mocksubscriber testsubscriberex object ts new testsubscriberex subscriber function integer flowable integer just just onnext function throwable flowable integer just2 just onerror supplier flowable integer just0 just0 oncomplete source flatmap just just2 just0 m subscribe ts ts awaitdone 1 timeunit seconds ts assertnoerrors ts assertterminated verify subscriber times 3 onnext 1 verify subscriber times 3 onnext 2 verify subscriber times 3 onnext 3 verify subscriber onnext 4 verify subscriber oncomplete verify subscriber never onnext 5 verify subscriber never onerror any throwable class 
for int i 0 i 2000 i if i 10 0 system out println i testsubscriberex integer ts new testsubscriberex flowable range 0 1000 flatmap new function integer flowable integer final random rnd new random override public flowable integer apply integer t flowable integer r flowable just t if rnd nextboolean r r hide return r observeon schedulers computation subscribe ts ts awaitdone 2500 timeunit milliseconds if ts completions 0 system out println ts values size ts assertterminated ts assertnoerrors list integer list ts values if list size 1000 set integer set new hashset list for int j 0 j 1000 j if set contains j system out println j missing assertequals 1000 list size 
for int i 0 i 1000 i testsubscriber integer ts new testsubscriber flowable range 1 1000 flatmap new function integer flowable integer override public flowable integer apply integer t return flowable just 1 subscribeon schedulers computation subscribe ts ts awaitdone 5 timeunit seconds ts assertnoerrors ts assertcomplete ts assertvaluecount 1000 
for final int n new int 1 1000 testsubscriber integer ts new testsubscriber flowable just 1 2 flatmap new function integer flowable integer override public flowable integer apply integer t return flowable range 1 n subscribe ts system out println flatmaptwonestedsync n ts assertnoerrors ts assertcomplete ts assertvaluecount n 2 
testsubscriber integer ts testsubscriber create flowable range 0 4 flowable buffersize flatmap new function integer flowable integer override public flowable integer apply integer v return v 1 0 flowable integer empty flowable just v subscribe ts ts assertvaluecount 2 flowable buffersize ts assertnoerrors ts assertcomplete int j 1 for integer v ts values assert assertequals j v intvalue j 2 
testsubscriber integer ts testsubscriber create flowable range 0 4 flowable buffersize flatmap new function integer flowable integer override public flowable integer apply integer v return v 1 0 flowable integer empty flowable range v 2 subscribe ts ts assertvaluecount 4 flowable buffersize ts assertnoerrors ts assertcomplete int j 1 list integer list ts values for int i 0 i list size i 2 assert assertequals j list get i intvalue assert assertequals j 1 list get i 1 intvalue j 2 
testsubscriber integer ts testsubscriber create flowable range 0 4 flowable buffersize flatmap new function integer flowable integer override public flowable integer apply integer v return v 1 0 flowable integer empty flowable just v 16 subscribe ts ts assertvaluecount 2 flowable buffersize ts assertnoerrors ts assertcomplete int j 1 for integer v ts values assert assertequals j v intvalue j 2 
testsubscriber integer ts testsubscriber create flowable range 0 4 flowable buffersize flatmap new function integer flowable integer override public flowable integer apply integer v return v 1 0 flowable integer empty flowable range v 2 16 subscribe ts ts assertvaluecount 4 flowable buffersize ts assertnoerrors ts assertcomplete int j 1 list integer list ts values for int i 0 i list size i 2 assert assertequals j list get i intvalue assert assertequals j 1 list get i 1 intvalue j 2 
publishprocessor integer pp publishprocessor create testsubscriber integer ts testsubscriber create pp flatmap new function integer publisher integer override public publisher integer apply integer t throw new testexception new bifunction integer integer integer override public integer apply integer t1 integer t2 return t1 subscribe ts assert asserttrue not subscribed pp hassubscribers pp onnext 1 assert assertfalse subscribed pp hassubscribers ts asserterror testexception class 
flowable just 1 flatmap new function integer publisher integer override public publisher integer apply integer v throws exception return flowable just v 10 new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b true test assertresult 11 
flowable just 1 flatmap new function integer publisher integer override public publisher integer apply integer v throws exception return flowable just v 10 concatwith flowable integer error new testexception new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b true test assertfailure testexception class 11 
flowable just 1 2 flatmap new function integer publisher integer override public publisher integer apply integer v throws exception return flowable just v 10 new bifunction integer integer integer override public integer apply integer a integer b throws exception return a b true 1 test assertresult 11 22 
assertsame flowable empty flowable empty flatmap new function object publisher object override public publisher object apply object v throws exception return flowable just v 
flowable merge flowable just flowable just 1 test assertresult 1 
flowable merge flowable just flowable just 1 hide test assertresult 1 
flowable merge flowable just flowable empty hide test assertresult 
flowable merge flowable just flowable fromcallable new callable object override public object call throws exception throw new testexception hide test assertfailure testexception class 
final publishprocessor flowable integer pp publishprocessor create testsubscriber integer ts new testsubscriber integer override public void onnext integer t super onnext t if t 1 pp onnext flowable just 2 flowable merge pp subscribe ts pp onnext flowable just 1 pp oncomplete ts assertresult 1 2 
final publishprocessor flowable integer pp publishprocessor create testsubscriber integer ts new testsubscriber integer override public void onnext integer t super onnext t if t 1 pp onnext flowable just 2 flowable merge pp 2 subscribe ts pp onnext flowable just 1 pp oncomplete ts assertresult 1 2 
for int i 0 i testhelper race default loops i final publishprocessor integer pp publishprocessor create final testsubscriber integer ts flowable merge flowable just pp test runnable r1 new runnable override public void run pp oncomplete runnable r2 new runnable override public void run ts cancel testhelper race r1 r2 
flowable just 1 hide flatmap new function integer flowable object override public flowable object apply integer v throws exception return flowable range 1 2 map new function integer object override public object apply integer w throws exception throw new testexception test assertfailure testexception class 
testsubscriberex integer ts flowable range 1 2 hide flatmap new function integer flowable integer override public flowable integer apply integer v throws exception return flowable range 1 2 map new function integer integer override public integer apply integer w throws exception throw new testexception true to testhelper integer testconsumer assertfailure compositeexception class list throwable errors testhelper errorlist ts testhelper asserterror errors 0 testexception class testhelper asserterror errors 1 testexception class 
flowable fromcallable functions justcallable 1 flatmap functions justfunction flowable fromcallable functions justcallable 2 test assertresult 2 
for int i 0 i 500 i testsubscriber object ts flowable merge flowable just 1 observeon schedulers single map new function integer object override public object apply integer v throws exception return thread currentthread getname substring 0 4 flowable just 1 observeon schedulers computation map new function integer object override public object apply integer v throws exception return thread currentthread getname substring 0 4 test awaitdone 5 timeunit seconds assertvaluecount 2 list object list ts values asserttrue list tostring list contains rxsi asserttrue list tostring list contains rxco 
for int i 0 i testhelper race default loops i list throwable errors testhelper trackpluginerrors try final publishprocessor flowable integer pp publishprocessor create final testsubscriber integer ts pp flatmap functions flowable integer identity test 0 runnable r1 new runnable override public void run ts cancel runnable r2 new runnable override public void run pp oncomplete testhelper race r1 r2 asserttrue errors tostring errors isempty finally rxjavaplugins reset 
for int i 0 i testhelper race default loops i for int j 1 j 50 j 5 list throwable errors testhelper trackpluginerrors try final publishprocessor flowable integer pp publishprocessor create final testsubscriber integer ts pp flatmap functions flowable integer identity test 0 final publishprocessor integer just publishprocessor create pp onnext just runnable r1 new runnable override public void run ts request 1 ts cancel runnable r2 new runnable override public void run just onnext 1 testhelper race r1 r2 asserttrue errors tostring errors isempty finally rxjavaplugins reset 
flowable just 1 flatmapiterable new function integer iterable object override public iterable object apply integer v throws exception return null new bifunction integer object object override public object apply integer v object w throws exception return v to testhelper object testconsumer nullpointerexception class the mapper returned a null iterable 
flowable just 1 flatmap new function integer publisher object override public publisher object apply integer v throws exception return null new bifunction integer object object override public object apply integer v object w throws exception return v to testhelper object testconsumer nullpointerexception class the mapper returned a null publisher 
final atomicinteger counter new atomicinteger flowable range 1 5 doonnext new consumer integer override public void accept integer v throws exception counter getandincrement flatmap new function integer publisher integer override public publisher integer apply integer v throws exception return flowable integer fromiterable new iterable integer override public iterator integer iterator return new iterator integer override public boolean hasnext return true override public integer next throw new testexception override public void remove throw new test assertfailure testexception class assertequals 1 counter get 
final publishprocessor integer pp1 publishprocessor create final publishprocessor integer pp2 publishprocessor create publishprocessor integer pp3 publishprocessor create publishprocessor integer pp4 publishprocessor create testsubscriber integer ts flowable just pp1 pp2 pp3 pp4 flatmap new function publishprocessor integer flowable integer override public flowable integer apply publishprocessor integer v throws exception return v 2 doonnext new consumer integer override public void accept integer v throws exception if v 1 pp1 oncomplete pp2 oncomplete test pp1 onnext 1 assertfalse pp1 hassubscribers assertfalse pp2 hassubscribers asserttrue pp3 hassubscribers asserttrue pp4 hassubscribers ts cancel assertfalse pp3 hassubscribers assertfalse pp4 hassubscribers 
testhelper new flowableconverter integer flowable integer override public flowable integer apply flowable integer upstream return upstream flatmap new function integer publisher integer override public publisher integer apply integer v throws throwable return flowable just v hide 
testhelper new flowableconverter integer flowable integer override public flowable integer apply flowable integer upstream return upstream flatmap new function integer publisher integer override public publisher integer apply integer v throws throwable return flowable just v hide true 
publishprocessor integer pp1 publishprocessor create publishprocessor integer pp2 publishprocessor create pp1 flatmap v pp2 test pp1 onnext 1 asserttrue no subscribers pp2 hassubscribers pp1 onerror new testexception assertfalse has subscribers pp2 hassubscribers 
publishprocessor integer pp1 publishprocessor create publishprocessor integer pp2 publishprocessor create pp1 flatmap v pp2 test pp1 onnext 1 asserttrue no subscribers pp2 hassubscribers pp2 onerror new testexception assertfalse has subscribers pp1 hassubscribers 
flowableflatmap innersubscriber integer integer inner new flowableflatmap innersubscriber null 10 0l assertfalse inner isdisposed inner dispose asserttrue inner isdisposed 
testhelper flowable never flatmap v flowable never 
testhelper witherrortracking errors new flowable integer override protected void subscribeactual nonnull subscriber super nonnull integer s s onsubscribe new booleansubscription s onnext 1 s onnext 2 s oncomplete s onerror new ioexception flatmap v throw new testexception test assertfailure testexception class testhelper assertundeliverable errors 0 ioexception class 
s onsubscribe new booleansubscription s onnext 1 s onnext 2 s oncomplete s onerror new ioexception 
publishprocessor integer pp publishprocessor create testsubscriber integer ts new testsubscriber pp flatmap v flowable just v doonnext v if v 1 pp onnext 2 pp onnext 3 take 2 subscribe ts pp onnext 1 ts assertresult 1 2 
publishprocessor integer pp publishprocessor create testsubscriber integer ts new testsubscriber countdownlatch cdl new countdownlatch 1 pp flatmap v flowable just v doonnext v if v 1 pp onnext 2 testhelper raceother pp oncomplete cdl subscribe ts pp onnext 1 cdl await ts assertresult 1 2 
unicastprocessor integer up unicastprocessor create publishprocessor integer pp publishprocessor create testsubscriber integer ts flowable just pp up map v if v 10 throw new testexception return v compose testhelper flatmap v v true doonnext v if v 1 pp onnext 2 up onnext 10 test pp onnext 1 pp oncomplete ts assertfailure testexception class 1 2 
unicastprocessor integer up unicastprocessor create publishprocessor integer pp publishprocessor create testsubscriber integer ts flowable just up map v if v 10 throw new testexception return v compose testhelper pp flatmap v v true doonnext v if v 1 pp onnext 2 up onnext 10 test pp onnext 1 pp oncomplete ts assertfailure testexception class 1 2 
testhelper f f flatmap v flowable never 
flowable just 1 hide flatmap v flowable just 2 hide integer max value test assertresult 2 
flowable just 1 hide flatmap v flowable just 2 integer max value test assertresult 2 
flowable just 1 hide flatmap v flowable empty integer max value test assertresult 
testsubscriber integer ts new testsubscriber flowable just 1 hide flatmap v new scalaremptycancel ts subscribewith ts assertempty 
flowable just 1 hide flatmap v flowable just 2 integer max value test 0l assertempty requestmore 1 assertresult 2 
flowable just 1 hide flatmap v flowable just 2 2 takeuntil v true test assertresult 2 
new flowable integer override protected void subscribeactual nonnull subscriber nonnull super nonnull integer subscriber subscriber onsubscribe new booleansubscription subscriber onnext 1 subscriber onnext 2 subscriber onnext 3 flatmap v flowable just v 1 test 0l assertfailure class 
atomicreference subscriber super integer ref new atomicreference new flowable integer override protected void subscribeactual nonnull subscriber nonnull super nonnull integer subscriber subscriber onsubscribe new booleansubscription ref set subscriber subscriber onnext 1 flatmap v flowable just v 1 doonnext v if v 1 ref get onnext 2 ref get onnext 3 test assertfailure class 1 
flowable just 1 hide flatmap v new flowable integer override protected void subscribeactual nonnull subscriber nonnull super nonnull integer subscriber subscriber onsubscribe new booleansubscription subscriber onnext 1 subscriber onnext 2 subscriber onnext 3 false 1 1 test 0l assertfailure class 
flowable just 1 hide flatmap v flowable just 2 2 takeuntil v true test 0l requestmore 2 assertresult 2 
flowable just 1 concatwith flowable never hide flatmap v flowable just 2 2 test 0l requestmore 2 assertvaluesonly 2 
publishprocessor integer pp publishprocessor create testsubscriber integer ts new testsubscriber 0l flowable just 1 hide flatmap v pp doonnext v if v 1 pp oncomplete ts cancel subscribe ts pp onnext 1 ts requestmore 1 assertvaluesonly 1 
for int i 0 i testhelper race default loops i flowable range 0 20 flatmap integer if integer 5 0 return flowable just integer return flowable just integer observeon schedulers computation false 1 ignoreelements blockingawait 
flowablecache integer source new flowablecache flowable range 0 1000 16 assertfalse source is connected source isconnected testsubscriberex integer ts new testsubscriberex source subscribe ts asserttrue source is not connected source isconnected assertfalse subscribers retained source hassubscribers ts assertnoerrors ts assertterminated list integer onnextevents ts values assertequals 1000 onnextevents size for int i 0 i 1000 i assertequals integer i onnextevents get i 
flowablecache integer source new flowablecache flowable range 0 1000 16 assertfalse source is connected source isconnected testsubscriber integer ts new testsubscriber 0l ts request 10 source subscribe ts asserttrue source is not connected source isconnected assertfalse subscribers retained source hassubscribers ts assertnoerrors ts assertnotcomplete list integer onnextevents ts values assertequals 10 onnextevents size for int i 0 i 10 i assertequals integer i onnextevents get i ts cancel assertfalse subscribers retained source hassubscribers 
final atomicinteger counter new atomicinteger flowable string f flowable unsafecreate new publisher string override public void subscribe final subscriber super string subscriber subscriber onsubscribe new booleansubscription new thread new runnable override public void run counter incrementandget system out println published observable being executed subscriber onnext one subscriber oncomplete start cache final countdownlatch latch new countdownlatch 2 f subscribe new consumer string override public void accept string v assertequals one v system out println v v latch countdown f subscribe new consumer string override public void accept string v assertequals one v system out println v v latch countdown if latch await 1000 timeunit milliseconds fail subscriptions did not receive values assertequals 1 counter get 
action unsubscribe mock action class flowable integer f flowable just 1 dooncancel unsubscribe cache f subscribe f subscribe f subscribe verify unsubscribe never run 
testsubscriber integer ts new testsubscriber flowablecache integer cached new flowablecache flowable range 1 100 16 cached take 10 subscribe ts ts assertnoerrors ts assertcomplete ts assertvalues 1 2 3 4 5 6 7 8 9 10 assertfalse cached hassubscribers 
flowable integer source flowable range 1 for int i 0 i 100 i testsubscriber integer ts1 new testsubscriber flowablecache integer cached new flowablecache source 16 cached observeon schedulers computation subscribe ts1 ts1 awaitdone 2 timeunit seconds ts1 assertnoerrors ts1 assertcomplete assertequals ts1 values size testsubscriber integer ts2 new testsubscriber cached observeon schedulers computation subscribe ts2 ts2 awaitdone 2 timeunit seconds ts2 assertnoerrors ts2 assertcomplete assertequals ts2 values size 
flowable long source flowable interval 1 1 timeunit milliseconds take 1000 subscribeon schedulers io flowablecache long cached new flowablecache source 16 flowable long output cached observeon schedulers computation list testsubscriber long list new arraylist 100 for int i 0 i 100 i testsubscriber long ts new testsubscriber list add ts output skip i 10 take 10 subscribe ts list long expected new arraylist for int i 0 i 10 i expected add long i 10 int j 0 for testsubscriber long ts list ts awaitdone 3 timeunit seconds ts assertnoerrors ts assertcomplete for int i j 10 i j 10 10 i expected set i j 10 long i ts assertvaluesequence expected j 
final int m 4 1000 1000 flowable integer firehose flowable unsafecreate new publisher integer override public void subscribe subscriber super integer t t onsubscribe new booleansubscription for int i 0 i m i t onnext i t oncomplete testsubscriber integer ts new testsubscriber firehose cache observeon schedulers computation takelast 100 subscribe ts ts awaitdone 3 timeunit seconds ts assertnoerrors ts assertcomplete assertequals 100 ts values size 
flowable integer source flowable range 1 10 concatwith flowable integer error new testexception cache testsubscriber integer ts new testsubscriber source subscribe ts ts assertvalues 1 2 3 4 5 6 7 8 9 10 ts assertnotcomplete ts asserterror testexception class testsubscriber integer ts2 new testsubscriber source subscribe ts2 ts2 assertvalues 1 2 3 4 5 6 7 8 9 10 ts2 assertnotcomplete ts2 asserterror testexception class 
flowable integer cache flowable range 1 5 cache cache take 2 test assertresult 1 2 cache take 3 test assertresult 1 2 3 
testhelper checkdisposed flowable range 1 5 cache 
flowable integer f publishprocessor integer create cache f test f test 0l true assertempty 
for int i 0 i testhelper race default loops i final publishprocessor integer pp publishprocessor integer create final flowable integer cache pp cache cache test final testsubscriberex integer ts new testsubscriberex runnable r1 new runnable override public void run cache subscribe ts runnable r2 new runnable override public void run for int j 0 j 500 j pp onnext j pp oncomplete testhelper race r1 r2 ts awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 500 assertcomplete assertnoerrors 
publishprocessor integer pp publishprocessor create flowablecache integer cache flowablecache integer flowable range 1 5 concatwith pp cache assertfalse cache hassubscribers assertequals 0 cache cachedeventcount testsubscriber integer ts cache test asserttrue cache hassubscribers assertequals 5 cache cachedeventcount pp oncomplete ts assertresult 1 2 3 4 5 
flowable range 1 5 cache test 0l true assertempty 
testhelper new function flowable object object override public object apply flowable object f throws exception return f cache false 1 1 1 
testhelper flowable never cache 
flowable integer cache flowable just 1 2 cache cache test cache take 1 test assertresult 1 
flowable empty cache test 0l assertresult 
flowable error new testexception cache test 0l assertfailure testexception class 
final atomicinteger call new atomicinteger flowable fromcallable new callable object override public object call throws exception return call incrementandget cache test 1l true assertnovalues assertequals 1 call get 
final atomicinteger call new atomicinteger flowable object f flowable fromcallable new callable object override public object call throws exception return call incrementandget concatwith flowable never cache f test assertvaluesonly 1 f test 1l true assertempty assertequals 1 call get 
for int i 0 i testhelper race default loops i final flowable integer cache flowable range 1 500 cache final testsubscriberex integer ts1 new testsubscriberex final testsubscriberex integer ts2 new testsubscriberex runnable r1 new runnable override public void run cache subscribe ts1 runnable r2 new runnable override public void run cache subscribe ts2 testhelper race r1 r2 ts1 awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 500 assertcomplete assertnoerrors ts2 awaitdone 5 timeunit seconds assertsubscribed assertvaluecount 500 assertcomplete assertnoerrors 
for int i 0 i testhelper race default loops i final publishprocessor integer pp publishprocessor integer create final flowable integer cache pp cache cache test final testsubscriber integer ts new testsubscriber runnable r1 new runnable override public void run cache subscribe ts runnable r2 new runnable override public void run pp oncomplete testhelper race r1 r2 ts awaitdone 5 timeunit seconds assertresult 
flowable range 1 5 cache test 0 assertempty requestmore 2 assertvaluesonly 1 2 requestmore 3 assertresult 1 2 3 4 5 
for int i 0 i testhelper race default loops i flowable object f flowable never cache testsubscriber object ts f test testhelper race ts cancel f test 
concat2strings new bifunction string string string override public string apply string t1 string t2 return t1 t2 s1 publishprocessor create s2 publishprocessor create zipped flowable zip s1 s2 concat2strings subscriber testhelper mocksubscriber inorder inorder subscriber zipped subscribe subscriber 
publishprocessor string r1 publishprocessor create subscriber string subscriber testhelper mocksubscriber inorder io inorder subscriber iterable string r2 arrays aslist 1 2 3 r1 zipwith r2 zipr2 subscribe subscriber r1 onnext one r1 onnext two r1 onnext three r1 oncomplete io verify subscriber onnext one 1 io verify subscriber onnext two 2 io verify subscriber onnext three 3 io verify subscriber oncomplete verify subscriber never onerror any throwable class 
publishprocessor string r1 publishprocessor create subscriber string subscriber testhelper mocksubscriber inorder io inorder subscriber iterable string r2 arrays aslist 1 2 3 r1 zipwith r2 zipr2 subscribe subscriber r1 oncomplete io verify subscriber oncomplete verify subscriber never onnext any string class verify subscriber never onerror any throwable class 
publishprocessor string r1 publishprocessor create subscriber string subscriber testhelper mocksubscriber inorder io inorder subscriber iterable string r2 arrays aslist r1 zipwith r2 zipr2 subscribe subscriber r1 onnext one r1 onnext two r1 onnext three r1 oncomplete io verify subscriber oncomplete verify subscriber never onnext any string class verify subscriber never onerror any throwable class 
publishprocessor string r1 publishprocessor create subscriber string subscriber testhelper mocksubscriber inorder io inorder subscriber iterable string r2 arrays aslist 1 2 3 r1 zipwith r2 zipr2 subscribe subscriber r1 onnext one r1 onnext two r1 oncomplete io verify subscriber onnext one 1 io verify subscriber onnext two 2 io verify subscriber oncomplete verify subscriber never onerror any throwable class 
publishprocessor string r1 publishprocessor create subscriber string subscriber testhelper mocksubscriber inorder io inorder subscriber iterable string r2 arrays aslist 1 2 r1 zipwith r2 zipr2 subscribe subscriber r1 onnext one r1 onnext two r1 onnext three r1 oncomplete io verify subscriber onnext one 1 io verify subscriber onnext two 2 io verify subscriber oncomplete verify subscriber never onerror any throwable class 
publishprocessor string r1 publishprocessor create subscriber string subscriber testhelper mocksubscriber inorder io inorder subscriber iterable string r2 arrays aslist 1 2 3 r1 zipwith r2 zipr2 subscribe subscriber r1 onnext one r1 onnext two r1 onerror new testexception io verify subscriber onnext one 1 io verify subscriber onnext two 2 io verify subscriber onerror any testexception class verify subscriber never oncomplete 
publishprocessor string r1 publishprocessor create subscriber string subscriber testhelper mocksubscriber inorder io inorder subscriber iterable string r2 new iterable string override public iterator string iterator throw new testexception r1 zipwith r2 zipr2 subscribe subscriber r1 onnext one r1 onnext two r1 onerror new testexception io verify subscriber onerror any testexception class verify subscriber never oncomplete verify subscriber never onnext any string class 
publishprocessor string r1 publishprocessor create subscriber string subscriber testhelper mocksubscriber inorder io inorder subscriber iterable string r2 new iterable string override public iterator string iterator return new iterator string int count override public boolean hasnext if count 0 return true throw new testexception override public string next count return 1 override public void remove throw new not supported yet r1 zipwith r2 zipr2 subscribe subscriber r1 onnext one r1 onerror new testexception io verify subscriber onnext one 1 io verify subscriber onerror any testexception class verify subscriber never oncomplete 
publishprocessor string r1 publishprocessor create subscriber string subscriber testhelper mocksubscriber inorder io inorder subscriber iterable string r2 new iterable string override public iterator string iterator return new iterator string override public boolean hasnext return true override public string next throw new testexception override public void remove throw new not supported yet r1 zipwith r2 zipr2 subscribe subscriber r1 onerror new testexception io verify subscriber onerror any testexception class verify subscriber never onnext any string class verify subscriber never oncomplete 
counter incrementandget system out println omg i m calculating so hard t1 t1 t1 t1 return t1 t1 
flowable integer f flowable just 1 2 3 4 5 iterable string it arrays aslist a b c d e squarestr squarestr new squarestr f map squarestr zipwith it concat2strings take 2 subscribe printer assertequals 2 squarestr counter get 
testhelper checkdisposed flowable just 1 zipwith arrays aslist 1 new bifunction integer integer object override public object apply integer a integer b throws exception return a b 
testhelper new function flowable integer flowable object override public flowable object apply flowable integer f throws exception return f zipwith arrays aslist 1 new bifunction integer integer object override public object apply integer a integer b throws exception return a b 
flowable just 1 zipwith new crashingiterable 100 1 100 new bifunction integer integer object override public object apply integer a integer b throws exception return a b to testhelper object testconsumer testexception class hasnext 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onnext 1 subscriber oncomplete subscriber onnext 2 subscriber onerror new testexception subscriber oncomplete zipwith arrays aslist 1 new bifunction integer integer object override public object apply integer a integer b throws exception return a b test assertresult 2 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
publishprocessor object other publishprocessor create testsubscriber integer ts new testsubscriber final atomicinteger subscribed new atomicinteger flowable just 1 doonsubscribe new consumer subscription override public void accept subscription s subscribed getandincrement delaysubscription other subscribe ts ts assertnotcomplete ts assertnoerrors ts assertnovalues assert assertequals premature subscription 0 subscribed get other onnext 1 assert assertequals no subscription 1 subscribed get ts assertvalue 1 ts assertnoerrors ts assertcomplete 
publishprocessor object other publishprocessor create testsubscriber integer ts new testsubscriber final atomicinteger subscribed new atomicinteger flowable just 1 doonsubscribe new consumer subscription override public void accept subscription s subscribed getandincrement delaysubscription other subscribe ts ts assertnotcomplete ts assertnoerrors ts assertnovalues assert assertequals premature subscription 0 subscribed get other onnext 1 other onnext 2 assert assertequals no subscription 1 subscribed get ts assertvalue 1 ts assertnoerrors ts assertcomplete 
publishprocessor object other publishprocessor create testsubscriber integer ts new testsubscriber final atomicinteger subscribed new atomicinteger flowable just 1 doonsubscribe new consumer subscription override public void accept subscription s subscribed getandincrement delaysubscription other subscribe ts ts assertnotcomplete ts assertnoerrors ts assertnovalues assert assertequals premature subscription 0 subscribed get other oncomplete assert assertequals no subscription 1 subscribed get ts assertvalue 1 ts assertnoerrors ts assertcomplete 
publishprocessor object other publishprocessor create testsubscriber integer ts new testsubscriber final atomicinteger subscribed new atomicinteger flowable integer error new testexception doonsubscribe new consumer subscription override public void accept subscription s subscribed getandincrement delaysubscription other subscribe ts ts assertnotcomplete ts assertnoerrors ts assertnovalues assert assertequals premature subscription 0 subscribed get other oncomplete assert assertequals no subscription 1 subscribed get ts assertnovalues ts assertnotcomplete ts asserterror testexception class 
publishprocessor object other publishprocessor create testsubscriber integer ts new testsubscriber final atomicinteger subscribed new atomicinteger flowable integer error new testexception doonsubscribe new consumer subscription override public void accept subscription s subscribed getandincrement delaysubscription other subscribe ts ts assertnotcomplete ts assertnoerrors ts assertnovalues assert assertequals premature subscription 0 subscribed get other onerror new testexception assert assertequals premature subscription 0 subscribed get ts assertnovalues ts assertnotcomplete ts asserterror testexception class 
publishprocessor object other publishprocessor create testsubscriber integer ts new testsubscriber 0l final atomicinteger subscribed new atomicinteger flowable just 1 2 3 4 5 doonsubscribe new consumer subscription override public void accept subscription s subscribed getandincrement delaysubscription other subscribe ts ts assertnotcomplete ts assertnoerrors ts assertnovalues assert assertequals premature subscription 0 subscribed get other onnext 1 assert assertequals no subscription 1 subscribed get assert assertfalse not unsubscribed from other other hassubscribers ts assertnotcomplete ts assertnoerrors ts assertnovalues ts request 1 ts assertvalue 1 ts assertnoerrors ts assertnotcomplete ts request 2 ts assertvalues 1 2 3 ts assertnoerrors ts assertnotcomplete ts request 10 ts assertvalues 1 2 3 4 5 ts assertnoerrors ts assertcomplete 
publishprocessor integer source publishprocessor create publishprocessor integer other publishprocessor create testsubscriber integer ts new testsubscriber source delaysubscription other subscribe ts assert assertfalse source subscribed source hassubscribers assert asserttrue other not subscribed other hassubscribers ts cancel assert assertfalse source subscribed source hassubscribers assert assertfalse other still subscribed other hassubscribers 
publishprocessor integer source publishprocessor create publishprocessor integer other publishprocessor create testsubscriber integer ts new testsubscriber source delaysubscription other subscribe ts assert assertfalse source subscribed source hassubscribers assert asserttrue other not subscribed other hassubscribers other oncomplete assert asserttrue source not subscribed source hassubscribers assert assertfalse other still subscribed other hassubscribers ts cancel assert assertfalse source subscribed source hassubscribers assert assertfalse other still subscribed other hassubscribers 
publishprocessor integer delayuntil publishprocessor create publishprocessor integer interrupt publishprocessor create final atomicboolean subscribed new atomicboolean false flowable just 1 doonsubscribe new consumer subscription override public void accept subscription s subscribed set true delaysubscription delayuntil takeuntil interrupt subscribe interrupt onnext 9000 delayuntil onnext 1 assert assertfalse subscribed get 
testhelper new function flowable integer object override public object apply flowable integer f throws exception return flowable just 1 delaysubscription f false 1 1 1 
exec executors try for scheduler s new scheduler schedulers single schedulers computation schedulers newthread schedulers io schedulers from exec final testsubscriber boolean ts testsubscriber create ts withtag s getclass getsimplename flowable boolean create new flowableonsubscribe boolean override public void subscribe flowableemitter boolean emitter throws exception emitter onnext thread interrupted emitter oncomplete backpressurestrategy missing delaysubscription 100 timeunit milliseconds s subscribe ts ts awaitdone 5 timeunit seconds ts assertvalue false finally exec shutdown 
testhelper f f delaysubscription flowable empty 
testhelper f publishprocessor create delaysubscription f 
testhelper publishprocessor create delaysubscription flowable empty 
flowable integer w flowable just 1 3 2 5 4 flowable list integer flowable w tosortedlist toflowable subscriber list integer subscriber testhelper mocksubscriber flowable subscribe subscriber verify subscriber times 1 onnext arrays aslist 1 2 3 4 5 verify subscriber mockito never onerror any throwable class verify subscriber times 1 oncomplete 
flowable integer w flowable just 1 3 2 5 4 flowable list integer flowable w tosortedlist new comparator integer override public int compare integer t1 integer t2 return t2 t1 toflowable subscriber list integer subscriber testhelper mocksubscriber flowable subscribe subscriber verify subscriber times 1 onnext arrays aslist 5 4 3 2 1 verify subscriber mockito never onerror any throwable class verify subscriber times 1 oncomplete 
flowable integer f flowable just 1 3 2 5 4 assertequals arrays aslist 1 2 3 4 5 f tosortedlist toflowable blockingfirst 
flowable list integer w flowable just 1 3 2 5 4 tosortedlist toflowable testsubscriber list integer ts new testsubscriber 0l w subscribe ts ts assertnovalues ts assertnoerrors ts assertnotcomplete ts request 1 ts assertvalue arrays aslist 1 2 3 4 5 ts assertnoerrors ts assertcomplete ts request 1 ts assertvalue arrays aslist 1 2 3 4 5 ts assertnoerrors ts assertcomplete 
flowable just 5 1 2 4 3 sorted test assertresult 1 2 3 4 5 
flowable just 5 1 2 4 3 sorted new comparator integer override public int compare integer a integer b return b a test assertresult 5 4 3 2 1 
flowable just 5 1 2 4 3 tosortedlist 4 toflowable test assertresult arrays aslist 1 2 3 4 5 
flowable just 5 1 2 4 3 tosortedlist new comparator integer override public int compare integer a integer b return b a 4 toflowable test assertresult arrays aslist 5 4 3 2 1 
flowable integer w flowable just 1 3 2 5 4 single list integer single w tosortedlist singleobserver list integer observer testhelper mocksingleobserver single subscribe observer verify observer times 1 onsuccess arrays aslist 1 2 3 4 5 verify observer mockito never onerror any throwable class 
flowable integer w flowable just 1 3 2 5 4 single list integer single w tosortedlist new comparator integer override public int compare integer t1 integer t2 return t2 t1 singleobserver list integer observer testhelper mocksingleobserver single subscribe observer verify observer times 1 onsuccess arrays aslist 5 4 3 2 1 verify observer mockito never onerror any throwable class 
flowable integer f flowable just 1 3 2 5 4 assertequals arrays aslist 1 2 3 4 5 f tosortedlist blockingget 
try cb await catch interruptedexception ex ex printstacktrace catch ex ex printstacktrace 
flowable just 5 1 2 4 3 tosortedlist 4 test assertresult arrays aslist 1 2 3 4 5 
flowable just 5 1 2 4 3 tosortedlist new comparator integer override public int compare integer a integer b return b a 4 test assertresult arrays aslist 5 4 3 2 1 
publishprocessor integer source publishprocessor create testsubscriber integer ts testsubscriber create source concatmapdelayerror new function integer flowable integer override public flowable integer apply integer v return flowable range v 2 subscribe ts source onnext 1 source onnext 2 source oncomplete ts assertvalues 1 2 2 3 ts assertnoerrors ts assertcomplete 
publishprocessor integer source publishprocessor create testsubscriber integer ts testsubscriber create source concatmapdelayerror new function integer flowable integer override public flowable integer apply integer v return flowable range v 2 subscribe ts source onnext 1 source onnext 2 source onerror new testexception ts assertvalues 1 2 2 3 ts asserterror testexception class ts assertnotcomplete 
final flowable integer inner flowable range 1 2 concatwith flowable integer error new testexception testsubscriber integer ts testsubscriber create flowable range 1 3 concatmapdelayerror new function integer flowable integer override public flowable integer apply integer v return inner subscribe ts ts assertvalues 1 2 1 2 1 2 ts asserterror compositeexception class ts assertnotcomplete 
final flowable integer inner flowable range 1 2 concatwith flowable integer error new testexception testsubscriber integer ts testsubscriber create flowable just 1 hide concatmapdelayerror new function integer flowable integer override public flowable integer apply integer v return inner subscribe ts ts assertvalues 1 2 ts asserterror testexception class ts assertnotcomplete 
testsubscriber integer ts testsubscriber create flowable just 1 hide concatmapdelayerror new function integer flowable integer override public flowable integer apply integer v return null subscribe ts ts assertnovalues ts asserterror nullpointerexception class ts assertnotcomplete 
testsubscriber integer ts testsubscriber create flowable just 1 hide concatmapdelayerror new function integer flowable integer override public flowable integer apply integer v throw new testexception subscribe ts ts assertnovalues ts asserterror testexception class ts assertnotcomplete 
testsubscriber integer ts testsubscriber create flowable range 1 3 concatmapdelayerror new function integer flowable integer override public flowable integer apply integer v return v 2 flowable integer empty flowable range 1 2 subscribe ts ts assertvalues 1 2 1 2 ts assertnoerrors ts assertcomplete 
testsubscriber integer ts testsubscriber create flowable range 1 3 concatmapdelayerror new function integer flowable integer override public flowable integer apply integer v return v 2 flowable just 3 flowable range 1 2 subscribe ts ts assertvalues 1 2 3 1 2 ts assertnoerrors ts assertcomplete 
testsubscriber integer ts testsubscriber create 0 flowable range 1 3 concatmapdelayerror new function integer flowable integer override public flowable integer apply integer v return flowable range v 2 subscribe ts ts assertnovalues ts assertnoerrors ts assertnotcomplete ts request 1 ts assertvalues 1 ts assertnoerrors ts assertnotcomplete ts request 3 ts assertvalues 1 2 2 3 ts assertnoerrors ts assertnotcomplete ts request 2 ts assertvalues 1 2 2 3 3 4 ts assertnoerrors ts assertcomplete 
return source concatwith flowable t error new testexception 
testsubscriber integer ts testsubscriber create flowable concatdelayerror flowable just flowable just 1 flowable just 2 subscribe ts ts assertvalues 1 2 ts assertnoerrors ts assertcomplete 
testsubscriberex integer ts new testsubscriberex flowable concatdelayerror witherror flowable just witherror flowable just 1 witherror flowable just 2 subscribe ts ts assertvalues 1 2 ts asserterror compositeexception class ts assertnotcomplete compositeexception ce compositeexception ts errors get 0 list throwable cex ce getexceptions assertequals 3 cex size asserttrue cex get 0 tostring cex get 0 instanceof testexception asserttrue cex get 1 tostring cex get 1 instanceof testexception asserttrue cex get 2 tostring cex get 2 instanceof testexception 
testsubscriber integer ts testsubscriber create flowable concatdelayerror arrays aslist flowable just 1 flowable just 2 subscribe ts ts assertvalues 1 2 ts assertnoerrors ts assertcomplete 
testsubscriberex integer ts new testsubscriberex flowable concatdelayerror arrays aslist witherror flowable just 1 witherror flowable just 2 subscribe ts ts assertvalues 1 2 ts asserterror compositeexception class ts assertnotcomplete assertequals 2 compositeexception ts errors get 0 getexceptions size 
assertequals 2 flowable fromarray 1 2 elementat 1 toflowable blockingsingle intvalue 
flowable fromarray 1 2 elementat 1 
assertequals 100 flowable fromarray 1 2 elementat 2 toflowable blockingfirst 100 intvalue 
assertequals 2 flowable fromarray 1 2 elementat 1 0 toflowable blockingsingle intvalue 
assertequals 0 flowable fromarray 1 2 elementat 2 0 toflowable blockingsingle intvalue 
flowable fromarray 1 2 elementat 1 0 
assertequals 2 flowable fromarray 1 2 elementat 1 blockingget intvalue 
final list long requests new arraylist flowable fromarray 1 2 3 4 doonrequest new longconsumer override public void accept long n throws throwable requests add n elementat 2 blockingget intvalue assertequals arrays aslist 3l requests 
final list long requests new arraylist flowable fromarray 1 2 3 4 doonrequest new longconsumer override public void accept long n throws throwable requests add n elementat 2 100 blockingget intvalue assertequals arrays aslist 3l requests 
flowable fromarray 1 2 elementat 1 
assertnull flowable fromarray 1 2 elementat 2 blockingget 
assertequals 2 flowable fromarray 1 2 elementat 1 0 blockingget intvalue 
assertequals 0 flowable fromarray 1 2 elementat 2 0 blockingget intvalue 
flowable fromarray 1 2 elementat 1 0 
flowable empty elementatorerror 1 
flowable empty elementatorerror 0 test assertnovalues asserterror class 
flowable just 1 elementatorerror 0 test assertnoerrors assertvalue 1 
flowable just 1 2 3 elementatorerror 1 test assertnoerrors assertvalue 2 
flowable just 1 2 3 elementatorerror 3 test assertnovalues asserterror class 
flowable error new runtimeexception error elementatorerror 0 to testhelper testconsumer assertnovalues asserterrormessage error asserterror runtimeexception class 
flowable empty elementat 0 test assertresult 
flowable empty elementat 0 5 test assertresult 5 
flowable empty elementat 1 test assertresult 
flowable empty elementat 1 10 test assertresult 10 
flowable empty elementatorerror 1 test assertfailure class 
testhelper new function flowable object publisher object override public publisher object apply flowable object f throws exception return f elementat 0 toflowable testhelper new function flowable object maybe object override public maybe object apply flowable object f throws exception return f elementat 0 testhelper new function flowable object single object override public single object apply flowable object f throws exception return f elementat 0 1 
flowable empty elementat 1 10 toflowable test assertresult 10 
flowable error new testexception elementat 1 10 toflowable test assertfailure testexception class 
flowable error new testexception elementat 1 10 test assertfailure testexception class flowable error new testexception elementat 1 test assertfailure testexception class 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onnext 1 subscriber onnext 2 subscriber onerror new testexception subscriber oncomplete elementat 0 toflowable test assertresult 1 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset testhelper new function flowable integer object override public object apply flowable integer f throws exception return f elementat 0 false null 1 testhelper new function flowable integer object override public object apply flowable integer f throws exception return f elementat 0 1 false null 1 1 testhelper new function flowable integer object override public object apply flowable integer f throws exception return f elementat 0 toflowable false null 1 testhelper new function flowable integer object override public object apply flowable integer f throws exception return f elementat 0 1 toflowable false null 1 1 
testhelper checkdisposed publishprocessor create elementat 0 toflowable testhelper checkdisposed publishprocessor create elementat 0 1 toflowable testhelper checkdisposed publishprocessor create elementat 0 testhelper checkdisposed publishprocessor create elementat 0 1 
list throwable errors testhelper trackpluginerrors try new observable integer override protected void subscribeactual observer super integer observer observer onsubscribe disposable empty observer onnext 1 observer onnext 2 observer onerror new testexception observer oncomplete elementat 0 toflowable test assertresult 1 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onnext 1 subscriber onnext 2 subscriber onerror new testexception subscriber oncomplete elementat 0 1 test assertresult 1 testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
source new publishasyncemitter sourcenocancel new ts new testsubscriberex 0l 
flowable create source backpressurestrategy buffer subscribe ts source onnext 1 source onnext 2 source oncomplete ts request 1 ts assertvalue 1 assert assertequals 0 source requested ts request 1 ts assertvalues 1 2 ts assertnoerrors ts assertcomplete 
flowable create source backpressurestrategy drop subscribe ts source onnext 1 ts request 1 ts assertnovalues source onnext 2 source oncomplete ts assertvalues 2 ts assertnoerrors ts assertcomplete 
flowable create source backpressurestrategy latest subscribe ts source onnext 1 source onnext 2 source oncomplete ts assertnovalues ts request 1 ts assertvalues 2 ts assertnoerrors ts assertcomplete 
flowable create source backpressurestrategy missing subscribe ts source onnext 1 source onnext 2 source oncomplete ts assertvalues 1 2 ts assertnoerrors ts assertcomplete 
flowable create source backpressurestrategy missing subscribe ts ts request 2 source onnext 1 source onnext 2 source oncomplete ts assertvalues 1 2 ts assertnoerrors ts assertcomplete 
flowable create source backpressurestrategy error subscribe ts source onnext 1 source onnext 2 source oncomplete ts assertnovalues ts asserterror class ts assertnotcomplete assert assertequals create could not emit value due to lack of requests ts errors get 0 getmessage 
flowable create source backpressurestrategy buffer subscribe ts source onnext 1 source onnext 2 source onerror new testexception ts request 1 ts assertvalue 1 ts request 1 ts assertvalues 1 2 ts asserterror testexception class ts assertnotcomplete 
flowable create source backpressurestrategy latest subscribe ts source onnext 1 source onnext 2 source onerror new testexception ts assertnovalues ts request 1 ts assertvalues 2 ts asserterror testexception class ts assertnotcomplete 
flowable create source backpressurestrategy missing subscribe ts source onnext 1 source onnext 2 source onerror new testexception ts request 1 ts assertvalues 1 2 ts asserterror testexception class ts assertnotcomplete 
flowable create source backpressurestrategy buffer subscribe ts ts cancel source onnext 1 source onnext 2 source onerror new testexception ts request 1 ts assertnovalues ts assertnoerrors ts assertnotcomplete 
flowable create source backpressurestrategy latest subscribe ts ts cancel source onnext 1 source onnext 2 source onerror new testexception ts request 1 ts assertnovalues ts assertnoerrors ts assertnotcomplete 
flowable create source backpressurestrategy error subscribe ts ts cancel source onnext 1 source onnext 2 source onerror new testexception ts request 1 ts assertnovalues ts assertnoerrors ts assertnotcomplete 
flowable create source backpressurestrategy drop subscribe ts ts cancel source onnext 1 source onnext 2 source onerror new testexception ts request 1 ts assertnovalues ts assertnoerrors ts assertnotcomplete 
flowable create source backpressurestrategy missing subscribe ts ts cancel source onnext 1 source onnext 2 source onerror new testexception ts request 1 ts assertnovalues ts assertnoerrors ts assertnotcomplete 
list throwable errors testhelper trackpluginerrors try flowable create sourcenocancel backpressurestrategy buffer subscribe ts ts cancel sourcenocancel onnext 1 sourcenocancel onnext 2 sourcenocancel onerror new testexception ts request 1 ts assertnovalues ts assertnoerrors ts assertnotcomplete testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try flowable create sourcenocancel backpressurestrategy latest subscribe ts ts cancel sourcenocancel onnext 1 sourcenocancel onnext 2 sourcenocancel onerror new testexception ts request 1 ts assertnovalues ts assertnoerrors ts assertnotcomplete testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try flowable create sourcenocancel backpressurestrategy error subscribe ts ts cancel sourcenocancel onnext 1 sourcenocancel onnext 2 sourcenocancel onerror new testexception ts request 1 ts assertnovalues ts assertnoerrors ts assertnotcomplete testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try flowable create sourcenocancel backpressurestrategy drop subscribe ts ts cancel sourcenocancel onnext 1 sourcenocancel onnext 2 sourcenocancel onerror new testexception ts request 1 ts assertnovalues ts assertnoerrors ts assertnotcomplete testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
list throwable errors testhelper trackpluginerrors try flowable create sourcenocancel backpressurestrategy missing subscribe ts ts cancel sourcenocancel onnext 1 sourcenocancel onnext 2 sourcenocancel onerror new testexception ts request 1 ts assertnovalues ts assertnoerrors ts assertnotcomplete testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
flowable create source backpressurestrategy buffer subscribe ts source onnext 1 source onnext 2 source oncomplete ts request 2 ts assertvalues 1 2 ts assertnoerrors ts assertcomplete 
flowable create source backpressurestrategy buffer take 2 subscribe ts source onnext 1 source onnext 2 source oncomplete ts request 2 ts assertvalues 1 2 ts assertnoerrors ts assertcomplete 
flowable create source backpressurestrategy buffer take 1 subscribe ts ts request 2 source onnext 1 source onnext 2 source oncomplete ts assertvalues 1 ts assertnoerrors ts assertcomplete 
flowable create source backpressurestrategy buffer subscribe ts ts request 2 source onnext 1 source onnext 2 source oncomplete ts assertvalues 1 2 ts assertnoerrors ts assertcomplete 
flowable create sourcenocancel backpressurestrategy buffer take 2 subscribe ts sourcenocancel onnext 1 sourcenocancel onnext 2 sourcenocancel oncomplete ts request 2 ts assertvalues 1 2 ts assertnoerrors ts assertcomplete 
flowable create sourcenocancel backpressurestrategy buffer take 1 subscribe ts ts request 2 sourcenocancel onnext 1 sourcenocancel onnext 2 sourcenocancel oncomplete ts assertvalues 1 ts assertnoerrors ts assertcomplete 
flowable create sourcenocancel backpressurestrategy buffer subscribe ts ts request 2 sourcenocancel onnext 1 ts cancel sourcenocancel onnext 2 ts assertvalues 1 ts assertnoerrors ts assertnotcomplete 
testsubscriber integer ts1 new testsubscriber integer override public void onnext integer t super onnext t cancel flowable create sourcenocancel backpressurestrategy buffer subscribe ts1 sourcenocancel onnext 1 ts1 assertvalues 1 ts1 assertnoerrors ts1 assertnotcomplete 
super onnext t cancel 
flowable create sourcenocancel backpressurestrategy buffer subscribe ts sourcenocancel onnext 1 sourcenocancel oncomplete ts request 2 ts assertvalues 1 ts assertnoerrors ts assertcomplete 
flowable create sourcenocancel backpressurestrategy buffer subscribe ts sourcenocancel onnext 1 sourcenocancel onerror new testexception ts request 2 ts assertvalues 1 ts asserterror testexception class ts assertnotcomplete 
testsubscriber integer ts1 new testsubscriber integer 1l override public void onnext integer t super onnext t request 1 flowable create sourcenocancel backpressurestrategy buffer subscribe ts1 sourcenocancel onnext 1 sourcenocancel onnext 2 ts1 assertvalues 1 2 ts1 assertnoerrors ts1 assertnotcomplete 
super onnext t request 1 
testsubscriber integer ts1 new testsubscriber integer override public void onnext integer t super onnext t cancel flowable create sourcenocancel backpressurestrategy latest subscribe ts1 sourcenocancel onnext 1 ts1 assertvalues 1 ts1 assertnoerrors ts1 assertnotcomplete 
testsubscriber integer ts1 new testsubscriber integer 1l override public void onnext integer t super onnext t cancel flowable create sourcenocancel backpressurestrategy latest subscribe ts1 sourcenocancel onnext 1 ts1 assertvalues 1 ts1 assertnoerrors ts1 assertnotcomplete 
flowable create sourcenocancel backpressurestrategy latest subscribe ts sourcenocancel onnext 1 sourcenocancel oncomplete ts request 2 ts assertvalues 1 ts assertnoerrors ts assertcomplete 
flowable create sourcenocancel backpressurestrategy latest subscribe ts sourcenocancel onnext 1 sourcenocancel oncomplete ts request 1 ts assertvalues 1 ts assertnoerrors ts assertcomplete 
flowable create sourcenocancel backpressurestrategy latest subscribe ts sourcenocancel onnext 1 sourcenocancel onerror new testexception ts request 2 ts assertvalues 1 ts asserterror testexception class ts assertnotcomplete 
testsubscriber integer ts1 new testsubscriber integer 1l override public void onnext integer t super onnext t request 1 flowable create sourcenocancel backpressurestrategy latest subscribe ts1 sourcenocancel onnext 1 sourcenocancel onnext 2 ts1 assertvalues 1 2 ts1 assertnoerrors ts1 assertnotcomplete 
return current requested 
this current t final resourcesubscriber integer as new resourcesubscriber integer override public void oncomplete t oncomplete override public void onerror throwable e t onerror e override public void onnext integer v t onnext v processor subscribe as t setcancellable new cancellable override public void cancel throws exception as dispose 
t oncomplete 
t onerror e 
s request long max value 
processor onerror e 
processor oncomplete 
processor subscribe new flowablesubscriber integer override public void onsubscribe subscription s s request long max value override public void oncomplete t oncomplete override public void onerror throwable e t onerror e override public void onnext integer v t onnext v 
s request long max value 
subscription ssource mock subscription class subscription sother mock subscription class testobservable source new testobservable ssource testobservable other new testobservable sother subscriber string result testhelper mocksubscriber flowable string stringobservable flowable unsafecreate source takeuntil flowable unsafecreate other stringobservable subscribe result source sendonnext one source sendonnext two other sendonnext three source sendonnext four source sendoncompleted other sendoncompleted verify result times 1 onnext one verify result times 1 onnext two verify result times 0 onnext three verify result times 0 onnext four verify ssource times 1 cancel verify sother times 1 cancel 
subscription ssource mock subscription class subscription sother mock subscription class testobservable source new testobservable ssource testobservable other new testobservable sother subscriber string result testhelper mocksubscriber flowable string stringobservable flowable unsafecreate source takeuntil flowable unsafecreate other stringobservable subscribe result source sendonnext one source sendonnext two source sendoncompleted verify result times 1 onnext one verify result times 1 onnext two verify ssource never cancel verify sother times 1 cancel 
subscription ssource mock subscription class subscription sother mock subscription class testobservable source new testobservable ssource testobservable other new testobservable sother throwable error new throwable subscriber string result testhelper mocksubscriber flowable string stringobservable flowable unsafecreate source takeuntil flowable unsafecreate other stringobservable subscribe result source sendonnext one source sendonnext two source sendonerror error source sendonnext three verify result times 1 onnext one verify result times 1 onnext two verify result times 0 onnext three verify result times 1 onerror error verify ssource never cancel verify sother times 1 cancel 
subscription ssource mock subscription class subscription sother mock subscription class testobservable source new testobservable ssource testobservable other new testobservable sother throwable error new throwable subscriber string result testhelper mocksubscriber flowable string stringobservable flowable unsafecreate source takeuntil flowable unsafecreate other stringobservable subscribe result source sendonnext one source sendonnext two other sendonerror error source sendonnext three verify result times 1 onnext one verify result times 1 onnext two verify result times 0 onnext three verify result times 1 onerror error verify result times 0 oncomplete verify ssource times 1 cancel verify sother never cancel 
subscription ssource mock subscription class subscription sother mock subscription class testobservable source new testobservable ssource testobservable other new testobservable sother subscriber string result testhelper mocksubscriber flowable string stringobservable flowable unsafecreate source takeuntil flowable unsafecreate other stringobservable subscribe result source sendonnext one source sendonnext two other sendoncompleted source sendonnext three verify result times 1 onnext one verify result times 1 onnext two verify result times 0 onnext three verify result times 1 oncomplete verify ssource times 1 cancel verify sother never cancel 
subscriber oncomplete 
subscriber onnext value 
subscriber onerror e 
this subscriber subscriber subscriber onsubscribe upstream 
publishprocessor integer source publishprocessor create publishprocessor integer until publishprocessor create testsubscriberex integer ts new testsubscriberex source takeuntil until subscribe ts asserttrue source hassubscribers asserttrue until hassubscribers source onnext 1 ts assertvalue 1 until onnext 1 ts assertvalue 1 ts assertnoerrors ts assertterminated assertfalse source still has observers source hassubscribers assertfalse until still has observers until hassubscribers assertfalse testsubscriber is unsubscribed ts iscancelled 
publishprocessor integer source publishprocessor create publishprocessor integer until publishprocessor create testsubscriberex integer ts new testsubscriberex source takeuntil until subscribe ts asserttrue source hassubscribers asserttrue until hassubscribers source onnext 1 source oncomplete ts assertvalue 1 ts assertnoerrors ts assertterminated assertfalse source still has observers source hassubscribers assertfalse until still has observers until hassubscribers assertfalse testsubscriber is unsubscribed ts iscancelled 
publishprocessor integer source publishprocessor create publishprocessor integer until publishprocessor create testsubscriberex integer ts new testsubscriberex source takeuntil until take 1 subscribe ts asserttrue source hassubscribers asserttrue until hassubscribers source onnext 1 ts assertvalue 1 ts assertnoerrors ts assertterminated assertfalse source still has observers source hassubscribers assertfalse until still has observers until hassubscribers assertfalse testsubscriber is unsubscribed ts iscancelled 
publishprocessor integer until publishprocessor create testsubscriber integer ts new testsubscriber 0l flowable range 1 10 takeuntil until subscribe ts asserttrue until hassubscribers ts request 1 ts assertvalue 1 ts assertnoerrors ts assertnotcomplete until onnext 5 ts assertcomplete ts assertnoerrors assertfalse until still has observers until hassubscribers assertfalse testsubscriber is unsubscribed ts iscancelled 
testhelper checkdisposed publishprocessor create takeuntil flowable never 
testhelper new function flowable integer flowable integer override public flowable integer apply flowable integer c throws exception return c takeuntil flowable never 
publishprocessor integer main publishprocessor create publishprocessor integer other publishprocessor create testsubscriber integer ts main takeuntil other test asserttrue main no subscribers main hassubscribers asserttrue other no subscribers other hassubscribers main onnext 1 main onnext 2 main oncomplete assertfalse main has subscribers main hassubscribers assertfalse other has subscribers other hassubscribers ts assertresult 1 2 
publishprocessor integer main publishprocessor create publishprocessor integer other publishprocessor create testsubscriber integer ts main takeuntil other test asserttrue main no subscribers main hassubscribers asserttrue other no subscribers other hassubscribers main oncomplete assertfalse main has subscribers main hassubscribers assertfalse other has subscribers other hassubscribers ts assertresult 
publishprocessor integer main publishprocessor create publishprocessor integer other publishprocessor create testsubscriber integer ts main takeuntil other test asserttrue main no subscribers main hassubscribers asserttrue other no subscribers other hassubscribers main onerror new testexception assertfalse main has subscribers main hassubscribers assertfalse other has subscribers other hassubscribers ts assertfailure testexception class 
publishprocessor integer main publishprocessor create publishprocessor integer other publishprocessor create testsubscriber integer ts main takeuntil other test asserttrue main no subscribers main hassubscribers asserttrue other no subscribers other hassubscribers other onnext 1 assertfalse main has subscribers main hassubscribers assertfalse other has subscribers other hassubscribers ts assertresult 
publishprocessor integer main publishprocessor create publishprocessor integer other publishprocessor create testsubscriber integer ts main takeuntil other test asserttrue main no subscribers main hassubscribers asserttrue other no subscribers other hassubscribers other oncomplete assertfalse main has subscribers main hassubscribers assertfalse other has subscribers other hassubscribers ts assertresult 
publishprocessor integer main publishprocessor create publishprocessor integer other publishprocessor create testsubscriber integer ts main takeuntil other test asserttrue main no subscribers main hassubscribers asserttrue other no subscribers other hassubscribers other onerror new testexception assertfalse main has subscribers main hassubscribers assertfalse other has subscribers other hassubscribers ts assertfailure testexception class 
publishprocessor integer main publishprocessor create publishprocessor integer other publishprocessor create testsubscriber integer ts main takeuntil other test asserttrue main no subscribers main hassubscribers asserttrue other no subscribers other hassubscribers ts cancel assertfalse main has subscribers main hassubscribers assertfalse other has subscribers other hassubscribers ts assertempty 
publishprocessor integer source publishprocessor create connectableflowable integer cf source replay 3 true cf connect subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 source onnext 1 source onnext 2 source onnext 3 inorder verify subscriber1 times 1 onnext 1 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 3 source onnext 4 source oncomplete inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 3 inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class 
publishprocessor integer source publishprocessor create testscheduler scheduler new testscheduler connectableflowable integer cf source replay 3 100 timeunit milliseconds scheduler true cf connect subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 source onnext 1 scheduler advancetimeby 10 timeunit milliseconds source onnext 2 scheduler advancetimeby 10 timeunit milliseconds source onnext 3 scheduler advancetimeby 10 timeunit milliseconds inorder verify subscriber1 times 1 onnext 1 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 3 source onnext 4 source onnext 5 scheduler advancetimeby 90 timeunit milliseconds inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 onnext 5 inorder verify subscriber1 never onerror any throwable class subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 onnext 5 inorder verify subscriber1 never onerror any throwable class 
testscheduler scheduler new testscheduler publishprocessor integer source publishprocessor create connectableflowable integer cf source replay 100 timeunit milliseconds scheduler true cf connect subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 source onnext 1 scheduler advancetimeby 60 timeunit milliseconds source onnext 2 scheduler advancetimeby 60 timeunit milliseconds source onnext 3 scheduler advancetimeby 60 timeunit milliseconds source oncomplete scheduler advancetimeby 60 timeunit milliseconds inorder verify subscriber1 times 1 onnext 1 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 3 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 inorder verify subscriber1 never onnext 3 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class 
final function integer integer dbl new function integer integer override public integer apply integer t1 return t1 2 function flowable integer flowable integer selector new function flowable integer flowable integer override public flowable integer apply flowable integer t1 return t1 map dbl publishprocessor integer source publishprocessor create flowable integer co source replay selector subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 co subscribe subscriber1 source onnext 1 source onnext 2 source onnext 3 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 onnext 6 source onnext 4 source oncomplete inorder verify subscriber1 times 1 onnext 8 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 co subscribe subscriber1 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class 
final function integer integer dbl new function integer integer override public integer apply integer t1 return t1 2 function flowable integer flowable integer selector new function flowable integer flowable integer override public flowable integer apply flowable integer t1 return t1 map dbl publishprocessor integer source publishprocessor create flowable integer co source replay selector 3 true subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 co subscribe subscriber1 source onnext 1 source onnext 2 source onnext 3 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 onnext 6 source onnext 4 source oncomplete inorder verify subscriber1 times 1 onnext 8 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 co subscribe subscriber1 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class 
final function integer integer dbl new function integer integer override public integer apply integer t1 return t1 2 function flowable integer flowable integer selector new function flowable integer flowable integer override public flowable integer apply flowable integer t1 return t1 map dbl testscheduler scheduler new testscheduler publishprocessor integer source publishprocessor create flowable integer co source replay selector 100 timeunit milliseconds scheduler true subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 co subscribe subscriber1 source onnext 1 scheduler advancetimeby 60 timeunit milliseconds source onnext 2 scheduler advancetimeby 60 timeunit milliseconds source onnext 3 scheduler advancetimeby 60 timeunit milliseconds source oncomplete scheduler advancetimeby 60 timeunit milliseconds inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 onnext 6 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 co subscribe subscriber1 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class 
publishprocessor integer source publishprocessor create connectableflowable integer cf source replay 3 true cf connect subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 source onnext 1 source onnext 2 source onnext 3 inorder verify subscriber1 times 1 onnext 1 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 3 source onnext 4 source onerror new runtimeexception forced failure inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 onerror any runtimeexception class inorder verify subscriber1 never oncomplete subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 3 inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 onerror any runtimeexception class inorder verify subscriber1 never oncomplete 
testscheduler scheduler new testscheduler publishprocessor integer source publishprocessor create connectableflowable integer cf source replay 100 timeunit milliseconds scheduler true cf connect subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 source onnext 1 scheduler advancetimeby 60 timeunit milliseconds source onnext 2 scheduler advancetimeby 60 timeunit milliseconds source onnext 3 scheduler advancetimeby 60 timeunit milliseconds source onerror new runtimeexception forced failure scheduler advancetimeby 60 timeunit milliseconds inorder verify subscriber1 times 1 onnext 1 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 3 inorder verify subscriber1 times 1 onerror any runtimeexception class inorder verify subscriber1 never oncomplete subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 inorder verify subscriber1 never onnext 3 inorder verify subscriber1 times 1 onerror any runtimeexception class inorder verify subscriber1 never oncomplete 
final atomicinteger effectcounter new atomicinteger flowable integer source flowable just 1 2 3 4 doonnext new consumer integer override public void accept integer v effectcounter incrementandget system out println sideeffect v flowable integer result source replay new function flowable integer flowable integer override public flowable integer apply flowable integer f return f take 2 for int i 1 i 3 i effectcounter set 0 system out printf d n i result subscribe new consumer integer override public void accept integer t1 system out println t1 new consumer throwable override public void accept throwable t1 t1 printstacktrace new action override public void run system out println done assertequals 2 effectcounter get 
consumer integer sourcenext mock consumer class action sourcecompleted mock action class action sourceunsubscribed mock action class subscriber integer testhelper mocksubscriber subscriber integer testhelper mocksubscriber flowable integer source flowable just 1 2 connectableflowable integer replay source doonnext sourcenext dooncancel sourceunsubscribed dooncomplete sourcecompleted replay replay subscribe replay subscribe replay connect replay subscribe replay subscribe verify times 2 onsubscribe subscription any verify times 2 onsubscribe subscription any verify sourcenext times 1 accept 1 verify sourcenext times 1 accept 2 verify sourcecompleted times 1 run verifyobservermock 2 4 verifyobservermock 2 4 verify sourceunsubscribed never run sourcenext sourcecompleted sourceunsubscribed 
consumer integer sourcenext mock consumer class action sourcecompleted mock action class action sourceunsubscribed mock action class final scheduler mockscheduler mock scheduler class final disposable mocksubscription mock disposable class worker spiedworker workerspy mocksubscription subscriber integer testhelper mocksubscriber subscriber integer testhelper mocksubscriber when mockscheduler createworker thenreturn spiedworker connectableflowable integer replay flowable just 1 2 3 doonnext sourcenext dooncancel sourceunsubscribed dooncomplete sourcecompleted subscribeon mockscheduler replay replay subscribe replay subscribe replay connect replay subscribe replay subscribe verify times 2 onsubscribe subscription any verify times 2 onsubscribe subscription any verify sourcenext times 1 accept 1 verify sourcenext times 1 accept 2 verify sourcenext times 1 accept 3 verify sourcecompleted times 1 run verify mockscheduler times 1 createworker verify spiedworker times 1 schedule runnable notnull verifyobservermock 2 6 verifyobservermock 2 6 verify spiedworker times 1 dispose verify sourceunsubscribed never run sourcenext sourcecompleted sourceunsubscribed spiedworker mocksubscription mockscheduler 
consumer integer sourcenext mock consumer class action sourcecompleted mock action class consumer throwable sourceerror mock consumer class action sourceunsubscribed mock action class final scheduler mockscheduler mock scheduler class final disposable mocksubscription mock disposable class worker spiedworker workerspy mocksubscription subscriber integer testhelper mocksubscriber subscriber integer testhelper mocksubscriber when mockscheduler createworker thenreturn spiedworker function integer integer mockfunc mock function class new when mockfunc apply 1 thenreturn 1 when mockfunc apply 2 thenthrow connectableflowable integer replay flowable just 1 2 3 map mockfunc doonnext sourcenext dooncancel sourceunsubscribed dooncomplete sourcecompleted doonerror sourceerror subscribeon mockscheduler replay replay subscribe replay subscribe replay connect replay subscribe replay subscribe verify times 2 onsubscribe subscription any verify times 2 onsubscribe subscription any verify mockscheduler times 1 createworker verify spiedworker times 1 schedule runnable notnull verify sourcenext times 1 accept 1 verify sourceerror times 1 accept verifyobserver 2 2 verifyobserver 2 2 verify spiedworker times 1 dispose verify sourceunsubscribed never run sourcenext sourcecompleted sourceerror sourceunsubscribed spiedworker mocksubscription mockscheduler 
return spy new inprocessworker mockdisposable 
action run return mockdisposable 
unsubscribed true 
return unsubscribed 
boundedreplaybuffer integer buf new boundedreplaybuffer integer true private static final long serialversionuid override void truncate buf addlast new node 1 0 buf addlast new node 2 1 buf addlast new node 3 2 buf addlast new node 4 3 buf addlast new node 5 4 list integer values new arraylist buf collect values assert assertequals arrays aslist 1 2 3 4 5 values buf removesome 2 buf removefirst buf removesome 2 values clear buf collect values assert asserttrue values isempty buf addlast new node 5 5 buf addlast new node 6 6 buf collect values assert assertequals arrays aslist 5 6 values 
testscheduler test new testscheduler integer buf new 2 2000 timeunit milliseconds test true list integer values new arraylist buf next 1 test advancetimeby 1 timeunit seconds buf next 2 test advancetimeby 1 timeunit seconds buf collect values assert assertequals arrays aslist 2 values buf next 3 buf next 4 values clear buf collect values assert assertequals arrays aslist 3 4 values test advancetimeby 2 timeunit seconds buf next 5 values clear buf collect values assert assertequals arrays aslist 5 values test advancetimeby 2 timeunit seconds buf complete values clear buf collect values assert asserttrue values isempty assert assertequals 1 buf size assert asserttrue buf hascompleted 
final atomiclong requested new atomiclong flowable integer source flowable range 1 1000 doonrequest new longconsumer override public void accept long t requested addandget t connectableflowable integer cf source replay testsubscriberex integer ts1 new testsubscriberex 10l testsubscriberex integer ts2 new testsubscriberex 90l cf subscribe ts1 cf subscribe ts2 ts2 request 10 cf connect ts1 assertvaluecount 10 ts1 assertnotterminated ts2 assertvaluecount 100 ts2 assertnotterminated assert assertequals 100 requested get 
final atomiclong requested new atomiclong flowable integer source flowable range 1 1000 doonrequest new longconsumer override public void accept long t requested addandget t connectableflowable integer cf source replay 50 true testsubscriberex integer ts1 new testsubscriberex 10l testsubscriberex integer ts2 new testsubscriberex 90l cf subscribe ts1 cf subscribe ts2 ts2 request 10 cf connect ts1 assertvaluecount 10 ts1 assertnotterminated ts2 assertvaluecount 100 ts2 assertnotterminated assert assertequals 100 requested get 
flowable integer source flowable range 0 1000 replay autoconnect testsubscriberex integer ts new testsubscriberex source subscribe ts ts assertnoerrors ts assertterminated list integer onnextevents ts values assertequals 1000 onnextevents size for int i 0 i 1000 i assertequals integer i onnextevents get i 
flowable integer source flowable range 0 1000 replay autoconnect testsubscriber integer ts new testsubscriber 0l ts request 10 source subscribe ts ts assertnoerrors ts assertnotcomplete list integer onnextevents ts values assertequals 10 onnextevents size for int i 0 i 10 i assertequals integer i onnextevents get i ts cancel 
final atomicinteger counter new atomicinteger flowable string f flowable unsafecreate new publisher string override public void subscribe final subscriber super string subscriber subscriber onsubscribe new booleansubscription new thread new runnable override public void run counter incrementandget system out println published observable being executed subscriber onnext one subscriber oncomplete start replay autoconnect final countdownlatch latch new countdownlatch 2 f subscribe new consumer string override public void accept string v assertequals one v system out println v v latch countdown f subscribe new consumer string override public void accept string v assertequals one v system out println v v latch countdown if latch await 1000 timeunit milliseconds fail subscriptions did not receive values assertequals 1 counter get 
action unsubscribe mock action class flowable integer f flowable just 1 dooncancel unsubscribe replay autoconnect f subscribe f subscribe f subscribe verify unsubscribe never run 
testsubscriberex integer ts new testsubscriberex flowable integer cached flowable range 1 100 replay autoconnect cached take 10 subscribe ts ts assertnoerrors ts assertterminated ts assertvalues 1 2 3 4 5 6 7 8 9 10 
flowable integer source flowable range 1 for int i 0 i 100 i testsubscriberex integer ts1 new testsubscriberex flowable integer cached source replay autoconnect cached observeon schedulers computation subscribe ts1 ts1 awaitdone 2 timeunit seconds ts1 assertnoerrors ts1 assertterminated assertequals ts1 values size testsubscriberex integer ts2 new testsubscriberex cached observeon schedulers computation subscribe ts2 ts2 awaitdone 2 timeunit seconds ts2 assertnoerrors ts2 assertterminated assertequals ts2 values size 
flowable long source flowable interval 1 1 timeunit milliseconds take 1000 subscribeon schedulers io flowable long cached source replay autoconnect flowable long output cached observeon schedulers computation false 1024 list testsubscriberex long list new arraylist 100 for int i 0 i 100 i testsubscriberex long ts new testsubscriberex list add ts output skip i 10 take 10 subscribe ts list long expected new arraylist for int i 0 i 10 i expected add long i 10 int j 0 for testsubscriberex long ts list ts awaitdone 3 timeunit seconds ts assertnoerrors ts assertterminated for int i j 10 i j 10 10 i expected set i j 10 long i ts assertvaluesequence expected j 
final int m 4 1000 1000 flowable integer firehose flowable unsafecreate new publisher integer override public void subscribe subscriber super integer t t onsubscribe new booleansubscription for int i 0 i m i t onnext i t oncomplete testsubscriberex integer ts new testsubscriberex firehose replay autoconnect observeon schedulers computation takelast 100 subscribe ts ts awaitdone 3 timeunit seconds ts assertnoerrors ts assertterminated assertequals 100 ts values size 
flowable integer source flowable range 1 10 concatwith flowable integer error new testexception replay autoconnect testsubscriberex integer ts new testsubscriberex source subscribe ts ts assertvalues 1 2 3 4 5 6 7 8 9 10 ts assertnotcomplete assert assertequals 1 ts errors size testsubscriberex integer ts2 new testsubscriberex source subscribe ts2 ts2 assertvalues 1 2 3 4 5 6 7 8 9 10 ts2 assertnotcomplete assert assertequals 1 ts2 errors size 
final atomicinteger count new atomicinteger flowable integer source flowable range 1 100 doonnext new consumer integer override public void accept integer t count getandincrement replay autoconnect testsubscriber integer ts new testsubscriber integer override public void onnext integer t throw new testexception source subscribe ts assert assertequals 100 count get ts assertnovalues ts assertnotcomplete ts asserterror testexception class 
publishprocessor integer source publishprocessor create final list long requests new arraylist flowable integer out source doonrequest new longconsumer override public void accept long t requests add t replay autoconnect testsubscriber integer ts1 new testsubscriber 5l testsubscriber integer ts2 new testsubscriber 10l out subscribe ts1 out subscribe ts2 ts2 cancel assert assertequals arrays aslist 5l 5l requests 
connectableflowable integer source flowable range 1 10 replay 1 true source connect testsubscriber integer ts1 new testsubscriber 2l source subscribe ts1 ts1 assertvalues 1 2 ts1 assertnoerrors ts1 cancel testsubscriber integer ts2 new testsubscriber 2l source subscribe ts2 ts2 assertvalues 2 3 ts2 assertnoerrors ts2 cancel testsubscriber integer ts21 new testsubscriber 1l source subscribe ts21 ts21 assertvalues 3 ts21 assertnoerrors ts21 cancel testsubscriber integer ts22 new testsubscriber 1l source subscribe ts22 ts22 assertvalues 3 ts22 assertnoerrors ts22 cancel testsubscriber integer ts3 new testsubscriber source subscribe ts3 ts3 assertnoerrors system out println ts3 values ts3 assertvalues 3 4 5 6 7 8 9 10 ts3 assertcomplete 
connectableflowable integer source flowable range 1 10 replay 2 true source connect testsubscriber integer ts1 new testsubscriber 2l source subscribe ts1 ts1 assertvalues 1 2 ts1 assertnoerrors ts1 cancel testsubscriber integer ts11 new testsubscriber 2l source subscribe ts11 ts11 assertvalues 1 2 ts11 assertnoerrors ts11 cancel testsubscriber integer ts2 new testsubscriber 3l source subscribe ts2 ts2 assertvalues 1 2 3 ts2 assertnoerrors ts2 cancel testsubscriber integer ts21 new testsubscriber 1l source subscribe ts21 ts21 assertvalues 2 ts21 assertnoerrors ts21 cancel testsubscriber integer ts22 new testsubscriber 1l source subscribe ts22 ts22 assertvalues 2 ts22 assertnoerrors ts22 cancel testsubscriber integer ts3 new testsubscriber source subscribe ts3 ts3 assertnoerrors system out println ts3 values ts3 assertvalues 2 3 4 5 6 7 8 9 10 ts3 assertcomplete 
flowable just 1 replay 1 timeunit minutes schedulers computation true autoconnect test awaitdone 5 timeunit seconds assertresult 1 
flowable just 1 replay 1 1 timeunit milliseconds schedulers computation true autoconnect test awaitdone 5 timeunit seconds assertresult 1 
flowable just 1 replay functions flowable integer identity 1 timeunit minutes schedulers computation true test awaitdone 5 timeunit seconds assertresult 1 
flowable integer source flowable range 1 3 assertsame source hasupstreampublisher source replay source 
for int i 0 i testhelper race default loops i final connectableflowable integer cf flowable range 1 3 replay runnable r new runnable override public void run cf connect testhelper race r r 
for int i 0 i testhelper race default loops i final connectableflowable integer cf flowable range 1 3 replay final testsubscriber integer ts1 new testsubscriber final testsubscriber integer ts2 new testsubscriber runnable r1 new runnable override public void run cf subscribe ts1 runnable r2 new runnable override public void run cf subscribe ts2 testhelper race r1 r2 
for int i 0 i testhelper race default loops i final connectableflowable integer cf flowable range 1 3 replay final testsubscriber integer ts1 new testsubscriber final testsubscriber integer ts2 new testsubscriber cf subscribe ts1 runnable r1 new runnable override public void run ts1 cancel runnable r2 new runnable override public void run cf subscribe ts2 testhelper race r1 r2 
flowable range 1 2 replay integer max value true autoconnect test long max value true assertempty 
connectableflowable integer cf publishprocessor integer create replay integer max value true cf test cf autoconnect test long max value true assertempty 
connectableflowable integer cf flowable range 1 2 replay try cf connect new consumer disposable override public void accept disposable t throws exception throw new testexception fail should have thrown catch testexception ex cf test assertempty cancel cf connect cf test assertresult 1 2 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onerror new testexception first subscriber onnext 1 subscriber onerror new testexception second subscriber oncomplete replay autoconnect to testhelper integer testconsumer testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
for int i 0 i testhelper race default loops i final publishprocessor integer pp publishprocessor create final connectableflowable integer cf pp replay final testsubscriber integer ts1 new testsubscriber runnable r1 new runnable override public void run cf subscribe ts1 runnable r2 new runnable override public void run for int j 0 j 1000 j pp onnext j testhelper race r1 r2 
for int i 0 i testhelper race default loops i final publishprocessor integer pp publishprocessor create final connectableflowable integer cf pp replay final testsubscriber integer ts1 new testsubscriber cf subscribe ts1 runnable r1 new runnable override public void run ts1 cancel runnable r2 new runnable override public void run for int j 0 j 1000 j pp onnext j testhelper race r1 r2 
for int i 0 i testhelper race default loops i final connectableflowable integer cf flowable range 1 1000 replay final testsubscriber integer ts1 new testsubscriber cf connect runnable r1 new runnable override public void run cf subscribe ts1 runnable r2 new runnable override public void run ts1 cancel testhelper race r1 r2 
final publishprocessor integer pp publishprocessor create testsubscriber integer ts new testsubscriber integer override public void onnext integer t if t 1 pp onnext 2 pp oncomplete super onnext t pp replay autoconnect subscribe ts pp onnext 1 ts assertresult 1 2 
final publishprocessor integer pp publishprocessor create testsubscriber integer ts new testsubscriber integer override public void onnext integer t if t 1 pp onnext 2 pp oncomplete super onnext t pp replay 10 true autoconnect subscribe ts pp onnext 1 ts assertresult 1 2 
final publishprocessor integer pp publishprocessor create testsubscriber integer ts new testsubscriber integer override public void onnext integer t if t 1 pp onnext 2 cancel super onnext t pp replay autoconnect subscribe ts pp onnext 1 ts assertvalues 1 
final publishprocessor integer pp publishprocessor create testsubscriber integer ts new testsubscriber integer override public void onnext integer t if t 1 pp onnext 2 cancel super onnext t pp replay 10 true autoconnect subscribe ts pp onnext 1 ts assertvalues 1 
flowable range 1 2 replay integer max value true autoconnect test assertresult 1 2 
testscheduler test new testscheduler integer buf new 2 2000 timeunit milliseconds test true assert assertfalse buf hascompleted assert assertfalse buf haserror list integer values new arraylist buf next 1 test advancetimeby 1 timeunit seconds buf next 2 test advancetimeby 1 timeunit seconds buf collect values assert assertequals arrays aslist 2 values buf next 3 buf next 4 values clear buf collect values assert assertequals arrays aslist 3 4 values test advancetimeby 2 timeunit seconds buf next 5 values clear buf collect values assert assertequals arrays aslist 5 values assert assertfalse buf hascompleted assert assertfalse buf haserror test advancetimeby 2 timeunit seconds buf error new testexception values clear buf collect values assert asserttrue values isempty assert assertequals 1 buf size assert assertfalse buf hascompleted assert asserttrue buf haserror 
integer buf new 2 true list integer values new arraylist buf next 1 buf next 2 buf collect values assert assertequals arrays aslist 1 2 values buf next 3 buf next 4 values clear buf collect values assert assertequals arrays aslist 3 4 values buf next 5 values clear buf collect values assert assertequals arrays aslist 4 5 values assert assertfalse buf hascompleted buf complete values clear buf collect values assert assertequals arrays aslist 4 5 values assert assertequals 3 buf size assert asserttrue buf hascompleted assert assertfalse buf haserror 
final subscriber sub null new flowable integer override protected void subscribeactual subscriber super integer s sub 0 s replay connect dispose booleansubscription bs new booleansubscription sub 0 onsubscribe bs asserttrue bs iscancelled 
testscheduler scheduler new testscheduler flowable integer source flowable just 1 replay 2 timeunit seconds scheduler true autoconnect source test assertresult 1 source test assertresult 1 scheduler advancetimeby 3 timeunit seconds source test assertresult 
flowablereplay multicastselector new supplier connectableflowable object override public connectableflowable object get throws exception throw new testexception functions flowable object identity test assertfailure testexception class 
testhelper flowable never replay 
publishprocessor integer source publishprocessor create flowablereplay integer co flowablereplay integer source replay 1 true co test co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 source onnext 2 source oncomplete assertnull buf get value object o buf get buf trimhead assertsame o buf get 
publishprocessor integer source publishprocessor create flowablereplay integer co flowablereplay integer source replay 1 true co test co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 source onnext 2 source onerror new testexception assertnull buf get value object o buf get buf trimhead assertsame o buf get 
publishprocessor integer source publishprocessor create flowablereplay integer co flowablereplay integer source replay 1 true co test co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 source onnext 2 assertnull buf get value buf trimhead assertnull buf get value object o buf get buf trimhead assertsame o buf get 
publishprocessor integer source publishprocessor create flowablereplay integer co flowablereplay integer source replay 1 timeunit minutes schedulers computation true co test co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 source onnext 2 source oncomplete assertnull buf get value object o buf get buf trimhead assertsame o buf get 
publishprocessor integer source publishprocessor create flowablereplay integer co flowablereplay integer source replay 1 timeunit minutes schedulers computation true co test co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 source onnext 2 source onerror new testexception assertnull buf get value object o buf get buf trimhead assertsame o buf get 
testscheduler sch new testscheduler publishprocessor integer source publishprocessor create flowablereplay integer co flowablereplay integer source replay 1 timeunit milliseconds sch true co test co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 sch advancetimeby 2 timeunit milliseconds source onnext 2 assertnull buf get value buf trimhead assertnull buf get value object o buf get buf trimhead assertsame o buf get 
flowablereplay create flowable just 1 new supplier replaybuffer integer override public replaybuffer integer get throws exception throw new testexception connect 
flowablereplay create flowable just 1 new supplier replaybuffer integer override public replaybuffer integer get throws exception throw new testexception test assertfailure testexception class 
flowable byte source flowable range 1 200 map new function integer byte override public byte apply integer v throws exception return new byte 1024 1024 replay new function flowable byte publisher byte override public publisher byte apply final flowable byte f throws exception return f take 1 concatmap new function byte publisher byte override public publisher byte apply byte v throws exception return f 1 true takelast 1 system out println bounded replay leak check wait before gc thread sleep 1000 system out println bounded replay leak check gc system gc thread sleep 500 final memorymxbean memorymxbean managementfactory getmemorymxbean memoryusage memheap memorymxbean getheapmemoryusage long initial memheap getused system out printf bounded replay leak check starting 3f mb n initial 1024 0 1024 0 final atomiclong after new atomiclong source subscribe new consumer byte override public void accept byte v throws exception system out println bounded replay leak check wait before gc 2 thread sleep 1000 system out println bounded replay leak check gc 2 system gc thread sleep 500 after set memorymxbean getheapmemoryusage getused system out printf bounded replay leak check after 3f mb n after get 1024 0 1024 0 if initial 100 1024 1024 after get assert fail bounded replay leak check memory leak detected initial 1024 0 1024 0 after get 1024 0 1024 0 
publishprocessor int pp publishprocessor create connectableflowable int cf pp replay 1 true testsubscriber int ts cf test cf connect thread sleep 200 system gc thread sleep 200 final memorymxbean memorymxbean managementfactory getmemorymxbean long initial memorymxbean getheapmemoryusage getused system out printf bounded replay leak check starting 3f mb n initial 1024 0 1024 0 pp onnext new int 100 1024 1024 ts assertvaluecount 1 ts values clear pp onnext new int 0 thread sleep 200 system gc thread sleep 200 long after memorymxbean getheapmemoryusage getused ts cancel system out printf bounded replay leak check after 3f mb n after 1024 0 1024 0 if initial 100 1024 1024 after assert fail bounded replay leak check memory leak detected initial 1024 0 1024 0 after 1024 0 1024 0 
publishprocessor int pp publishprocessor create testscheduler scheduler new testscheduler connectableflowable int cf pp replay 1 timeunit seconds scheduler true testsubscriber int ts cf test cf connect thread sleep 200 system gc thread sleep 200 final memorymxbean memorymxbean managementfactory getmemorymxbean long initial memorymxbean getheapmemoryusage getused system out printf bounded replay leak check starting 3f mb n initial 1024 0 1024 0 pp onnext new int 100 1024 1024 ts assertvaluecount 1 ts values clear scheduler advancetimeby 2 timeunit seconds pp onnext new int 0 thread sleep 200 system gc thread sleep 200 long after memorymxbean getheapmemoryusage getused ts cancel system out printf bounded replay leak check after 3f mb n after 1024 0 1024 0 if initial 100 1024 1024 after assert fail bounded replay leak check memory leak detected initial 1024 0 1024 0 after 1024 0 1024 0 
publishprocessor int pp publishprocessor create testscheduler scheduler new testscheduler connectableflowable int cf pp replay 1 5 timeunit seconds scheduler true testsubscriber int ts cf test cf connect thread sleep 200 system gc thread sleep 200 final memorymxbean memorymxbean managementfactory getmemorymxbean long initial memorymxbean getheapmemoryusage getused system out printf bounded replay leak check starting 3f mb n initial 1024 0 1024 0 pp onnext new int 100 1024 1024 ts assertvaluecount 1 ts values clear scheduler advancetimeby 2 timeunit seconds pp onnext new int 0 thread sleep 200 system gc thread sleep 200 long after memorymxbean getheapmemoryusage getused ts cancel system out printf bounded replay leak check after 3f mb n after 1024 0 1024 0 if initial 100 1024 1024 after assert fail bounded replay leak check memory leak detected initial 1024 0 1024 0 after 1024 0 1024 0 
publishprocessor int pp publishprocessor create flowable int cf pp replay functions flowable int identity 1 true testsubscriber int ts cf test thread sleep 200 system gc thread sleep 200 final memorymxbean memorymxbean managementfactory getmemorymxbean long initial memorymxbean getheapmemoryusage getused system out printf bounded replay leak check starting 3f mb n initial 1024 0 1024 0 pp onnext new int 100 1024 1024 ts assertvaluecount 1 ts values clear pp onnext new int 0 thread sleep 200 system gc thread sleep 200 long after memorymxbean getheapmemoryusage getused ts cancel system out printf bounded replay leak check after 3f mb n after 1024 0 1024 0 if initial 100 1024 1024 after assert fail bounded replay leak check memory leak detected initial 1024 0 1024 0 after 1024 0 1024 0 
publishprocessor int pp publishprocessor create testscheduler scheduler new testscheduler flowable int cf pp replay functions flowable int identity 1 timeunit seconds scheduler true testsubscriber int ts cf test thread sleep 200 system gc thread sleep 200 final memorymxbean memorymxbean managementfactory getmemorymxbean long initial memorymxbean getheapmemoryusage getused system out printf bounded replay leak check starting 3f mb n initial 1024 0 1024 0 pp onnext new int 100 1024 1024 ts assertvaluecount 1 ts values clear scheduler advancetimeby 2 timeunit seconds pp onnext new int 0 thread sleep 200 system gc thread sleep 200 long after memorymxbean getheapmemoryusage getused ts cancel system out printf bounded replay leak check after 3f mb n after 1024 0 1024 0 if initial 100 1024 1024 after assert fail bounded replay leak check memory leak detected initial 1024 0 1024 0 after 1024 0 1024 0 
publishprocessor int pp publishprocessor create testscheduler scheduler new testscheduler flowable int cf pp replay functions flowable int identity 1 5 timeunit seconds scheduler true testsubscriber int ts cf test thread sleep 200 system gc thread sleep 200 final memorymxbean memorymxbean managementfactory getmemorymxbean long initial memorymxbean getheapmemoryusage getused system out printf bounded replay leak check starting 3f mb n initial 1024 0 1024 0 pp onnext new int 100 1024 1024 ts assertvaluecount 1 ts values clear scheduler advancetimeby 2 timeunit seconds pp onnext new int 0 thread sleep 200 system gc thread sleep 200 long after memorymxbean getheapmemoryusage getused ts cancel system out printf bounded replay leak check after 3f mb n after 1024 0 1024 0 if initial 100 1024 1024 after assert fail bounded replay leak check memory leak detected initial 1024 0 1024 0 after 1024 0 1024 0 
flowable just 1 replay 1 1 timeunit seconds new true autoconnect test assertcomplete assertnoerrors 
publishprocessor integer pp publishprocessor create connectableflowable integer cf pp replay 10 true testsubscriber integer ts cf test disposable d cf connect pp onnext 1 d dispose ts cf test ts assertempty cf connect ts assertempty pp onnext 2 ts assertvaluesonly 2 
publishprocessor integer pp publishprocessor create connectableflowable integer cf pp replay 10 timeunit minutes schedulers single true testsubscriber integer ts cf test disposable d cf connect pp onnext 1 d dispose ts cf test ts assertempty cf connect ts assertempty pp onnext 2 ts assertvaluesonly 2 
publishprocessor integer pp publishprocessor create connectableflowable integer cf pp replay 10 10 timeunit minutes schedulers single true testsubscriber integer ts cf test disposable d cf connect pp onnext 1 d dispose ts cf test ts assertempty cf connect ts assertempty pp onnext 2 ts assertvaluesonly 2 
final atomicboolean subscribed new atomicboolean false final flowable integer flowable flowable just 4 switchifempty flowable just 2 doonsubscribe new consumer subscription override public void accept subscription s subscribed set true assertequals 4 flowable blockingsingle intvalue assertfalse subscribed get 
final flowable integer flowable flowable integer empty switchifempty flowable fromiterable arrays aslist 42 assertequals 42 flowable blockingsingle intvalue 
final atomicboolean emitted new atomicboolean false flowable long withproducer flowable unsafecreate new publisher long override public void subscribe final subscriber super long subscriber subscriber onsubscribe new subscription override public void request long n if n 0 emitted compareandset false true emitted set true subscriber onnext 42l subscriber oncomplete override public void cancel final flowable long flowable flowable long empty switchifempty withproducer assertequals 42 flowable blockingsingle intvalue 
final booleansubscription bs new booleansubscription flowable long withproducer flowable unsafecreate new publisher long override public void subscribe final subscriber super long subscriber subscriber onsubscribe bs subscriber onnext 42l flowable long empty switchifempty withproducer lift new flowableoperator long long override public subscriber super long apply final subscriber super long child return new defaultsubscriber long override public void oncomplete override public void onerror throwable e override public void onnext long along cancel subscribe asserttrue bs iscancelled 
final booleansubscription bs new booleansubscription flowable unsafecreate new publisher long override public void subscribe final subscriber super long subscriber subscriber onsubscribe bs subscriber oncomplete switchifempty flowable long never subscribe assertfalse bs iscancelled 
testsubscriber integer ts new testsubscriber 1l flowable integer empty switchifempty flowable just 1 2 3 subscribe ts assertequals arrays aslist 1 ts values ts assertnoerrors ts request 1 ts assertvaluecount 2 ts request 1 ts assertvaluecount 3 
testsubscriber integer ts new testsubscriber 0l flowable integer empty switchifempty flowable just 1 2 3 subscribe ts ts assertnovalues ts assertnoerrors 
testsubscriber integer ts new testsubscriber 0l flowable just 1 2 3 switchifempty flowable just 4 5 6 subscribe ts ts assertnotcomplete ts assertnoerrors ts assertnovalues 
final testsubscriber long ts new testsubscriber 0l flowable unsafecreate new publisher long override public void subscribe final subscriber super long subscriber subscriber onsubscribe new subscription final atomicboolean completed new atomicboolean false override public void request long n if n 0 completed compareandset false true schedulers io createworker schedule new runnable override public void run subscriber oncomplete 100 timeunit milliseconds override public void cancel switchifempty flowable fromiterable arrays aslist 1l 2l 3l subscribeon schedulers computation subscribe ts thread sleep 50 ts request 1 ts request 1 thread sleep 500 ts assertnotcomplete ts assertnoerrors ts assertvaluecount 2 ts cancel 
maybe integer last flowable just 1 2 3 lastelement assertequals 3 last blockingget intvalue 
maybe last flowable empty lastelement assertnull last blockingget 
maybe integer last flowable just 1 2 3 lastelement assertequals 3 last blockingget intvalue assertequals 3 last blockingget intvalue 
flowable just 1 2 3 lastelement 
maybe integer maybe flowable just 1 2 3 lastelement maybeobserver integer observer testhelper mockmaybeobserver maybe subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 3 inorder 
maybe integer maybe flowable just 1 lastelement maybeobserver integer observer testhelper mockmaybeobserver maybe subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 1 inorder 
maybe integer maybe flowable integer empty lastelement maybeobserver integer observer testhelper mockmaybeobserver maybe subscribe observer inorder inorder inorder observer inorder verify observer oncomplete inorder verify observer never onerror any throwable class inorder 
maybe integer maybe flowable just 1 2 3 4 5 6 filter new predicate integer override public boolean test integer t1 return t1 2 0 lastelement maybeobserver integer observer testhelper mockmaybeobserver maybe subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 6 inorder 
maybe integer maybe flowable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 lastelement maybeobserver integer observer testhelper mockmaybeobserver maybe subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 2 inorder 
maybe integer maybe flowable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 lastelement maybeobserver integer observer testhelper mockmaybeobserver maybe subscribe observer inorder inorder inorder observer inorder verify observer oncomplete inorder verify observer never onerror any throwable class inorder 
single integer single flowable just 1 2 3 last 4 singleobserver integer observer testhelper mocksingleobserver single subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 3 inorder 
single integer single flowable just 1 last 2 singleobserver integer observer testhelper mocksingleobserver single subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 1 inorder 
single integer single flowable integer empty last 1 singleobserver integer observer testhelper mocksingleobserver single subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 1 inorder 
single integer single flowable just 1 2 3 4 5 6 filter new predicate integer override public boolean test integer t1 return t1 2 0 last 8 singleobserver integer observer testhelper mocksingleobserver single subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 6 inorder 
single integer single flowable just 1 2 filter new predicate integer override public boolean test integer t1 return t1 2 0 last 4 singleobserver integer observer testhelper mocksingleobserver single subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 2 inorder 
single integer single flowable just 1 filter new predicate integer override public boolean test integer t1 return t1 2 0 last 2 singleobserver integer observer testhelper mocksingleobserver single subscribe observer inorder inorder inorder observer inorder verify observer times 1 onsuccess 2 inorder 
flowable empty lastorerror test assertnovalues asserterror class 
flowable just 1 lastorerror test assertnoerrors assertvalue 1 
flowable just 1 2 3 lastorerror test assertnoerrors assertvalue 3 
flowable error new runtimeexception error lastorerror to testhelper testconsumer assertnovalues asserterrormessage error asserterror runtimeexception class 
testhelper checkdisposed flowable never lastelement toflowable testhelper checkdisposed flowable never lastelement testhelper checkdisposed flowable just 1 lastorerror toflowable testhelper checkdisposed flowable just 1 lastorerror testhelper checkdisposed flowable just 1 last 2 toflowable testhelper checkdisposed flowable just 1 last 2 
testhelper new function flowable object maybesource object override public maybesource object apply flowable object f throws exception return f lastelement testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f lastelement toflowable testhelper new function flowable object singlesource object override public singlesource object apply flowable object f throws exception return f lastorerror testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f lastorerror toflowable testhelper new function flowable object singlesource object override public singlesource object apply flowable object f throws exception return f last 2 testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f last 2 toflowable 
flowable error new testexception lastelement test assertfailure testexception class 
flowable error new testexception lastorerror toflowable test assertfailure testexception class 
flowable empty lastorerror toflowable test assertfailure class 
concat2strings new bifunction string string string override public string apply string t1 string t2 return t1 t2 s1 publishprocessor create s2 publishprocessor create zipped flowable zip s1 s2 concat2strings subscriber testhelper mocksubscriber inorder inorder subscriber zipped subscribe subscriber 
s1 onnext a s1 onnext b s1 oncomplete s2 onnext 1 inorder verify subscriber times 1 onnext a 1 s2 onnext 2 inorder verify subscriber times 1 onnext b 2 inorder verify subscriber times 1 oncomplete inorder 
s2 onnext 1 s2 onnext 2 s1 onnext a inorder verify subscriber times 1 onnext a 1 s1 onnext b inorder verify subscriber times 1 onnext b 2 s1 oncomplete inorder verify subscriber times 1 oncomplete inorder 
s2 onnext 1 s2 onnext 2 s2 oncomplete s1 onnext a inorder verify subscriber times 1 onnext a 1 s1 onnext b inorder verify subscriber times 1 onnext b 2 inorder verify subscriber times 1 oncomplete inorder 
s1 onnext a s1 onnext b s2 onnext 1 inorder verify subscriber times 1 onnext a 1 s2 onnext 2 inorder verify subscriber times 1 onnext b 2 s2 oncomplete inorder verify subscriber times 1 oncomplete inorder 
final atomiclong counter new atomiclong final integer numbers new integer 5000 for int i 0 i numbers length i numbers i i 1 final int niters 250 final countdownlatch latch new countdownlatch niters for int iters 0 iters niters iters final countdownlatch innerlatch new countdownlatch 1 final publishprocessor void s publishprocessor create final atomicboolean completed new atomicboolean flowable fromarray numbers takeuntil s window 50 flatmap new function flowable integer publisher object override public publisher object apply flowable integer integerobservable return integerobservable subscribeon schedulers computation map new function integer object override public object apply integer integer if integer 5 completed compareandset false true s oncomplete math pow math random math random return integer 2 tolist doonsuccess new consumer list object override public void accept list object integers counter incrementandget latch countdown innerlatch countdown subscribe if innerlatch await 30 timeunit seconds assert fail failed inner latch wait iteration iters if latch await 30 timeunit seconds assert fail incomplete went through latch getcount iterations else assert assertequals niters counter get 
flowable range 1 10 onerrorcomplete test assertresult 1 2 3 4 5 6 7 8 9 10 
flowable range 1 10 onerrorcomplete test 0 assertempty requestmore 3 assertvaluesonly 1 2 3 requestmore 3 assertvaluesonly 1 2 3 4 5 6 requestmore 4 assertresult 1 2 3 4 5 6 7 8 9 10 
flowable empty onerrorcomplete test assertresult 
testhelper witherrortracking errors flowable error new testexception onerrorcomplete test assertresult asserttrue errors errors isempty 
testhelper witherrortracking errors flowable error new testexception onerrorcomplete error error instanceof testexception test assertresult asserttrue errors errors isempty 
testhelper witherrortracking errors flowable error new ioexception onerrorcomplete error error instanceof testexception test assertfailure ioexception class asserttrue errors errors isempty 
testhelper witherrortracking errors testsubscriberex object ts flowable error new ioexception onerrorcomplete error throw new testexception subscribewith new testsubscriberex assertfailure compositeexception class testhelper asserterror ts 0 ioexception class testhelper asserterror ts 1 testexception class asserttrue errors errors isempty 
testhelper witherrortracking errors flowable range 1 5 map v 4 3 v onerrorcomplete test assertresult 2 4 asserttrue errors errors isempty 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp onerrorcomplete test asserttrue no subscribers pp hassubscribers ts cancel assertfalse still subscribers pp hassubscribers 
testhelper f f onerrorcomplete 
testscheduler scheduler new testscheduler publishprocessor integer source publishprocessor create flowable integer result source take 1 timeunit seconds scheduler subscriber object subscriber testhelper mocksubscriber result subscribe subscriber source onnext 1 source onnext 2 source onnext 3 scheduler advancetimeby 1 timeunit seconds source onnext 4 inorder inorder inorder subscriber inorder verify subscriber onnext 1 inorder verify subscriber onnext 2 inorder verify subscriber onnext 3 inorder verify subscriber oncomplete inorder verify subscriber never onnext 4 verify subscriber never onerror any throwable class 
testscheduler scheduler new testscheduler publishprocessor integer source publishprocessor create flowable integer result source take 1 timeunit seconds scheduler subscriber object subscriber testhelper mocksubscriber result subscribe subscriber source onnext 1 source onnext 2 source onnext 3 source onerror new testexception scheduler advancetimeby 1 timeunit seconds source onnext 4 inorder inorder inorder subscriber inorder verify subscriber onnext 1 inorder verify subscriber onnext 2 inorder verify subscriber onnext 3 inorder verify subscriber onerror any testexception class inorder verify subscriber never oncomplete verify subscriber never onnext 4 
testscheduler scheduler new testscheduler publishprocessor integer source publishprocessor create flowable integer result source take 1 timeunit seconds scheduler subscriber object subscriber testhelper mocksubscriber result subscribe subscriber source onnext 1 source onnext 2 source onnext 3 scheduler advancetimeby 1 timeunit seconds source onnext 4 source onerror new testexception inorder inorder inorder subscriber inorder verify subscriber onnext 1 inorder verify subscriber onnext 2 inorder verify subscriber onnext 3 inorder verify subscriber oncomplete inorder verify subscriber never onnext 4 verify subscriber never onerror any testexception class 
flowable range 1 5 take 1 timeunit minutes test awaitdone 5 timeunit seconds assertresult 1 2 3 4 5 
flowable fromsingle single just 1 hide test assertresult 1 
flowable fromsingle single error new testexception hide test assertfailure testexception class 
singlesubject integer ms singlesubject create testsubscriber integer ts flowable fromsingle ms test ts assertempty asserttrue ms hasobservers ts cancel assertfalse ms hasobservers 
testsubscriberex integer ts new testsubscriberex ts setinitialfusionmode queuefuseable async flowable fromsingle single just 1 subscribe ts ts assertfuseable assertfusionmode queuefuseable async assertresult 1 
testsubscriberex integer ts new testsubscriberex ts setinitialfusionmode queuefuseable sync flowable fromsingle single just 1 subscribe ts ts assertfuseable assertfusionmode queuefuseable none assertresult 1 
requests add cancelled 
flowable range 1 5 doonrequest this take 6 test assertresult 1 2 3 4 5 assertequals 6 requests get 0 intvalue 
flowable range 1 5 doonrequest this dooncancel this take 5 test assertresult 1 2 3 4 5 assertequals 2 requests size assertequals 5 requests get 0 intvalue assertequals cancelled requests get 1 
flowable range 1 6 doonrequest this take 5 test assertresult 1 2 3 4 5 assertequals 5 requests get 0 intvalue 
flowable error new testexception take 5 test assertfailure testexception class 
flowable range 1 5 dooncancel this doonrequest this take 0 test assertresult assertequals 1 requests size assertequals cancelled requests get 0 
testsubscriber integer ts flowable range 1 6 doonrequest this take 5 test 0l assertequals 0 requests size ts request 1 ts assertvalue 1 ts request 2 ts assertvalues 1 2 3 ts request 3 ts assertresult 1 2 3 4 5 assertequals arrays aslist 1l 2l 2l requests 
flowable range 1 5 dooncancel this doonrequest this take 6 take 5 test assertresult 1 2 3 4 5 assertequals arrays aslist 5l cancelled requests 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp doonrequest this take 5 test 0l ts request 5 ts request 10 asserttrue pp offer 1 pp oncomplete ts assertresult 1 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer s booleansubscription bs new booleansubscription s onsubscribe bs asserttrue bs iscancelled s onnext 1 s oncomplete s onerror new testexception s onsubscribe null take 0 test assertresult testhelper assertundeliverable errors 0 testexception class testhelper asserterror errors 1 nullpointerexception class finally rxjavaplugins reset 
testhelper flowable range 1 5 take 3 
for int i 0 i testhelper race default loops i final testsubscriber integer ts flowable range 1 10 take 5 test 0l runnable r new runnable override public void run ts request 3 testhelper race r r ts assertresult 1 2 3 4 5 
list throwable errors testhelper trackpluginerrors try flowable error new testexception take 0 test assertresult testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
flowable integer w flowable just 1 2 3 flowable integer take w takewhile new predicate integer override public boolean test integer input return input 3 subscriber integer subscriber testhelper mocksubscriber take subscribe subscriber verify subscriber times 1 onnext 1 verify subscriber times 1 onnext 2 verify subscriber never onnext 3 verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
flowableprocessor integer s publishprocessor create flowable integer take s takewhile new predicate integer override public boolean test integer input return input 3 subscriber integer subscriber testhelper mocksubscriber take subscribe subscriber s onnext 1 s onnext 2 s onnext 3 s onnext 4 s onnext 5 s oncomplete verify subscriber times 1 onnext 1 verify subscriber times 1 onnext 2 verify subscriber never onnext 3 verify subscriber never onnext 4 verify subscriber never onnext 5 verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
flowable string w flowable just one two three flowable string take w takewhile new predicate string int index override public boolean test string input return index 2 subscriber string subscriber testhelper mocksubscriber take subscribe subscriber verify subscriber times 1 onnext one verify subscriber times 1 onnext two verify subscriber never onnext three verify subscriber never onerror any throwable class verify subscriber times 1 oncomplete 
list throwable errors testhelper trackpluginerrors try flowable string source flowable unsafecreate new publisher string override public void subscribe subscriber super string subscriber subscriber onsubscribe new booleansubscription subscriber onnext one subscriber onerror new testexception test failed source takewhile new predicate string override public boolean test string s return false blockinglast testhelper assertundeliverable errors 0 testexception class test failed finally rxjavaplugins reset 
subscriber onsubscribe new booleansubscription subscriber onnext one subscriber onerror new testexception test failed 
testflowable source new testflowable mock subscription class one final runtimeexception testexception new runtimeexception test exception subscriber string subscriber testhelper mocksubscriber flowable string take flowable unsafecreate source takewhile new predicate string override public boolean test string s throw testexception take subscribe subscriber try source t join catch throwable e e printstacktrace fail e getmessage verify subscriber never onnext any string class verify subscriber times 1 onerror testexception 
subscription s mock subscription class testflowable w new testflowable s one two three subscriber string subscriber testhelper mocksubscriber flowable string take flowable unsafecreate w takewhile new predicate string int index override public boolean test string s return index 1 take subscribe subscriber try w t join catch throwable e e printstacktrace fail e getmessage system out println testflowable thread finished verify subscriber times 1 onnext one verify subscriber never onnext two verify subscriber never onnext three verify s times 1 cancel 
flowable integer source flowable range 1 1000 takewhile new predicate integer override public boolean test integer t1 return t1 100 testsubscriber integer ts new testsubscriber 5l source subscribe ts ts assertnoerrors ts assertvalues 1 2 3 4 5 ts request 5 ts assertnoerrors ts assertvalues 1 2 3 4 5 6 7 8 9 10 
flowable integer source flowable range 1 1000 takewhile new predicate integer override public boolean test integer t1 return t1 2 testsubscriber integer ts new testsubscriber source subscribe ts ts assertnoerrors ts assertvalue 1 assert assertfalse unsubscribed ts iscancelled 
testsubscriberex string ts new testsubscriberex flowable just abc takewhile new predicate string override public boolean test string t1 throw new testexception subscribe ts ts assertterminated ts assertnovalues ts asserterror testexception class 
testhelper checkdisposed publishprocessor create takewhile functions alwaystrue 
testhelper new function flowable object flowable object override public flowable object apply flowable object f throws exception return f takewhile functions alwaystrue 
new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber oncomplete subscriber oncomplete takewhile functions alwaystrue test assertresult 
scheduler new testscheduler innerscheduler scheduler createworker 
final list string list new arraylist final list list string lists new arraylist flowable string source flowable unsafecreate new publisher string override public void subscribe subscriber super string subscriber subscriber onsubscribe new booleansubscription push subscriber one 10 push subscriber two 60 push subscriber three 110 push subscriber four 160 push subscriber five 210 complete subscriber 500 flowable object openings flowable unsafecreate new publisher object override public void subscribe subscriber super object subscriber subscriber onsubscribe new booleansubscription push subscriber new object 50 push subscriber new object 200 complete subscriber 250 function object flowable object closer new function object flowable object override public flowable object apply object opening return flowable unsafecreate new publisher object override public void subscribe subscriber super object subscriber subscriber onsubscribe new booleansubscription push subscriber new object 100 complete subscriber 101 flowable flowable string windowed source window openings closer windowed subscribe observewindow list lists scheduler advancetimeto 500 timeunit milliseconds assertequals 2 lists size assertequals lists get 0 list two three assertequals lists get 1 list five 
return new consumer flowable string override public void accept flowable string stringflowable stringflowable subscribe new defaultsubscriber string override public void oncomplete lists add new arraylist list list clear override public void onerror throwable e fail e getmessage override public void onnext string args list add args 
publishprocessor integer source publishprocessor create publishprocessor integer open publishprocessor create final publishprocessor integer close publishprocessor create testsubscriber flowable integer ts new testsubscriber source window open new function integer flowable integer override public flowable integer apply integer t return close doonnext new consumer flowable integer override public void accept flowable integer w throws throwable w subscribe functions emptyconsumer functions emptyconsumer subscribe ts open onnext 1 source onnext 1 asserttrue open hassubscribers asserttrue close hassubscribers close onnext 1 assertfalse close hassubscribers source oncomplete ts assertcomplete ts assertnoerrors ts assertvaluecount 1 assertfalse ts iscancelled assertfalse open hassubscribers assertfalse close hassubscribers 
publishprocessor integer source publishprocessor create publishprocessor integer open publishprocessor create final publishprocessor integer close publishprocessor create testsubscriber flowable integer ts new testsubscriber source window open new function integer flowable integer override public flowable integer apply integer t return close doonnext new consumer flowable integer override public void accept flowable integer w throws throwable w subscribe functions emptyconsumer functions emptyconsumer subscribe ts open onnext 1 asserttrue open hassubscribers asserttrue close hassubscribers ts cancel assertfalse open hassubscribers asserttrue close hassubscribers 
testhelper checkdisposed flowable just 1 window flowable just 2 functions justfunction flowable never 
final flowableprocessor integer pp publishprocessor integer create testsubscriber integer ts new testsubscriber integer override public void onnext integer t super onnext t if t 1 pp onnext 2 pp oncomplete pp window behaviorprocessor createdefault 1 functions justfunction flowable never flatmap new function flowable integer flowable integer override public flowable integer apply flowable integer v throws exception return v subscribe ts pp onnext 1 ts awaitdone 1 timeunit seconds assertresult 1 2 
publishprocessor integer source publishprocessor create publishprocessor integer start publishprocessor create final publishprocessor integer end publishprocessor create testsubscriber integer ts source window start new function integer flowable integer override public flowable integer apply integer v throws exception return end flatmap functions flowable integer identity test start onnext 0 source onnext 1 source onnext 2 source onnext 3 source onnext 4 start onnext 1 source onnext 5 source onnext 6 end onnext 1 start onnext 2 testhelper emit source 7 8 ts assertresult 1 2 3 4 5 5 6 6 7 8 
publishprocessor integer source publishprocessor create publishprocessor integer start publishprocessor create final publishprocessor integer end publishprocessor create testsubscriber integer ts source window start new function integer flowable integer override public flowable integer apply integer v throws exception return end flatmap functions flowable integer identity test start onerror new testexception ts assertfailure testexception class assertfalse source has observers source hassubscribers assertfalse start has observers start hassubscribers assertfalse end has observers end hassubscribers 
publishprocessor integer source publishprocessor create publishprocessor integer start publishprocessor create final publishprocessor integer end publishprocessor create testsubscriber integer ts source window start new function integer flowable integer override public flowable integer apply integer v throws exception return end flatmap functions flowable integer identity test start onnext 1 end onerror new testexception ts assertfailure testexception class assertfalse source has observers source hassubscribers assertfalse start has observers start hassubscribers assertfalse end has observers end hassubscribers 
flowable integer error new testexception window flowable never functions justfunction flowable just 1 flatmap functions flowable integer identity test assertfailure testexception class 
list throwable errors testhelper trackpluginerrors try behaviorprocessor createdefault 1 window behaviorprocessor createdefault 1 new function integer publisher integer override public publisher integer apply integer f throws exception return new flowable integer override protected void subscribeactual subscriber super integer s s onsubscribe new booleansubscription s onnext 1 s onnext 2 s onerror new testexception doonnext new consumer flowable integer override public void accept flowable integer w throws throwable w subscribe functions emptyconsumer functions emptyconsumer test assertvaluecount 1 assertnoerrors assertnotcomplete testhelper assertundeliverable errors 0 testexception class finally rxjavaplugins reset 
return flowable just 1 concatwith flowable integer never dooncancel new action override public void run throws exception ref set true 
atomicboolean maindisposed new atomicboolean atomicboolean opendisposed new atomicboolean final atomicboolean closedisposed new atomicboolean flowabledisposed maindisposed window flowabledisposed opendisposed new function integer flowable integer override public flowable integer apply integer v throws exception return flowabledisposed closedisposed doonnext new consumer flowable integer override public void accept flowable integer w throws throwable w subscribe functions emptyconsumer functions emptyconsumer to testhelper flowable integer testconsumer assertsubscribed assertnoerrors assertnotcomplete cancel asserttrue maindisposed get asserttrue opendisposed get asserttrue closedisposed get 
publishprocessor integer source publishprocessor create publishprocessor integer boundary publishprocessor create testsubscriber flowable integer ts source window boundary functions justfunction flowable never test 0l ts assertempty boundary onnext 1 ts assertfailure class assertfalse source hassubscribers assertfalse boundary hassubscribers 
publishprocessor integer pp publishprocessor create testsubscriber integer ts pp window flowable just 1 concatwith flowable integer never functions justfunction flowable never take 1 flatmap new function flowable integer publisher integer override public publisher integer apply flowable integer w throws throwable return w take 1 test asserttrue pp hassubscribers pp onnext 1 ts assertresult 1 assertfalse processor still has subscribers pp hassubscribers 
publishprocessor integer pp publishprocessor create final atomicreference flowable integer inner new atomicreference testsubscriber flowable integer ts pp window flowable integer just 1 concatwith flowable integer never functions justfunction flowable never doonnext new consumer flowable integer override public void accept flowable integer v throws throwable inner set v test asserttrue pp hassubscribers ts assertvaluecount 1 pp onnext 1 asserttrue pp hassubscribers ts cancel ts assertvaluecount 1 assertnoerrors assertnotcomplete assertfalse processor still has subscribers pp hassubscribers inner get test assertresult 
publishprocessor integer source publishprocessor create publishprocessor integer boundary publishprocessor create testsubscriber flowable integer ts source window boundary new function integer publisher object override public publisher object apply integer end throws throwable throw new testexception test ts assertempty boundary onnext 1 ts assertfailure testexception class assertfalse source hassubscribers assertfalse boundary hassubscribers 
testhelper o o window flowable never v flowable never 
testhelper witherrortracking errors testexception ex1 new testexception testexception ex2 new testexception for int i 0 i testhelper race default loops i atomicreference subscriber super integer ref1 new atomicreference atomicreference subscriber super integer ref2 new atomicreference flowable integer f1 flowable integer frompublisher ref1 set flowable integer f2 flowable integer frompublisher ref2 set testsubscriber flowable integer ts behaviorprocessor createdefault 1 window f1 v f2 doonnext w w test test ref1 get onsubscribe new booleansubscription ref1 get onnext 1 ref2 get onsubscribe new booleansubscription testhelper race ref1 get onerror ex1 ref2 get onerror ex2 ts asserterror runtimeexception class if errors isempty testhelper assertundeliverable errors 0 testexception class errors clear 
testhelper witherrortracking errors atomicreference subscriber super integer ref1 new atomicreference atomicreference subscriber super integer ref2 new atomicreference flowable integer f1 flowable integer unsafecreate ref1 set flowable integer f2 flowable integer unsafecreate ref2 set testsubscriber integer ts behaviorprocessor createdefault 1 window f1 v f2 flatmap v v test ref1 get onsubscribe new booleansubscription ref1 get onnext 1 ref2 get onsubscribe new booleansubscription ref2 get onerror new testexception ref2 get onerror new testexception ts assertfailure testexception class testhelper assertundeliverable errors 0 testexception class 
flowable error new testexception window flowable never v flowable never test assertfailure testexception class 
atomicreference subscriber super integer ref1 new atomicreference publishprocessor object pp publishprocessor create flowable integer f1 flowable integer unsafecreate ref1 set atomicinteger counter new atomicinteger testsubscriber flowable object ts pp window f1 v flowable never doonnext w if counter getandincrement 0 ref1 get onnext 2 pp onnext 1 pp oncomplete w test test ref1 get onsubscribe new booleansubscription ref1 get onnext 1 ts assertcomplete 
atomicreference subscriber super integer ref1 new atomicreference publishprocessor object pp publishprocessor create flowable integer f1 flowable integer unsafecreate ref1 set atomicinteger counter new atomicinteger testsubscriber flowable object ts pp window f1 v flowable never doonnext w if counter getandincrement 0 ref1 get onnext 2 pp onnext 1 pp onerror new testexception w test test ref1 get onsubscribe new booleansubscription ref1 get onnext 1 ts asserterror testexception class 
atomicreference subscriber super integer ref1 new atomicreference publishprocessor object pp publishprocessor create flowable integer f1 flowable integer unsafecreate ref1 set testsubscriber flowable object ts pp window f1 v flowable never take 1 doonnext w w test test ref1 get onsubscribe new booleansubscription ref1 get onnext 1 ref1 get onnext 2 ts assertvaluecount 1 
testhelper flowable never window flowable never v flowable never 
testhelper witherrortracking errors flowable frompublisher s s onsubscribe new booleansubscription s onnext 1 s onerror new ioexception window behaviorprocessor createdefault 1 v flowable error new testexception doonnext w w test test asserterror testexception class testhelper assertundeliverable errors 0 ioexception class 
object n notificationlite next hello object c notificationlite complete asserttrue notificationlite iscomplete c assertfalse notificationlite iscomplete n assertequals hello notificationlite getvalue n 
assertsame 1 notificationlite next 1 
testhelper checkenum notificationlite class 
object o notificationlite error new testexception assertequals notificationlite error io reactivex rxjava3 exceptions testexception o tostring asserttrue notificationlite iserror o assertfalse notificationlite iscomplete o assertfalse notificationlite isdisposable o assertfalse notificationlite issubscription o asserttrue notificationlite geterror o instanceof testexception 
object o notificationlite complete object o2 notificationlite complete assertsame o o2 assertfalse notificationlite iserror o asserttrue notificationlite iscomplete o assertfalse notificationlite isdisposable o assertfalse notificationlite issubscription o assertequals notificationlite complete o tostring asserttrue notificationlite iscomplete o 
object o notificationlite disposable disposable empty assertequals notificationlite disposable runnabledisposable disposed false emptyrunnable o tostring assertfalse notificationlite iserror o assertfalse notificationlite iscomplete o asserttrue notificationlite isdisposable o assertfalse notificationlite issubscription o assertnotnull notificationlite getdisposable o 
object o notificationlite subscription new booleansubscription assertequals notificationlite subscription booleansubscription cancelled false o tostring assertfalse notificationlite iserror o assertfalse notificationlite iscomplete o assertfalse notificationlite isdisposable o asserttrue notificationlite issubscription o assertnotnull notificationlite getsubscription o 
publishprocessor integer source publishprocessor create connectableflowable integer cf source replay 3 cf connect subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 source onnext 1 source onnext 2 source onnext 3 inorder verify subscriber1 times 1 onnext 1 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 3 source onnext 4 source oncomplete inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 3 inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class 
publishprocessor integer source publishprocessor create testscheduler scheduler new testscheduler connectableflowable integer cf source replay 3 100 timeunit milliseconds scheduler cf connect subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 source onnext 1 scheduler advancetimeby 10 timeunit milliseconds source onnext 2 scheduler advancetimeby 10 timeunit milliseconds source onnext 3 scheduler advancetimeby 10 timeunit milliseconds inorder verify subscriber1 times 1 onnext 1 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 3 source onnext 4 source onnext 5 scheduler advancetimeby 90 timeunit milliseconds inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 onnext 5 inorder verify subscriber1 never onerror any throwable class subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 onnext 5 inorder verify subscriber1 never onerror any throwable class 
testscheduler scheduler new testscheduler publishprocessor integer source publishprocessor create connectableflowable integer cf source replay 100 timeunit milliseconds scheduler cf connect subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 source onnext 1 scheduler advancetimeby 60 timeunit milliseconds source onnext 2 scheduler advancetimeby 60 timeunit milliseconds source onnext 3 scheduler advancetimeby 60 timeunit milliseconds source oncomplete scheduler advancetimeby 60 timeunit milliseconds inorder verify subscriber1 times 1 onnext 1 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 3 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 inorder verify subscriber1 never onnext 3 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class 
final function integer integer dbl new function integer integer override public integer apply integer t1 return t1 2 function flowable integer flowable integer selector new function flowable integer flowable integer override public flowable integer apply flowable integer t1 return t1 map dbl publishprocessor integer source publishprocessor create flowable integer co source replay selector subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 co subscribe subscriber1 source onnext 1 source onnext 2 source onnext 3 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 onnext 6 source onnext 4 source oncomplete inorder verify subscriber1 times 1 onnext 8 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 co subscribe subscriber1 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class 
final function integer integer dbl new function integer integer override public integer apply integer t1 return t1 2 function flowable integer flowable integer selector new function flowable integer flowable integer override public flowable integer apply flowable integer t1 return t1 map dbl publishprocessor integer source publishprocessor create flowable integer co source replay selector 3 subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 co subscribe subscriber1 source onnext 1 source onnext 2 source onnext 3 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 onnext 6 source onnext 4 source oncomplete inorder verify subscriber1 times 1 onnext 8 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 co subscribe subscriber1 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class 
final function integer integer dbl new function integer integer override public integer apply integer t1 return t1 2 function flowable integer flowable integer selector new function flowable integer flowable integer override public flowable integer apply flowable integer t1 return t1 map dbl testscheduler scheduler new testscheduler publishprocessor integer source publishprocessor create flowable integer co source replay selector 100 timeunit milliseconds scheduler subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 co subscribe subscriber1 source onnext 1 scheduler advancetimeby 60 timeunit milliseconds source onnext 2 scheduler advancetimeby 60 timeunit milliseconds source onnext 3 scheduler advancetimeby 60 timeunit milliseconds source oncomplete scheduler advancetimeby 60 timeunit milliseconds inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 onnext 6 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 co subscribe subscriber1 inorder verify subscriber1 times 1 oncomplete inorder verify subscriber1 never onerror any throwable class 
publishprocessor integer source publishprocessor create connectableflowable integer cf source replay 3 cf connect subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 source onnext 1 source onnext 2 source onnext 3 inorder verify subscriber1 times 1 onnext 1 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 3 source onnext 4 source onerror new runtimeexception forced failure inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 onerror any runtimeexception class inorder verify subscriber1 never oncomplete subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 3 inorder verify subscriber1 times 1 onnext 4 inorder verify subscriber1 times 1 onerror any runtimeexception class inorder verify subscriber1 never oncomplete 
testscheduler scheduler new testscheduler publishprocessor integer source publishprocessor create connectableflowable integer cf source replay 100 timeunit milliseconds scheduler cf connect subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 source onnext 1 scheduler advancetimeby 60 timeunit milliseconds source onnext 2 scheduler advancetimeby 60 timeunit milliseconds source onnext 3 scheduler advancetimeby 60 timeunit milliseconds source onerror new runtimeexception forced failure scheduler advancetimeby 60 timeunit milliseconds inorder verify subscriber1 times 1 onnext 1 inorder verify subscriber1 times 1 onnext 2 inorder verify subscriber1 times 1 onnext 3 inorder verify subscriber1 times 1 onerror any runtimeexception class inorder verify subscriber1 never oncomplete subscriber object subscriber1 testhelper mocksubscriber inorder inorder inorder subscriber1 cf subscribe subscriber1 inorder verify subscriber1 never onnext 3 inorder verify subscriber1 times 1 onerror any runtimeexception class inorder verify subscriber1 never oncomplete 
final atomicinteger effectcounter new atomicinteger flowable integer source flowable just 1 2 3 4 doonnext new consumer integer override public void accept integer v effectcounter incrementandget system out println sideeffect v flowable integer result source replay new function flowable integer flowable integer override public flowable integer apply flowable integer f return f take 2 for int i 1 i 3 i effectcounter set 0 system out printf d n i result subscribe new consumer integer override public void accept integer t1 system out println t1 new consumer throwable override public void accept throwable t1 t1 printstacktrace new action override public void run system out println done assertequals 2 effectcounter get 
consumer integer sourcenext mock consumer class action sourcecompleted mock action class action sourceunsubscribed mock action class subscriber integer testhelper mocksubscriber subscriber integer testhelper mocksubscriber flowable integer source flowable just 1 2 connectableflowable integer replay source doonnext sourcenext dooncancel sourceunsubscribed dooncomplete sourcecompleted replay replay subscribe replay subscribe replay connect replay subscribe replay subscribe verify times 2 onsubscribe subscription any verify times 2 onsubscribe subscription any verify sourcenext times 1 accept 1 verify sourcenext times 1 accept 2 verify sourcecompleted times 1 run verifyobservermock 2 4 verifyobservermock 2 4 verify sourceunsubscribed never run sourcenext sourcecompleted sourceunsubscribed 
consumer integer sourcenext mock consumer class action sourcecompleted mock action class action sourceunsubscribed mock action class final scheduler mockscheduler mock scheduler class final disposable mocksubscription mock disposable class worker spiedworker workerspy mocksubscription subscriber integer testhelper mocksubscriber subscriber integer testhelper mocksubscriber when mockscheduler createworker thenreturn spiedworker connectableflowable integer replay flowable just 1 2 3 doonnext sourcenext dooncancel sourceunsubscribed dooncomplete sourcecompleted subscribeon mockscheduler replay replay subscribe replay subscribe replay connect replay subscribe replay subscribe verify times 2 onsubscribe subscription any verify times 2 onsubscribe subscription any verify sourcenext times 1 accept 1 verify sourcenext times 1 accept 2 verify sourcenext times 1 accept 3 verify sourcecompleted times 1 run verify mockscheduler times 1 createworker verify spiedworker times 1 schedule runnable notnull verifyobservermock 2 6 verifyobservermock 2 6 verify spiedworker times 1 dispose verify sourceunsubscribed never run sourcenext sourcecompleted sourceunsubscribed spiedworker mocksubscription mockscheduler 
consumer integer sourcenext mock consumer class action sourcecompleted mock action class consumer throwable sourceerror mock consumer class action sourceunsubscribed mock action class final scheduler mockscheduler mock scheduler class final disposable mocksubscription mock disposable class worker spiedworker workerspy mocksubscription subscriber integer testhelper mocksubscriber subscriber integer testhelper mocksubscriber when mockscheduler createworker thenreturn spiedworker function integer integer mockfunc mock function class new when mockfunc apply 1 thenreturn 1 when mockfunc apply 2 thenthrow connectableflowable integer replay flowable just 1 2 3 map mockfunc doonnext sourcenext dooncancel sourceunsubscribed dooncomplete sourcecompleted doonerror sourceerror subscribeon mockscheduler replay replay subscribe replay subscribe replay connect replay subscribe replay subscribe verify times 2 onsubscribe subscription any verify times 2 onsubscribe subscription any verify mockscheduler times 1 createworker verify spiedworker times 1 schedule runnable notnull verify sourcenext times 1 accept 1 verify sourceerror times 1 accept verifyobserver 2 2 verifyobserver 2 2 verify spiedworker times 1 dispose verify sourceunsubscribed never run sourcenext sourcecompleted sourceerror sourceunsubscribed spiedworker mocksubscription mockscheduler 
return spy new inprocessworker mockdisposable 
action run return mockdisposable 
unsubscribed true 
return unsubscribed 
boundedreplaybuffer integer buf new boundedreplaybuffer integer false private static final long serialversionuid override void truncate buf addlast new node 1 0 buf addlast new node 2 1 buf addlast new node 3 2 buf addlast new node 4 3 buf addlast new node 5 4 list integer values new arraylist buf collect values assert assertequals arrays aslist 1 2 3 4 5 values buf removesome 2 buf removefirst buf removesome 2 values clear buf collect values assert asserttrue values isempty buf addlast new node 5 5 buf addlast new node 6 6 buf collect values assert assertequals arrays aslist 5 6 values 
boundedreplaybuffer integer buf new boundedreplaybuffer integer false private static final long serialversionuid override void truncate buf removefirst 
testscheduler test new testscheduler integer buf new 2 2000 timeunit milliseconds test false list integer values new arraylist buf next 1 test advancetimeby 1 timeunit seconds buf next 2 test advancetimeby 1 timeunit seconds buf collect values assert assertequals arrays aslist 2 values buf next 3 buf next 4 values clear buf collect values assert assertequals arrays aslist 3 4 values test advancetimeby 2 timeunit seconds buf next 5 values clear buf collect values assert assertequals arrays aslist 5 values test advancetimeby 2 timeunit seconds buf complete values clear buf collect values assert asserttrue values isempty assert assertequals 1 buf size assert asserttrue buf hascompleted 
final atomiclong requested new atomiclong flowable integer source flowable range 1 1000 doonrequest new longconsumer override public void accept long t requested addandget t connectableflowable integer cf source replay testsubscriberex integer ts1 new testsubscriberex 10l testsubscriberex integer ts2 new testsubscriberex 90l cf subscribe ts1 cf subscribe ts2 ts2 request 10 cf connect ts1 assertvaluecount 10 ts1 assertnotterminated ts2 assertvaluecount 100 ts2 assertnotterminated assert assertequals 100 requested get 
final atomiclong requested new atomiclong flowable integer source flowable range 1 1000 doonrequest new longconsumer override public void accept long t requested addandget t connectableflowable integer cf source replay 50 testsubscriberex integer ts1 new testsubscriberex 10l testsubscriberex integer ts2 new testsubscriberex 90l cf subscribe ts1 cf subscribe ts2 ts2 request 10 cf connect ts1 assertvaluecount 10 ts1 assertnotterminated ts2 assertvaluecount 100 ts2 assertnotterminated assert assertequals 100 requested get 
flowable integer source flowable range 0 1000 replay autoconnect testsubscriberex integer ts new testsubscriberex source subscribe ts ts assertnoerrors ts assertterminated list integer onnextevents ts values assertequals 1000 onnextevents size for int i 0 i 1000 i assertequals integer i onnextevents get i 
flowable integer source flowable range 0 1000 replay autoconnect testsubscriber integer ts new testsubscriber 0l ts request 10 source subscribe ts ts assertnoerrors ts assertnotcomplete list integer onnextevents ts values assertequals 10 onnextevents size for int i 0 i 10 i assertequals integer i onnextevents get i ts cancel 
final atomicinteger counter new atomicinteger flowable string f flowable unsafecreate new publisher string override public void subscribe final subscriber super string subscriber subscriber onsubscribe new booleansubscription new thread new runnable override public void run counter incrementandget system out println published observable being executed subscriber onnext one subscriber oncomplete start replay autoconnect final countdownlatch latch new countdownlatch 2 f subscribe new consumer string override public void accept string v assertequals one v system out println v v latch countdown f subscribe new consumer string override public void accept string v assertequals one v system out println v v latch countdown if latch await 1000 timeunit milliseconds fail subscriptions did not receive values assertequals 1 counter get 
action unsubscribe mock action class flowable integer f flowable just 1 dooncancel unsubscribe replay autoconnect f subscribe f subscribe f subscribe verify unsubscribe never run 
testsubscriberex integer ts new testsubscriberex flowable integer cached flowable range 1 100 replay autoconnect cached take 10 subscribe ts ts assertnoerrors ts assertterminated ts assertvalues 1 2 3 4 5 6 7 8 9 10 
flowable integer source flowable range 1 for int i 0 i 100 i testsubscriberex integer ts1 new testsubscriberex flowable integer cached source replay autoconnect cached observeon schedulers computation subscribe ts1 ts1 awaitdone 2 timeunit seconds ts1 assertnoerrors ts1 assertterminated assertequals ts1 values size testsubscriberex integer ts2 new testsubscriberex cached observeon schedulers computation subscribe ts2 ts2 awaitdone 2 timeunit seconds ts2 assertnoerrors ts2 assertterminated assertequals ts2 values size 
flowable long source flowable interval 1 1 timeunit milliseconds take 1000 subscribeon schedulers io flowable long cached source replay autoconnect flowable long output cached observeon schedulers computation false 1024 list testsubscriberex long list new arraylist 100 for int i 0 i 100 i testsubscriberex long ts new testsubscriberex list add ts output skip i 10 take 10 subscribe ts list long expected new arraylist for int i 0 i 10 i expected add long i 10 int j 0 for testsubscriberex long ts list ts awaitdone 3 timeunit seconds ts assertnoerrors ts assertterminated for int i j 10 i j 10 10 i expected set i j 10 long i ts assertvaluesequence expected j 
final int m 4 1000 1000 flowable integer firehose flowable unsafecreate new publisher integer override public void subscribe subscriber super integer t t onsubscribe new booleansubscription for int i 0 i m i t onnext i t oncomplete testsubscriberex integer ts new testsubscriberex firehose replay autoconnect observeon schedulers computation takelast 100 subscribe ts ts awaitdone 3 timeunit seconds ts assertnoerrors ts assertterminated assertequals 100 ts values size 
flowable integer source flowable range 1 10 concatwith flowable integer error new testexception replay autoconnect testsubscriberex integer ts new testsubscriberex source subscribe ts ts assertvalues 1 2 3 4 5 6 7 8 9 10 ts assertnotcomplete assert assertequals 1 ts errors size testsubscriberex integer ts2 new testsubscriberex source subscribe ts2 ts2 assertvalues 1 2 3 4 5 6 7 8 9 10 ts2 assertnotcomplete assert assertequals 1 ts2 errors size 
final atomicinteger count new atomicinteger flowable integer source flowable range 1 100 doonnext new consumer integer override public void accept integer t count getandincrement replay autoconnect testsubscriber integer ts new testsubscriber integer override public void onnext integer t throw new testexception source subscribe ts assert assertequals 100 count get ts assertnovalues ts assertnotcomplete ts asserterror testexception class 
testhelper witherrortracking errors flowable integer source flowable integer error new ioexception replay autoconnect testsubscriber integer ts new testsubscriber integer override public void onerror throwable t super onerror t throw new testexception source subscribe ts ts assertfailure ioexception class testhelper assertundeliverable errors 0 testexception class 
testhelper witherrortracking errors flowable integer source flowable integer empty replay autoconnect testsubscriber integer ts new testsubscriber integer override public void oncomplete super oncomplete throw new testexception source subscribe ts ts assertresult testhelper assertundeliverable errors 0 testexception class 
publishprocessor integer source publishprocessor create final list long requests new arraylist flowable integer out source doonrequest new longconsumer override public void accept long t requests add t replay autoconnect testsubscriber integer ts1 new testsubscriber 5l testsubscriber integer ts2 new testsubscriber 10l out subscribe ts1 out subscribe ts2 ts2 cancel assert assertequals arrays aslist 5l 5l requests 
connectableflowable integer source flowable range 1 10 replay 1 source connect testsubscriber integer ts1 new testsubscriber 2l source subscribe ts1 ts1 assertvalues 1 2 ts1 assertnoerrors ts1 cancel testsubscriber integer ts2 new testsubscriber 2l source subscribe ts2 ts2 assertvalues 2 3 ts2 assertnoerrors ts2 cancel testsubscriber integer ts21 new testsubscriber 1l source subscribe ts21 ts21 assertvalues 3 ts21 assertnoerrors ts21 cancel testsubscriber integer ts22 new testsubscriber 1l source subscribe ts22 ts22 assertvalues 3 ts22 assertnoerrors ts22 cancel testsubscriber integer ts3 new testsubscriber source subscribe ts3 ts3 assertnoerrors system out println ts3 values ts3 assertvalues 3 4 5 6 7 8 9 10 ts3 assertcomplete 
connectableflowable integer source flowable range 1 10 replay 2 source connect testsubscriber integer ts1 new testsubscriber 2l source subscribe ts1 ts1 assertvalues 1 2 ts1 assertnoerrors ts1 cancel testsubscriber integer ts11 new testsubscriber 2l source subscribe ts11 ts11 assertvalues 1 2 ts11 assertnoerrors ts11 cancel testsubscriber integer ts2 new testsubscriber 3l source subscribe ts2 ts2 assertvalues 1 2 3 ts2 assertnoerrors ts2 cancel testsubscriber integer ts21 new testsubscriber 1l source subscribe ts21 ts21 assertvalues 2 ts21 assertnoerrors ts21 cancel testsubscriber integer ts22 new testsubscriber 1l source subscribe ts22 ts22 assertvalues 2 ts22 assertnoerrors ts22 cancel testsubscriber integer ts3 new testsubscriber source subscribe ts3 ts3 assertnoerrors system out println ts3 values ts3 assertvalues 2 3 4 5 6 7 8 9 10 ts3 assertcomplete 
flowable just 1 replay 1 timeunit minutes autoconnect test awaitdone 5 timeunit seconds assertresult 1 
flowable just 1 replay 1 1 timeunit milliseconds autoconnect test awaitdone 5 timeunit seconds assertresult 1 
flowable just 1 replay functions flowable integer identity 1 timeunit minutes test awaitdone 5 timeunit seconds assertresult 1 
flowable integer source flowable range 1 3 assertsame source hasupstreampublisher source replay source 
for int i 0 i testhelper race default loops i final connectableflowable integer cf flowable range 1 3 replay runnable r new runnable override public void run cf connect testhelper race r r 
for int i 0 i testhelper race default loops i final connectableflowable integer cf flowable range 1 3 replay final testsubscriber integer ts1 new testsubscriber final testsubscriber integer ts2 new testsubscriber runnable r1 new runnable override public void run cf subscribe ts1 runnable r2 new runnable override public void run cf subscribe ts2 testhelper race r1 r2 
for int i 0 i testhelper race default loops i final connectableflowable integer cf flowable range 1 3 replay final testsubscriber integer ts1 new testsubscriber final testsubscriber integer ts2 new testsubscriber cf subscribe ts1 runnable r1 new runnable override public void run ts1 cancel runnable r2 new runnable override public void run cf subscribe ts2 testhelper race r1 r2 
flowable range 1 2 replay integer max value autoconnect test long max value true assertempty 
connectableflowable integer cf publishprocessor integer create replay integer max value cf test cf autoconnect test long max value true assertempty 
connectableflowable integer cf flowable range 1 2 replay try cf connect new consumer disposable override public void accept disposable t throws exception throw new testexception fail should have thrown catch testexception ex cf test assertempty cancel cf connect cf test assertresult 1 2 
list throwable errors testhelper trackpluginerrors try new flowable integer override protected void subscribeactual subscriber super integer subscriber subscriber onsubscribe new booleansubscription subscriber onerror new testexception first subscriber onnext 1 subscriber onerror new testexception second subscriber oncomplete replay autoconnect to testhelper integer testconsumer testexception class first testhelper assertundeliverable errors 0 testexception class second finally rxjavaplugins reset 
for int i 0 i testhelper race default loops i final publishprocessor integer pp publishprocessor create final connectableflowable integer cf pp replay final testsubscriber integer ts1 new testsubscriber runnable r1 new runnable override public void run cf subscribe ts1 runnable r2 new runnable override public void run for int j 0 j 1000 j pp onnext j testhelper race r1 r2 
for int i 0 i testhelper race default loops i final publishprocessor integer pp publishprocessor create final connectableflowable integer cf pp replay final testsubscriber integer ts1 new testsubscriber cf subscribe ts1 runnable r1 new runnable override public void run ts1 cancel runnable r2 new runnable override public void run for int j 0 j 1000 j pp onnext j testhelper race r1 r2 
for int i 0 i testhelper race default loops i final connectableflowable integer cf flowable range 1 1000 replay final testsubscriber integer ts1 new testsubscriber cf connect runnable r1 new runnable override public void run cf subscribe ts1 runnable r2 new runnable override public void run ts1 cancel testhelper race r1 r2 
final publishprocessor integer pp publishprocessor create testsubscriber integer ts new testsubscriber integer override public void onnext integer t if t 1 pp onnext 2 pp oncomplete super onnext t pp replay autoconnect subscribe ts pp onnext 1 ts assertresult 1 2 
final publishprocessor integer pp publishprocessor create testsubscriber integer ts new testsubscriber integer override public void onnext integer t if t 1 pp onnext 2 pp oncomplete super onnext t pp replay 10 autoconnect subscribe ts pp onnext 1 ts assertresult 1 2 
final publishprocessor integer pp publishprocessor create testsubscriber integer ts new testsubscriber integer override public void onnext integer t if t 1 pp onnext 2 cancel super onnext t pp replay autoconnect subscribe ts pp onnext 1 ts assertvalues 1 
final publishprocessor integer pp publishprocessor create testsubscriber integer ts new testsubscriber integer override public void onnext integer t if t 1 pp onnext 2 cancel super onnext t pp replay 10 autoconnect subscribe ts pp onnext 1 ts assertvalues 1 
flowable range 1 2 replay integer max value autoconnect test assertresult 1 2 
testscheduler test new testscheduler integer buf new 2 2000 timeunit milliseconds test false assert assertfalse buf hascompleted assert assertfalse buf haserror list integer values new arraylist buf next 1 test advancetimeby 1 timeunit seconds buf next 2 test advancetimeby 1 timeunit seconds buf collect values assert assertequals arrays aslist 2 values buf next 3 buf next 4 values clear buf collect values assert assertequals arrays aslist 3 4 values test advancetimeby 2 timeunit seconds buf next 5 values clear buf collect values assert assertequals arrays aslist 5 values assert assertfalse buf hascompleted assert assertfalse buf haserror test advancetimeby 2 timeunit seconds buf error new testexception values clear buf collect values assert asserttrue values isempty assert assertequals 1 buf size assert assertfalse buf hascompleted assert asserttrue buf haserror 
integer buf new 2 false list integer values new arraylist buf next 1 buf next 2 buf collect values assert assertequals arrays aslist 1 2 values buf next 3 buf next 4 values clear buf collect values assert assertequals arrays aslist 3 4 values buf next 5 values clear buf collect values assert assertequals arrays aslist 4 5 values assert assertfalse buf hascompleted buf complete values clear buf collect values assert assertequals arrays aslist 4 5 values assert assertequals 3 buf size assert asserttrue buf hascompleted assert assertfalse buf haserror 
final subscriber sub null new flowable integer override protected void subscribeactual subscriber super integer s sub 0 s replay connect dispose booleansubscription bs new booleansubscription sub 0 onsubscribe bs asserttrue bs iscancelled 
testscheduler scheduler new testscheduler flowable integer source flowable just 1 replay 2 timeunit seconds scheduler autoconnect source test assertresult 1 source test assertresult 1 scheduler advancetimeby 3 timeunit seconds source test assertresult 
flowablereplay multicastselector new supplier connectableflowable object override public connectableflowable object get throws exception throw new testexception functions flowable object identity test assertfailure testexception class 
testhelper flowable never replay 
publishprocessor integer source publishprocessor create flowablereplay integer co flowablereplay integer source replay 1 co test co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 source onnext 2 source oncomplete assertnull buf get value object o buf get buf trimhead assertsame o buf get 
publishprocessor integer source publishprocessor create flowablereplay integer co flowablereplay integer source replay 1 co test co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 source onnext 2 source onerror new testexception assertnull buf get value object o buf get buf trimhead assertsame o buf get 
publishprocessor integer source publishprocessor create flowablereplay integer co flowablereplay integer source replay 1 co test co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 source onnext 2 assertnotnull buf get value buf trimhead assertnull buf get value object o buf get buf trimhead assertsame o buf get 
publishprocessor integer source publishprocessor create flowablereplay integer co flowablereplay integer source replay 1 timeunit minutes schedulers computation co test co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 source onnext 2 source oncomplete assertnull buf get value object o buf get buf trimhead assertsame o buf get 
publishprocessor integer source publishprocessor create flowablereplay integer co flowablereplay integer source replay 1 timeunit minutes schedulers computation co test co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 source onnext 2 source onerror new testexception assertnull buf get value object o buf get buf trimhead assertsame o buf get 
testscheduler sch new testscheduler publishprocessor integer source publishprocessor create flowablereplay integer co flowablereplay integer source replay 1 timeunit milliseconds sch co test co connect boundedreplaybuffer integer buf boundedreplaybuffer integer co current get buffer source onnext 1 sch advancetimeby 2 timeunit milliseconds source onnext 2 assertnotnull buf get value buf trimhead assertnull buf get value object o buf get buf trimhead assertsame o buf get 
flowablereplay create flowable just 1 new supplier replaybuffer integer override public replaybuffer integer get throws exception throw new testexception connect 
flowablereplay create flowable just 1 new supplier replaybuffer integer override public replaybuffer integer get throws exception throw new testexception test assertfailure testexception class 
flowable byte source flowable range 1 200 map new function integer byte override public byte apply integer v throws exception return new byte 1024 1024 replay new function flowable byte publisher byte override public publisher byte apply final flowable byte f throws exception return f take 1 concatmap new function byte publisher byte override public publisher byte apply byte v throws exception return f 1 takelast 1 system out println bounded replay leak check wait before gc thread sleep 1000 system out println bounded replay leak check gc system gc thread sleep 500 final memorymxbean memorymxbean managementfactory getmemorymxbean memoryusage memheap memorymxbean getheapmemoryusage long initial memheap getused system out printf bounded replay leak check starting 3f mb n initial 1024 0 1024 0 final atomiclong after new atomiclong source subscribe new consumer byte override public void accept byte v throws exception system out println bounded replay leak check wait before gc 2 thread sleep 1000 system out println bounded replay leak check gc 2 system gc thread sleep 500 after set memorymxbean getheapmemoryusage getused system out printf bounded replay leak check after 3f mb n after get 1024 0 1024 0 if initial 100 1024 1024 after get assert fail bounded replay leak check memory leak detected initial 1024 0 1024 0 after get 1024 0 1024 0 
final atomicinteger count new atomicinteger flowable integer source flowable range 1 100 doonnext new consumer integer override public void accept integer t count getandincrement replay 1000 autoconnect testsubscriber integer ts new testsubscriber integer override public void onnext integer t throw new testexception source subscribe ts assert assertequals 100 count get ts assertnovalues ts assertnotcomplete ts asserterror testexception class 
testhelper witherrortracking errors flowable integer source flowable integer error new ioexception replay 1000 autoconnect testsubscriber integer ts new testsubscriber integer override public void onerror throwable t super onerror t throw new testexception source subscribe ts ts assertfailure ioexception class testhelper assertundeliverable errors 0 testexception class 
testhelper witherrortracking errors flowable integer source flowable integer empty replay 1000 autoconnect testsubscriber integer ts new testsubscriber integer override public void oncomplete super oncomplete throw new testexception source subscribe ts ts assertresult testhelper assertundeliverable errors 0 testexception class 
connectableflowable object cf flowable never replay cf connect cf connect d throw new testexception 
connectableflowable object cf flowable never replay cf reset 
connectableflowable object cf flowable never replay cf connect cf reset 
atomicreference subscriber super integer ref new atomicreference flowable integer f flowable integer unsafecreate ref set testsubscriber integer ts f replay autoconnect test atomiclong requested new atomiclong ref get onsubscribe new subscription override public void request long n backpressurehelper add requested n override public void cancel assertequals long max value requested get ref get oncomplete ts assertresult 
publishprocessor integer pp publishprocessor create connectableflowable integer cf pp replay testsubscriber integer ts cf test disposable d cf connect pp onnext 1 d dispose ts cf test ts assertempty cf connect ts assertempty pp onnext 2 ts assertvaluesonly 2 
publishprocessor integer pp publishprocessor create connectableflowable integer cf pp replay 10 testsubscriber integer ts cf test disposable d cf connect pp onnext 1 d dispose ts cf test ts assertempty cf connect ts assertempty pp onnext 2 ts assertvaluesonly 2 
publishprocessor integer pp publishprocessor create connectableflowable integer cf pp replay 10 timeunit minutes testsubscriber integer ts cf test disposable d cf connect pp onnext 1 d dispose ts cf test ts assertempty cf connect ts assertempty pp onnext 2 ts assertvaluesonly 2 
publishprocessor integer pp publishprocessor create connectableflowable integer cf pp replay 10 10 timeunit minutes testsubscriber integer ts cf test disposable d cf connect pp onnext 1 d dispose ts cf test ts assertempty cf connect ts assertempty pp onnext 2 ts assertvaluesonly 2 
supplier flowable string factory mock supplier class flowable string firstobservable flowable just one two flowable string secondobservable flowable just three four when factory get thenreturn firstobservable secondobservable flowable string deferred flowable defer factory verifynointeractions factory subscriber string firstsubscriber testhelper mocksubscriber deferred subscribe firstsubscriber verify factory times 1 get verify firstsubscriber times 1 onnext one verify firstsubscriber times 1 onnext two verify firstsubscriber times 0 onnext three verify firstsubscriber times 0 onnext four verify firstsubscriber times 1 oncomplete subscriber string secondsubscriber testhelper mocksubscriber deferred subscribe secondsubscriber verify factory times 2 get verify secondsubscriber times 0 onnext one verify secondsubscriber times 0 onnext two verify secondsubscriber times 1 onnext three verify secondsubscriber times 1 onnext four verify secondsubscriber times 1 oncomplete 
supplier flowable string factory mock supplier class when factory get thenthrow new testexception flowable string result flowable defer factory subscriber string subscriber testhelper mocksubscriber result subscribe subscriber verify subscriber onerror any testexception class verify subscriber never onnext any string class verify subscriber never oncomplete 
flowable boolean flowable flowable sequenceequal flowable just one two three flowable just one two three toflowable verifyresult flowable true 
flowable boolean flowable flowable sequenceequal flowable just one two three flowable just one two three four toflowable verifyresult flowable false 
flowable boolean flowable flowable sequenceequal flowable just one two three four flowable just one two three toflowable verifyresult flowable false 
flowable boolean flowable flowable sequenceequal flowable concat flowable just one flowable string error new testexception flowable just one two three toflowable verifyerror flowable 
